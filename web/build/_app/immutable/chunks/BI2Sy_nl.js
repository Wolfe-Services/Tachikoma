import{S as qe,i as ze,s as Ge,d as J,q as Vt,v as Qe,ak as $t,a7 as Ue,a as g,a8 as We,r as ye,u as ge,x as Bt,y as At,z as Ot,Q as Xe,R as Ye,c as oe,j as u,a0 as le,b as h,e as v,C as m,g as S,U as N,D as p,W as j,n as Ee,t as Te,$ as ce,H as G,I as Q,O as Pe,ad as Et,V as fe,a3 as Ze,ac as Ct,ah as St,af as Je,a4 as Tt,al as Pt,a9 as es,E as ts,P as Nt,X as Ft,am as jt,Y as Lt,Z as Ut,_ as Mt,a1 as ss,w as Me,a2 as ns}from"./Dt7tia83.js";const qt="src/lib/components/ui/Tooltip/Tooltip.svelte",ls=t=>({}),Dt=t=>({});function Ke(t){let e,s,n,a,c;const r=[Gt,zt],o=[];function l(i,d){return i[5].content?0:1}s=l(t),n=o[s]=r[s](t);const f={c:function(){e=p("div"),n.c(),this.h()},l:function(d){e=m(d,"DIV",{class:!0});var y=S(e);n.l(y),y.forEach(g),this.h()},h:function(){h(e,"class",a="tooltip tooltip--"+t[1]+" svelte-1901qka"),Te(e,"tooltip--visible",t[2]),v(e,qt,39,4,740)},m:function(d,y){oe(d,e,y),o[s].m(e,null),c=!0},p:function(d,y){let E=s;s=l(d),s===E?o[s].p(d,y):(Xe(),ye(o[E],1,1,()=>{o[E]=null}),Ye(),n=o[s],n?n.p(d,y):(n=o[s]=r[s](d),n.c()),ge(n,1),n.m(e,null)),(!c||y&2&&a!==(a="tooltip tooltip--"+d[1]+" svelte-1901qka"))&&h(e,"class",a),(!c||y&6)&&Te(e,"tooltip--visible",d[2])},i:function(d){c||(ge(n),c=!0)},o:function(d){ye(n),c=!1},d:function(d){d&&g(e),o[s].d()}};return J("SvelteRegisterBlock",{block:f,id:Ke.name,type:"if",source:"(33:2) {#if showTooltip && (text || $$slots.content)}",ctx:t}),f}function zt(t){let e;const s={c:function(){e=Q(t[0])},l:function(a){e=G(a,t[0])},m:function(a,c){oe(a,e,c)},p:function(a,c){c&1&&ce(e,a[0])},i:Ee,o:Ee,d:function(a){a&&g(e)}};return J("SvelteRegisterBlock",{block:s,id:zt.name,type:"else",source:"(40:6) {:else}",ctx:t}),s}function Gt(t){let e;const s=t[8].content,n=Vt(s,t,t[7],Dt),a={c:function(){n&&n.c()},l:function(r){n&&n.l(r)},m:function(r,o){n&&n.m(r,o),e=!0},p:function(r,o){n&&n.p&&(!e||o&128)&&Bt(n,s,r,r[7],e?Ot(s,r[7],o,ls):At(r[7]),Dt)},i:function(r){e||(ge(n,r),e=!0)},o:function(r){ye(n,r),e=!1},d:function(r){n&&n.d(r)}};return J("SvelteRegisterBlock",{block:a,id:Gt.name,type:"if",source:"(38:6) {#if $$slots.content}",ctx:t}),a}function xe(t){let e,s,n,a,c;const r=t[8].default,o=Vt(r,t,t[7],null);let l=t[2]&&(t[0]||t[5].content)&&Ke(t);const f={c:function(){e=p("div"),o&&o.c(),s=j(),l&&l.c(),this.h()},l:function(d){e=m(d,"DIV",{class:!0,role:!0});var y=S(e);o&&o.l(y),s=N(y),l&&l.l(y),y.forEach(g),this.h()},h:function(){h(e,"class","tooltip-container svelte-1901qka"),h(e,"role","tooltip"),v(e,qt,28,0,492)},m:function(d,y){oe(d,e,y),o&&o.m(e,null),u(e,s),l&&l.m(e,null),n=!0,a||(c=[le(e,"mouseenter",t[3],!1,!1,!1,!1),le(e,"mouseleave",t[4],!1,!1,!1,!1),le(e,"focus",t[3],!1,!1,!1,!1),le(e,"blur",t[4],!1,!1,!1,!1)],a=!0)},p:function(d,[y]){o&&o.p&&(!n||y&128)&&Bt(o,r,d,d[7],n?Ot(r,d[7],y,null):At(d[7]),null),d[2]&&(d[0]||d[5].content)?l?(l.p(d,y),y&37&&ge(l,1)):(l=Ke(d),l.c(),ge(l,1),l.m(e,null)):l&&(Xe(),ye(l,1,1,()=>{l=null}),Ye())},i:function(d){n||(ge(o,d),ge(l),n=!0)},o:function(d){ye(o,d),ye(l),n=!1},d:function(d){d&&g(e),o&&o.d(d),l&&l.d(),a=!1,We(c)}};return J("SvelteRegisterBlock",{block:f,id:xe.name,type:"component",source:"",ctx:t}),f}function os(t,e,s){let{$$slots:n={},$$scope:a}=e;Qe("Tooltip",n,["default","content"]);const c=$t(n);let{text:r=""}=e,{position:o="top"}=e,{delay:l=500}=e,f=!1,i=null;const d=Ue();function y(){i=setTimeout(()=>{s(2,f=!0),d("show")},l)}function E(){i&&clearTimeout(i),s(2,f=!1),d("hide")}const D=["text","position","delay"];return Object.keys(e).forEach(k=>{!~D.indexOf(k)&&k.slice(0,2)}),t.$$set=k=>{"text"in k&&s(0,r=k.text),"position"in k&&s(1,o=k.position),"delay"in k&&s(6,l=k.delay),"$$scope"in k&&s(7,a=k.$$scope)},t.$capture_state=()=>({createEventDispatcher:Ue,text:r,position:o,delay:l,showTooltip:f,timeoutId:i,dispatch:d,handleMouseEnter:y,handleMouseLeave:E}),t.$inject_state=k=>{"text"in k&&s(0,r=k.text),"position"in k&&s(1,o=k.position),"delay"in k&&s(6,l=k.delay),"showTooltip"in k&&s(2,f=k.showTooltip),"timeoutId"in k&&(i=k.timeoutId)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,o,f,y,E,c,l,a,n]}class is extends qe{constructor(e){super(e),ze(this,e,os,xe,Ge,{text:0,position:1,delay:6}),J("SvelteRegisterComponent",{component:this,tagName:"Tooltip",options:e,id:xe.name})}get text(){throw new Error("<Tooltip>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set text(e){throw new Error("<Tooltip>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get position(){throw new Error("<Tooltip>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set position(e){throw new Error("<Tooltip>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get delay(){throw new Error("<Tooltip>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set delay(e){throw new Error("<Tooltip>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const R="src/lib/components/mission/HistoryCard.svelte";function It(t,e,s){const n=t.slice();return n[12]=e[s],n}function $e(t){let e,s,n=Pe(t[1].tags.slice(0,3)),a=[];for(let o=0;o<n.length;o+=1)a[o]=et(It(t,n,o));let c=t[1].tags.length>3&&tt(t);const r={c:function(){e=p("div");for(let l=0;l<a.length;l+=1)a[l].c();s=j(),c&&c.c(),this.h()},l:function(l){e=m(l,"DIV",{class:!0});var f=S(e);for(let i=0;i<a.length;i+=1)a[i].l(f);s=N(f),c&&c.l(f),f.forEach(g),this.h()},h:function(){h(e,"class","history-card__tags svelte-n30iok"),v(e,R,113,6,2698)},m:function(l,f){oe(l,e,f);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null);u(e,s),c&&c.m(e,null)},p:function(l,f){if(f&2){n=Pe(l[1].tags.slice(0,3));let i;for(i=0;i<n.length;i+=1){const d=It(l,n,i);a[i]?a[i].p(d,f):(a[i]=et(d),a[i].c(),a[i].m(e,s))}for(;i<a.length;i+=1)a[i].d(1);a.length=n.length}l[1].tags.length>3?c?c.p(l,f):(c=tt(l),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d:function(l){l&&g(e),Ze(a,l),c&&c.d()}};return J("SvelteRegisterBlock",{block:r,id:$e.name,type:"if",source:"(104:4) {#if entry.tags.length > 0}",ctx:t}),r}function et(t){let e,s=t[12]+"",n;const a={c:function(){e=p("span"),n=Q(s),this.h()},l:function(r){e=m(r,"SPAN",{class:!0});var o=S(e);n=G(o,s),o.forEach(g),this.h()},h:function(){h(e,"class","tag svelte-n30iok"),v(e,R,115,10,2787)},m:function(r,o){oe(r,e,o),u(e,n)},p:function(r,o){o&2&&s!==(s=r[12]+"")&&ce(n,s)},d:function(r){r&&g(e)}};return J("SvelteRegisterBlock",{block:a,id:et.name,type:"each",source:"(106:8) {#each entry.tags.slice(0, 3) as tag}",ctx:t}),a}function tt(t){let e,s,n=t[1].tags.length-3+"",a;const c={c:function(){e=p("span"),s=Q("+"),a=Q(n),this.h()},l:function(o){e=m(o,"SPAN",{class:!0});var l=S(e);s=G(l,"+"),a=G(l,n),l.forEach(g),this.h()},h:function(){h(e,"class","tag tag--more svelte-n30iok"),v(e,R,118,10,2880)},m:function(o,l){oe(o,e,l),u(e,s),u(e,a)},p:function(o,l){l&2&&n!==(n=o[1].tags.length-3+"")&&ce(a,n)},d:function(o){o&&g(e)}};return J("SvelteRegisterBlock",{block:c,id:tt.name,type:"if",source:"(109:8) {#if entry.tags.length > 3}",ctx:t}),c}function st(t){let e,s,n,a="Mission Preview",c,r,o,l,f="Prompt:",i,d=t[1].prompt+"",y,E,D,k,H="Duration:",b,w=Ie(t[1].duration)+"",U,Z,F,A,_="Cost:",V,ne=Re(t[1].cost)+"",ue,W,T,ee,X="Tokens Used:",Y,re=t[1].tokensUsed.toLocaleString()+"",P,O,B,M,se="Files Changed:",L,I=t[1].filesChanged+"",K,C,q=t[1].tags.length>0&&nt(t);const pe={c:function(){e=p("div"),s=p("div"),n=p("h4"),n.textContent=a,c=j(),r=p("div"),o=p("p"),l=p("strong"),l.textContent=f,i=j(),y=Q(d),E=j(),D=p("p"),k=p("strong"),k.textContent=H,b=j(),U=Q(w),Z=j(),F=p("p"),A=p("strong"),A.textContent=_,V=j(),ue=Q(ne),W=j(),T=p("p"),ee=p("strong"),ee.textContent=X,Y=j(),P=Q(re),O=j(),B=p("p"),M=p("strong"),M.textContent=se,L=j(),K=Q(I),C=j(),q&&q.c(),this.h()},l:function(z){e=m(z,"DIV",{class:!0});var x=S(e);s=m(x,"DIV",{class:!0});var ke=S(s);n=m(ke,"H4",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1v6m8wc"&&(n.textContent=a),c=N(ke),r=m(ke,"DIV",{class:!0});var ae=S(r);o=m(ae,"P",{class:!0});var ie=S(o);l=m(ie,"STRONG",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-1icfoay"&&(l.textContent=f),i=N(ie),y=G(ie,d),ie.forEach(g),E=N(ae),D=m(ae,"P",{class:!0});var be=S(D);k=m(be,"STRONG",{class:!0,"data-svelte-h":!0}),fe(k)!=="svelte-1on1bp8"&&(k.textContent=H),b=N(be),U=G(be,w),be.forEach(g),Z=N(ae),F=m(ae,"P",{class:!0});var we=S(F);A=m(we,"STRONG",{class:!0,"data-svelte-h":!0}),fe(A)!=="svelte-fhmlx1"&&(A.textContent=_),V=N(we),ue=G(we,ne),we.forEach(g),W=N(ae),T=m(ae,"P",{class:!0});var Ce=S(T);ee=m(Ce,"STRONG",{class:!0,"data-svelte-h":!0}),fe(ee)!=="svelte-1swftaz"&&(ee.textContent=X),Y=N(Ce),P=G(Ce,re),Ce.forEach(g),O=N(ae),B=m(ae,"P",{class:!0});var Se=S(B);M=m(Se,"STRONG",{class:!0,"data-svelte-h":!0}),fe(M)!=="svelte-1o894jr"&&(M.textContent=se),L=N(Se),K=G(Se,I),Se.forEach(g),C=N(ae),q&&q.l(ae),ae.forEach(g),ke.forEach(g),x.forEach(g),this.h()},h:function(){h(n,"class","svelte-n30iok"),v(n,R,144,8,3655),h(l,"class","svelte-n30iok"),v(l,R,146,13,3731),h(o,"class","svelte-n30iok"),v(o,R,146,10,3728),h(k,"class","svelte-n30iok"),v(k,R,147,13,3788),h(D,"class","svelte-n30iok"),v(D,R,147,10,3785),h(A,"class","svelte-n30iok"),v(A,R,148,13,3865),h(F,"class","svelte-n30iok"),v(F,R,148,10,3862),h(ee,"class","svelte-n30iok"),v(ee,R,149,13,3930),h(T,"class","svelte-n30iok"),v(T,R,149,10,3927),h(M,"class","svelte-n30iok"),v(M,R,150,13,4013),h(B,"class","svelte-n30iok"),v(B,R,150,10,4010),h(r,"class","preview-details svelte-n30iok"),v(r,R,145,8,3688),h(s,"class","preview-content svelte-n30iok"),v(s,R,143,6,3617),h(e,"class","history-card__preview svelte-n30iok"),v(e,R,142,4,3575)},m:function(z,x){oe(z,e,x),u(e,s),u(s,n),u(s,c),u(s,r),u(r,o),u(o,l),u(o,i),u(o,y),u(r,E),u(r,D),u(D,k),u(D,b),u(D,U),u(r,Z),u(r,F),u(F,A),u(F,V),u(F,ue),u(r,W),u(r,T),u(T,ee),u(T,Y),u(T,P),u(r,O),u(r,B),u(B,M),u(B,L),u(B,K),u(r,C),q&&q.m(r,null)},p:function(z,x){x&2&&d!==(d=z[1].prompt+"")&&ce(y,d),x&2&&w!==(w=Ie(z[1].duration)+"")&&ce(U,w),x&2&&ne!==(ne=Re(z[1].cost)+"")&&ce(ue,ne),x&2&&re!==(re=z[1].tokensUsed.toLocaleString()+"")&&ce(P,re),x&2&&I!==(I=z[1].filesChanged+"")&&ce(K,I),z[1].tags.length>0?q?q.p(z,x):(q=nt(z),q.c(),q.m(r,null)):q&&(q.d(1),q=null)},d:function(z){z&&g(e),q&&q.d()}};return J("SvelteRegisterBlock",{block:pe,id:st.name,type:"if",source:"(133:2) {#if showPreview}",ctx:t}),pe}function nt(t){let e,s,n="Tags:",a,c=t[1].tags.join(", ")+"",r;const o={c:function(){e=p("p"),s=p("strong"),s.textContent=n,a=j(),r=Q(c),this.h()},l:function(f){e=m(f,"P",{class:!0});var i=S(e);s=m(i,"STRONG",{class:!0,"data-svelte-h":!0}),fe(s)!=="svelte-94f2ex"&&(s.textContent=n),a=N(i),r=G(i,c),i.forEach(g),this.h()},h:function(){h(s,"class","svelte-n30iok"),v(s,R,152,15,4123),h(e,"class","svelte-n30iok"),v(e,R,152,12,4120)},m:function(f,i){oe(f,e,i),u(e,s),u(e,a),u(e,r)},p:function(f,i){i&2&&c!==(c=f[1].tags.join(", ")+"")&&ce(r,c)},d:function(f){f&&g(e)}};return J("SvelteRegisterBlock",{block:o,id:nt.name,type:"if",source:"(143:10) {#if entry.tags.length > 0}",ctx:t}),o}function lt(t){let e,s,n,a,c,r,o,l,f,i=(t[1].title||"Untitled Mission")+"",d,y,E,D=t[1].state+"",k,H,b,w=ot(t[1].createdAt)+"",U,Z,F,A,_=(t[1].prompt.length>100?t[1].prompt.slice(0,100)+"...":t[1].prompt)+"",V,ne,ue,W,T,ee,X,Y="Duration:",re,P,O=Ie(t[1].duration)+"",B,M,se,L,I="Cost:",K,C,q=Re(t[1].cost)+"",pe,ve,z,x,ke="Files:",ae,ie,be=t[1].filesChanged+"",we,Ce,Se,ht,de=t[1].tags.length>0&&$e(t),he=t[3]&&st(t);const _t={c:function(){e=p("div"),s=p("div"),n=p("label"),a=p("input"),c=j(),r=p("span"),o=j(),l=p("div"),f=p("h3"),d=Q(i),y=j(),E=p("span"),k=Q(D),H=j(),b=p("div"),U=Q(w),Z=j(),F=p("div"),A=p("p"),V=Q(_),ne=j(),de&&de.c(),ue=j(),W=p("div"),T=p("div"),ee=p("span"),X=p("span"),X.textContent=Y,re=j(),P=p("span"),B=Q(O),M=j(),se=p("span"),L=p("span"),L.textContent=I,K=j(),C=p("span"),pe=Q(q),ve=j(),z=p("span"),x=p("span"),x.textContent=ke,ae=j(),ie=p("span"),we=Q(be),Ce=j(),he&&he.c(),this.h()},l:function($){e=m($,"DIV",{class:!0,role:!0,tabindex:!0});var te=S(e);s=m(te,"DIV",{class:!0});var Ne=S(s);n=m(Ne,"LABEL",{class:!0});var He=S(n);a=m(He,"INPUT",{type:!0,class:!0}),c=N(He),r=m(He,"SPAN",{class:!0}),S(r).forEach(g),He.forEach(g),o=N(Ne),l=m(Ne,"DIV",{class:!0});var Ve=S(l);f=m(Ve,"H3",{class:!0});var vt=S(f);d=G(vt,i),vt.forEach(g),y=N(Ve),E=m(Ve,"SPAN",{class:!0,style:!0});var mt=S(E);k=G(mt,D),mt.forEach(g),Ve.forEach(g),H=N(Ne),b=m(Ne,"DIV",{class:!0});var pt=S(b);U=G(pt,w),pt.forEach(g),Ne.forEach(g),Z=N(te),F=m(te,"DIV",{class:!0});var Be=S(F);A=m(Be,"P",{class:!0});var gt=S(A);V=G(gt,_),gt.forEach(g),ne=N(Be),de&&de.l(Be),Be.forEach(g),ue=N(te),W=m(te,"DIV",{class:!0});var yt=S(W);T=m(yt,"DIV",{class:!0});var je=S(T);ee=m(je,"SPAN",{class:!0});var Ae=S(ee);X=m(Ae,"SPAN",{class:!0,"data-svelte-h":!0}),fe(X)!=="svelte-gjsv2t"&&(X.textContent=Y),re=N(Ae),P=m(Ae,"SPAN",{class:!0});var kt=S(P);B=G(kt,O),kt.forEach(g),Ae.forEach(g),M=N(je),se=m(je,"SPAN",{class:!0});var Oe=S(se);L=m(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),fe(L)!=="svelte-1dg7l78"&&(L.textContent=I),K=N(Oe),C=m(Oe,"SPAN",{class:!0});var bt=S(C);pe=G(bt,q),bt.forEach(g),Oe.forEach(g),ve=N(je),z=m(je,"SPAN",{class:!0});var Fe=S(z);x=m(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),fe(x)!=="svelte-1wkqas0"&&(x.textContent=ke),ae=N(Fe),ie=m(Fe,"SPAN",{class:!0});var wt=S(ie);we=G(wt,be),wt.forEach(g),Fe.forEach(g),je.forEach(g),yt.forEach(g),Ce=N(te),he&&he.l(te),te.forEach(g),this.h()},h:function(){h(a,"type","checkbox"),h(a,"class","svelte-n30iok"),v(a,R,84,6,1977),h(r,"class","checkmark svelte-n30iok"),v(r,R,89,6,2089),h(n,"class","history-card__checkbox svelte-n30iok"),v(n,R,83,4,1908),h(f,"class","svelte-n30iok"),v(f,R,93,6,2183),h(E,"class","history-card__status svelte-n30iok"),Et(E,"color",it(t[1].state)),v(E,R,94,6,2234),h(l,"class","history-card__title svelte-n30iok"),v(l,R,92,4,2143),h(b,"class","history-card__date svelte-n30iok"),v(b,R,102,4,2395),h(s,"class","history-card__header svelte-n30iok"),v(s,R,82,2,1869),h(A,"class","history-card__prompt svelte-n30iok"),v(A,R,108,4,2527),h(F,"class","history-card__content svelte-n30iok"),v(F,R,107,2,2487),h(X,"class","stat__label svelte-n30iok"),v(X,R,127,8,3096),h(P,"class","stat__value svelte-n30iok"),v(P,R,128,8,3147),h(ee,"class","stat"),v(ee,R,126,6,3068),h(L,"class","stat__label svelte-n30iok"),v(L,R,131,8,3261),h(C,"class","stat__value svelte-n30iok"),v(C,R,132,8,3308),h(se,"class","stat"),v(se,R,130,6,3233),h(x,"class","stat__label svelte-n30iok"),v(x,R,135,8,3414),h(ie,"class","stat__value svelte-n30iok"),v(ie,R,136,8,3462),h(z,"class","stat"),v(z,R,134,6,3386),h(T,"class","history-card__stats svelte-n30iok"),v(T,R,125,4,3028),h(W,"class","history-card__footer svelte-n30iok"),v(W,R,124,2,2989),h(e,"class","history-card svelte-n30iok"),h(e,"role","button"),h(e,"tabindex","0"),Te(e,"history-card--selected",t[0]),Te(e,"history-card--hovered",t[2]),v(e,R,71,0,1571)},m:function($,te){oe($,e,te),u(e,s),u(s,n),u(n,a),a.checked=t[0],u(n,c),u(n,r),u(s,o),u(s,l),u(l,f),u(f,d),u(l,y),u(l,E),u(E,k),u(s,H),u(s,b),u(b,U),u(e,Z),u(e,F),u(F,A),u(A,V),u(F,ne),de&&de.m(F,null),u(e,ue),u(e,W),u(W,T),u(T,ee),u(ee,X),u(ee,re),u(ee,P),u(P,B),u(T,M),u(T,se),u(se,L),u(se,K),u(se,C),u(C,pe),u(T,ve),u(T,z),u(z,x),u(z,ae),u(z,ie),u(ie,we),u(e,Ce),he&&he.m(e,null),Se||(ht=[le(a,"change",t[8]),le(a,"click",t[6],!1,!1,!1,!1),le(n,"click",t[6],!1,!1,!1,!1),le(e,"mouseenter",t[4],!1,!1,!1,!1),le(e,"mouseleave",t[5],!1,!1,!1,!1),le(e,"click",t[7],!1,!1,!1,!1),le(e,"keydown",t[9],!1,!1,!1,!1)],Se=!0)},p:function($,[te]){te&1&&(a.checked=$[0]),te&2&&i!==(i=($[1].title||"Untitled Mission")+"")&&ce(d,i),te&2&&D!==(D=$[1].state+"")&&ce(k,D),te&2&&Et(E,"color",it($[1].state)),te&2&&w!==(w=ot($[1].createdAt)+"")&&ce(U,w),te&2&&_!==(_=($[1].prompt.length>100?$[1].prompt.slice(0,100)+"...":$[1].prompt)+"")&&ce(V,_),$[1].tags.length>0?de?de.p($,te):(de=$e($),de.c(),de.m(F,null)):de&&(de.d(1),de=null),te&2&&O!==(O=Ie($[1].duration)+"")&&ce(B,O),te&2&&q!==(q=Re($[1].cost)+"")&&ce(pe,q),te&2&&be!==(be=$[1].filesChanged+"")&&ce(we,be),$[3]?he?he.p($,te):(he=st($),he.c(),he.m(e,null)):he&&(he.d(1),he=null),te&1&&Te(e,"history-card--selected",$[0]),te&4&&Te(e,"history-card--hovered",$[2])},i:Ee,o:Ee,d:function($){$&&g(e),de&&de.d(),he&&he.d(),Se=!1,We(ht)}};return J("SvelteRegisterBlock",{block:_t,id:lt.name,type:"component",source:"",ctx:t}),_t}function ot(t){return new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Ie(t){if(t<60)return`${t}s`;if(t<3600)return`${Math.floor(t/60)}m ${t%60}s`;const e=Math.floor(t/3600),s=Math.floor(t%3600/60);return`${e}h ${s}m`}function Re(t){return`$${t.toFixed(3)}`}function it(t){switch(t){case"complete":return"var(--color-success)";case"error":return"var(--color-error)";case"running":return"var(--color-info)";default:return"var(--color-text-muted)"}}function rs(t,e,s){let{$$slots:n={},$$scope:a}=e;Qe("HistoryCard",n,[]);let{entry:c}=e,{selected:r=!1}=e;const o=Ue();let l=!1,f=!1,i=null;function d(){s(2,l=!0),i=window.setTimeout(()=>{s(3,f=!0)},500)}function y(){s(2,l=!1),s(3,f=!1),i&&(clearTimeout(i),i=null)}function E(w){w.stopPropagation(),o("select")}function D(){o("open",{entry:c})}t.$$.on_mount.push(function(){c===void 0&&("entry"in e||t.$$.bound[t.$$.props.entry])});const k=["entry","selected"];Object.keys(e).forEach(w=>{!~k.indexOf(w)&&w.slice(0,2)});function H(){r=this.checked,s(0,r)}const b=w=>w.key==="Enter"&&D();return t.$$set=w=>{"entry"in w&&s(1,c=w.entry),"selected"in w&&s(0,r=w.selected)},t.$capture_state=()=>({createEventDispatcher:Ue,Tooltip:is,entry:c,selected:r,dispatch:o,isHovered:l,showPreview:f,previewTimeout:i,handleMouseEnter:d,handleMouseLeave:y,formatDate:ot,formatDuration:Ie,formatCost:Re,getStatusColor:it,handleSelect:E,handleOpen:D}),t.$inject_state=w=>{"entry"in w&&s(1,c=w.entry),"selected"in w&&s(0,r=w.selected),"isHovered"in w&&s(2,l=w.isHovered),"showPreview"in w&&s(3,f=w.showPreview),"previewTimeout"in w&&(i=w.previewTimeout)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,c,l,f,d,y,E,D,H,b]}class Qt extends qe{constructor(e){super(e),ze(this,e,rs,lt,Ge,{entry:1,selected:0}),J("SvelteRegisterComponent",{component:this,tagName:"HistoryCard",options:e,id:lt.name})}get entry(){throw new Error("<HistoryCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set entry(e){throw new Error("<HistoryCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get selected(){throw new Error("<HistoryCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set selected(e){throw new Error("<HistoryCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const _e="src/lib/components/mission/HistoryFilters.svelte";function Rt(t,e,s){const n=t.slice();return n[11]=e[s],n}function Ht(t,e,s){const n=t.slice();return n[14]=e[s],n}function rt(t){let e,s=t[14]+"",n,a,c,r;function o(){return t[6](t[14])}const l={c:function(){e=p("button"),n=Q(s),a=j(),this.h()},l:function(i){e=m(i,"BUTTON",{class:!0});var d=S(e);n=G(d,s),a=N(d),d.forEach(g),this.h()},h:function(){h(e,"class","status-pill svelte-m7y57f"),Te(e,"active",t[0].status?.includes(t[14])),v(e,_e,34,8,902)},m:function(i,d){oe(i,e,d),u(e,n),u(e,a),c||(r=le(e,"click",o,!1,!1,!1,!1),c=!0)},p:function(i,d){t=i,d&5&&Te(e,"active",t[0].status?.includes(t[14]))},d:function(i){i&&g(e),c=!1,r()}};return J("SvelteRegisterBlock",{block:l,id:rt.name,type:"each",source:"(28:6) {#each statusOptions as status}",ctx:t}),l}function at(t){let e,s=t[11].label+"",n;const a={c:function(){e=p("option"),n=Q(s),this.h()},l:function(r){e=m(r,"OPTION",{});var o=S(e);n=G(o,s),o.forEach(g),this.h()},h:function(){e.__value=t[11].value,Je(e,e.__value),v(e,_e,73,10,1908)},m:function(r,o){oe(r,e,o),u(e,n)},p:Ee,d:function(r){r&&g(e)}};return J("SvelteRegisterBlock",{block:a,id:at.name,type:"each",source:"(67:8) {#each sortFields as field}",ctx:t}),a}function Wt(t){let e;const s={c:function(){e=Q("↓")},l:function(a){e=G(a,"↓")},m:function(a,c){oe(a,e,c)},d:function(a){a&&g(e)}};return J("SvelteRegisterBlock",{block:s,id:Wt.name,type:"else",source:"(75:39) {:else}",ctx:t}),s}function Xt(t){let e;const s={c:function(){e=Q("↑")},l:function(a){e=G(a,"↑")},m:function(a,c){oe(a,e,c)},d:function(a){a&&g(e)}};return J("SvelteRegisterBlock",{block:s,id:Xt.name,type:"if",source:"(75:8) {#if sort.direction === 'asc'}",ctx:t}),s}function ct(t){let e,s,n,a="Status",c,r,o,l,f,i="Date Range",d,y,E,D,k,H,b,w,U,Z,F="Sort",A,_,V,ne,ue,W,T,ee,X=Pe(t[2]),Y=[];for(let L=0;L<X.length;L+=1)Y[L]=rt(Ht(t,X,L));let re=Pe(t[3]),P=[];for(let L=0;L<re.length;L+=1)P[L]=at(Rt(t,re,L));function O(L,I){return L[1].direction==="asc"?Xt:Wt}let B=O(t),M=B(t);const se={c:function(){e=p("div"),s=p("div"),n=p("label"),n.textContent=a,c=j(),r=p("div");for(let I=0;I<Y.length;I+=1)Y[I].c();o=j(),l=p("div"),f=p("label"),f.textContent=i,d=j(),y=p("div"),E=p("input"),k=j(),H=p("input"),w=j(),U=p("div"),Z=p("label"),Z.textContent=F,A=j(),_=p("div"),V=p("select");for(let I=0;I<P.length;I+=1)P[I].c();ue=j(),W=p("button"),M.c(),this.h()},l:function(I){e=m(I,"DIV",{class:!0});var K=S(e);s=m(K,"DIV",{class:!0});var C=S(s);n=m(C,"LABEL",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-20nj72"&&(n.textContent=a),c=N(C),r=m(C,"DIV",{class:!0});var q=S(r);for(let ie=0;ie<Y.length;ie+=1)Y[ie].l(q);q.forEach(g),C.forEach(g),o=N(K),l=m(K,"DIV",{class:!0});var pe=S(l);f=m(pe,"LABEL",{class:!0,"data-svelte-h":!0}),fe(f)!=="svelte-cj5yux"&&(f.textContent=i),d=N(pe),y=m(pe,"DIV",{class:!0});var ve=S(y);E=m(ve,"INPUT",{type:!0,placeholder:!0,class:!0}),k=N(ve),H=m(ve,"INPUT",{type:!0,placeholder:!0,class:!0}),ve.forEach(g),pe.forEach(g),w=N(K),U=m(K,"DIV",{class:!0});var z=S(U);Z=m(z,"LABEL",{class:!0,"data-svelte-h":!0}),fe(Z)!=="svelte-1epz4yk"&&(Z.textContent=F),A=N(z),_=m(z,"DIV",{class:!0});var x=S(_);V=m(x,"SELECT",{class:!0});var ke=S(V);for(let ie=0;ie<P.length;ie+=1)P[ie].l(ke);ke.forEach(g),ue=N(x),W=m(x,"BUTTON",{class:!0});var ae=S(W);M.l(ae),ae.forEach(g),x.forEach(g),z.forEach(g),K.forEach(g),this.h()},h:function(){h(n,"class","filter-label svelte-m7y57f"),v(n,_e,31,4,782),h(r,"class","status-pills svelte-m7y57f"),v(r,_e,32,4,829),h(s,"class","filter-group svelte-m7y57f"),v(s,_e,30,2,751),h(f,"class","filter-label svelte-m7y57f"),v(f,_e,47,4,1189),h(E,"type","date"),h(E,"placeholder","From"),E.value=D=t[0].dateFrom||"",h(E,"class","svelte-m7y57f"),v(E,_e,49,6,1271),h(H,"type","date"),h(H,"placeholder","To"),H.value=b=t[0].dateTo||"",h(H,"class","svelte-m7y57f"),v(H,_e,55,6,1443),h(y,"class","date-range svelte-m7y57f"),v(y,_e,48,4,1240),h(l,"class","filter-group svelte-m7y57f"),v(l,_e,46,2,1158),h(Z,"class","filter-label svelte-m7y57f"),v(Z,_e,66,4,1673),h(V,"class","svelte-m7y57f"),v(V,_e,68,6,1752),h(W,"class","sort-direction svelte-m7y57f"),v(W,_e,76,6,1997),h(_,"class","sort-controls svelte-m7y57f"),v(_,_e,67,4,1718),h(U,"class","filter-group svelte-m7y57f"),v(U,_e,65,2,1642),h(e,"class","history-filters svelte-m7y57f"),v(e,_e,28,0,694)},m:function(I,K){oe(I,e,K),u(e,s),u(s,n),u(s,c),u(s,r);for(let C=0;C<Y.length;C+=1)Y[C]&&Y[C].m(r,null);u(e,o),u(e,l),u(l,f),u(l,d),u(l,y),u(y,E),u(y,k),u(y,H),u(e,w),u(e,U),u(U,Z),u(U,A),u(U,_),u(_,V);for(let C=0;C<P.length;C+=1)P[C]&&P[C].m(V,null);St(V,t[1].field),u(_,ue),u(_,W),M.m(W,null),T||(ee=[le(E,"input",t[7],!1,!1,!1,!1),le(H,"input",t[8],!1,!1,!1,!1),le(V,"change",t[9],!1,!1,!1,!1),le(W,"click",t[10],!1,!1,!1,!1)],T=!0)},p:function(I,[K]){if(K&37){X=Pe(I[2]);let C;for(C=0;C<X.length;C+=1){const q=Ht(I,X,C);Y[C]?Y[C].p(q,K):(Y[C]=rt(q),Y[C].c(),Y[C].m(r,null))}for(;C<Y.length;C+=1)Y[C].d(1);Y.length=X.length}if(K&1&&D!==(D=I[0].dateFrom||"")&&Ct(E,"value",D),K&1&&b!==(b=I[0].dateTo||"")&&Ct(H,"value",b),K&8){re=Pe(I[3]);let C;for(C=0;C<re.length;C+=1){const q=Rt(I,re,C);P[C]?P[C].p(q,K):(P[C]=at(q),P[C].c(),P[C].m(V,null))}for(;C<P.length;C+=1)P[C].d(1);P.length=re.length}K&10&&ne!==(ne=I[1].field)&&St(V,I[1].field),B!==(B=O(I))&&(M.d(1),M=B(I),M&&(M.c(),M.m(W,null)))},i:Ee,o:Ee,d:function(I){I&&g(e),Ze(Y,I),Ze(P,I),M.d(),T=!1,We(ee)}};return J("SvelteRegisterBlock",{block:se,id:ct.name,type:"component",source:"",ctx:t}),se}function as(t,e,s){let{$$slots:n={},$$scope:a}=e;Qe("HistoryFilters",n,[]);let{filter:c={}}=e,{sort:r={field:"createdAt",direction:"desc"}}=e;const o=["idle","running","complete","error"],l=[{value:"createdAt",label:"Created"},{value:"duration",label:"Duration"},{value:"cost",label:"Cost"},{value:"title",label:"Title"}];function f(b,w){s(0,c={...c,[b]:w})}function i(b){const w=c.status||[];w.includes(b)?s(0,c.status=w.filter(U=>U!==b),c):s(0,c.status=[...w,b],c)}const d=["filter","sort"];Object.keys(e).forEach(b=>{!~d.indexOf(b)&&b.slice(0,2)});const y=b=>i(b),E=b=>f("dateFrom",b.target.value),D=b=>f("dateTo",b.target.value),k=b=>s(1,r={...r,field:b.target.value}),H=()=>s(1,r={...r,direction:r.direction==="asc"?"desc":"asc"});return t.$$set=b=>{"filter"in b&&s(0,c=b.filter),"sort"in b&&s(1,r=b.sort)},t.$capture_state=()=>({filter:c,sort:r,statusOptions:o,sortFields:l,updateFilter:f,toggleStatus:i}),t.$inject_state=b=>{"filter"in b&&s(0,c=b.filter),"sort"in b&&s(1,r=b.sort)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[c,r,o,l,f,i,y,E,D,k,H]}class Yt extends qe{constructor(e){super(e),ze(this,e,as,ct,Ge,{filter:0,sort:1}),J("SvelteRegisterComponent",{component:this,tagName:"HistoryFilters",options:e,id:ct.name})}get filter(){throw new Error("<HistoryFilters>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set filter(e){throw new Error("<HistoryFilters>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get sort(){throw new Error("<HistoryFilters>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sort(e){throw new Error("<HistoryFilters>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:cs}=es,me="src/lib/components/mission/HistoryView.svelte";function Le(t,e,s){const n=t.slice();return n[17]=e[s],n}function ut(t){let e,s,n=t[3].size+"",a,c,r,o,l="Clear",f,i,d="Select All",y,E,D="Export",k,H,b="Delete",w,U;const Z={c:function(){e=p("div"),s=p("span"),a=Q(n),c=Q(" selected"),r=j(),o=p("button"),o.textContent=l,f=j(),i=p("button"),i.textContent=d,y=j(),E=p("button"),E.textContent=D,k=j(),H=p("button"),H.textContent=b,this.h()},l:function(A){e=m(A,"DIV",{class:!0});var _=S(e);s=m(_,"SPAN",{class:!0});var V=S(s);a=G(V,n),c=G(V," selected"),V.forEach(g),r=N(_),o=m(_,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(o)!=="svelte-gf9vmq"&&(o.textContent=l),f=N(_),i=m(_,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(i)!=="svelte-16n8tdq"&&(i.textContent=d),y=N(_),E=m(_,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(E)!=="svelte-1pcnx22"&&(E.textContent=D),k=N(_),H=m(_,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(H)!=="svelte-zbl18j"&&(H.textContent=b),_.forEach(g),this.h()},h:function(){h(s,"class","svelte-n89vwj"),v(s,me,86,6,2363),h(o,"class","svelte-n89vwj"),v(o,me,87,6,2410),h(i,"class","svelte-n89vwj"),v(i,me,88,6,2465),h(E,"class","svelte-n89vwj"),v(E,me,89,6,2520),h(H,"class","delete-btn svelte-n89vwj"),v(H,me,90,6,2574),h(e,"class","history-view__selection-bar svelte-n89vwj"),v(e,me,85,4,2315)},m:function(A,_){oe(A,e,_),u(e,s),u(s,a),u(s,c),u(e,r),u(e,o),u(e,f),u(e,i),u(e,y),u(e,E),u(e,k),u(e,H),w||(U=[le(o,"click",t[8],!1,!1,!1,!1),le(i,"click",t[7],!1,!1,!1,!1),le(E,"click",t[9],!1,!1,!1,!1),le(H,"click",t[10],!1,!1,!1,!1)],w=!0)},p:function(A,_){_&8&&n!==(n=A[3].size+"")&&ce(a,n)},d:function(A){A&&g(e),w=!1,We(U)}};return J("SvelteRegisterBlock",{block:Z,id:ut.name,type:"if",source:"(70:2) {#if selectedIds.size > 0}",ctx:t}),Z}function Zt(t){let e=[],s=new Map,n,a,c=Pe(t[5]);const r=l=>l[17].id;Nt(t,c,Le,r);for(let l=0;l<c.length;l+=1){let f=Le(t,c,l),i=r(f);s.set(i,e[l]=ft(i,f))}const o={c:function(){for(let f=0;f<e.length;f+=1)e[f].c();n=Me()},l:function(f){for(let i=0;i<e.length;i+=1)e[i].l(f);n=Me()},m:function(f,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(f,i);oe(f,n,i),a=!0},p:function(f,i){i&104&&(c=Pe(f[5]),Xe(),Nt(f,c,Le,r),e=ss(e,i,r,1,f,c,s,n.parentNode,ns,ft,n,Le),Ye())},i:function(f){if(!a){for(let i=0;i<c.length;i+=1)ge(e[i]);a=!0}},o:function(f){for(let i=0;i<e.length;i+=1)ye(e[i]);a=!1},d:function(f){f&&g(n);for(let i=0;i<e.length;i+=1)e[i].d(f)}};return J("SvelteRegisterBlock",{block:o,id:Zt.name,type:"else",source:"(89:4) {:else}",ctx:t}),o}function Jt(t){let e;function s(r,o){return r[0].length===0?xt:Kt}let n=s(t),a=n(t);const c={c:function(){e=p("div"),a.c(),this.h()},l:function(o){e=m(o,"DIV",{class:!0});var l=S(e);a.l(l),l.forEach(g),this.h()},h:function(){h(e,"class","history-view__empty svelte-n89vwj"),v(e,me,96,6,2741)},m:function(o,l){oe(o,e,l),a.m(e,null)},p:function(o,l){n!==(n=s(o))&&(a.d(1),a=n(o),a&&(a.c(),a.m(e,null)))},i:Ee,o:Ee,d:function(o){o&&g(e),a.d()}};return J("SvelteRegisterBlock",{block:c,id:Jt.name,type:"if",source:"(81:4) {#if filteredEntries.length === 0}",ctx:t}),c}function ft(t,e){let s,n,a;function c(){return e[14](e[17])}n=new Qt({props:{entry:e[17],selected:e[3].has(e[17].id)},$$inline:!0}),n.$on("select",c),n.$on("open",us);const r={key:t,first:null,c:function(){s=Me(),Mt(n.$$.fragment),this.h()},l:function(l){s=Me(),Ut(n.$$.fragment,l),this.h()},h:function(){this.first=s},m:function(l,f){oe(l,s,f),Lt(n,l,f),a=!0},p:function(l,f){e=l;const i={};f&32&&(i.entry=e[17]),f&40&&(i.selected=e[3].has(e[17].id)),n.$set(i)},i:function(l){a||(ge(n.$$.fragment,l),a=!0)},o:function(l){ye(n.$$.fragment,l),a=!1},d:function(l){l&&g(s),Ft(n,l)}};return J("SvelteRegisterBlock",{block:r,id:ft.name,type:"each",source:"(90:6) {#each filteredEntries as entry (entry.id)}",ctx:e}),r}function Kt(t){let e;const s={c:function(){e=Q("No missions match your filters.")},l:function(a){e=G(a,"No missions match your filters.")},m:function(a,c){oe(a,e,c)},d:function(a){a&&g(e)}};return J("SvelteRegisterBlock",{block:s,id:Kt.name,type:"else",source:"(85:8) {:else}",ctx:t}),s}function xt(t){let e;const s={c:function(){e=Q("No mission history yet.")},l:function(a){e=G(a,"No mission history yet.")},m:function(a,c){oe(a,e,c)},d:function(a){a&&g(e)}};return J("SvelteRegisterBlock",{block:s,id:xt.name,type:"if",source:"(83:8) {#if entries.length === 0}",ctx:t}),s}function dt(t){let e,s,n,a,c,r,o,l,f,i,d,y,E,D,k,H=t[5].length+"",b,w,U=t[0].length+"",Z,F,A,_,V;function ne(P){t[12](P)}function ue(P){t[13](P)}let W={};t[1]!==void 0&&(W.filter=t[1]),t[2]!==void 0&&(W.sort=t[2]),c=new Yt({props:W,$$inline:!0}),Tt.push(()=>Pt(c,"filter",ne)),Tt.push(()=>Pt(c,"sort",ue));let T=t[3].size>0&&ut(t);const ee=[Jt,Zt],X=[];function Y(P,O){return P[5].length===0?0:1}d=Y(t),y=X[d]=ee[d](t);const re={c:function(){e=p("div"),s=p("header"),n=p("input"),a=j(),Mt(c.$$.fragment),l=j(),T&&T.c(),f=j(),i=p("div"),y.c(),E=j(),D=p("footer"),k=p("span"),b=Q(H),w=Q(" of "),Z=Q(U),F=Q(" missions"),this.h()},l:function(O){e=m(O,"DIV",{class:!0});var B=S(e);s=m(B,"HEADER",{class:!0});var M=S(s);n=m(M,"INPUT",{type:!0,placeholder:!0,class:!0}),a=N(M),Ut(c.$$.fragment,M),M.forEach(g),l=N(B),T&&T.l(B),f=N(B),i=m(B,"DIV",{class:!0});var se=S(i);y.l(se),se.forEach(g),E=N(B),D=m(B,"FOOTER",{class:!0});var L=S(D);k=m(L,"SPAN",{});var I=S(k);b=G(I,H),w=G(I," of "),Z=G(I,U),F=G(I," missions"),I.forEach(g),L.forEach(g),B.forEach(g),this.h()},h:function(){h(n,"type","search"),h(n,"placeholder","Search missions..."),h(n,"class","history-view__search svelte-n89vwj"),v(n,me,74,4,2084),h(s,"class","history-view__header svelte-n89vwj"),v(s,me,73,2,2042),h(i,"class","history-view__list svelte-n89vwj"),v(i,me,94,2,2663),v(k,me,116,4,3249),h(D,"class","history-view__footer svelte-n89vwj"),v(D,me,115,2,3207),h(e,"class","history-view svelte-n89vwj"),v(e,me,72,0,2013)},m:function(O,B){oe(O,e,B),u(e,s),u(s,n),Je(n,t[4]),u(s,a),Lt(c,s,null),u(e,l),T&&T.m(e,null),u(e,f),u(e,i),X[d].m(i,null),u(e,E),u(e,D),u(D,k),u(k,b),u(k,w),u(k,Z),u(k,F),A=!0,_||(V=le(n,"input",t[11]),_=!0)},p:function(O,[B]){B&16&&n.value!==O[4]&&Je(n,O[4]);const M={};!r&&B&2&&(r=!0,M.filter=O[1],jt(()=>r=!1)),!o&&B&4&&(o=!0,M.sort=O[2],jt(()=>o=!1)),c.$set(M),O[3].size>0?T?T.p(O,B):(T=ut(O),T.c(),T.m(e,f)):T&&(T.d(1),T=null);let se=d;d=Y(O),d===se?X[d].p(O,B):(Xe(),ye(X[se],1,1,()=>{X[se]=null}),Ye(),y=X[d],y?y.p(O,B):(y=X[d]=ee[d](O),y.c()),ge(y,1),y.m(i,null)),(!A||B&32)&&H!==(H=O[5].length+"")&&ce(b,H),(!A||B&1)&&U!==(U=O[0].length+"")&&ce(Z,U)},i:function(O){A||(ge(c.$$.fragment,O),ge(y),A=!0)},o:function(O){ye(c.$$.fragment,O),ye(y),A=!1},d:function(O){O&&g(e),Ft(c),T&&T.d(),X[d].d(),_=!1,V()}};return J("SvelteRegisterBlock",{block:re,id:dt.name,type:"component",source:"",ctx:t}),re}const us=()=>{};function fs(t,e,s){let n,{$$slots:a={},$$scope:c}=e;Qe("HistoryView",a,[]);let{entries:r=[]}=e,o={},l={field:"createdAt",direction:"desc"},f=new Set,i="";function d(_){return _.filter(V=>{if(o.status?.length&&!o.status.includes(V.state)||o.dateFrom&&V.createdAt<o.dateFrom||o.dateTo&&V.createdAt>o.dateTo||o.tags?.length&&!o.tags.some(ne=>V.tags.includes(ne)))return!1;if(i){const ne=i.toLowerCase();return V.title.toLowerCase().includes(ne)||V.prompt.toLowerCase().includes(ne)}return!0})}function y(_){return[..._].sort((V,ne)=>{const ue=V[l.field],W=ne[l.field],T=ue<W?-1:ue>W?1:0;return l.direction==="asc"?T:-T})}function E(_){f.has(_)?f.delete(_):f.add(_),s(3,f)}function D(){s(3,f=new Set(n.map(_=>_.id)))}function k(){s(3,f=new Set)}function H(){const _=n.filter(V=>f.has(V.id))}function b(){const _=n.filter(V=>f.has(V.id));confirm(`Delete ${_.length} missions? This action cannot be undone.`)&&k()}const w=["entries"];Object.keys(e).forEach(_=>{!~w.indexOf(_)&&_.slice(0,2)!=="$$"&&_!=="slot"&&cs.warn(`<HistoryView> was created with unknown prop '${_}'`)});function U(){i=this.value,s(4,i)}function Z(_){o=_,s(1,o)}function F(_){l=_,s(2,l)}const A=_=>E(_.id);return t.$$set=_=>{"entries"in _&&s(0,r=_.entries)},t.$capture_state=()=>({onMount:ts,HistoryCard:Qt,HistoryFilters:Yt,entries:r,filter:o,sort:l,selectedIds:f,searchQuery:i,applyFilter:d,applySort:y,toggleSelection:E,selectAll:D,clearSelection:k,handleExport:H,handleDelete:b,filteredEntries:n}),t.$inject_state=_=>{"entries"in _&&s(0,r=_.entries),"filter"in _&&s(1,o=_.filter),"sort"in _&&s(2,l=_.sort),"selectedIds"in _&&s(3,f=_.selectedIds),"searchQuery"in _&&s(4,i=_.searchQuery),"filteredEntries"in _&&s(5,n=_.filteredEntries)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty&1&&s(5,n=y(d(r)))},[r,o,l,f,i,n,E,D,k,H,b,U,Z,F,A]}class hs extends qe{constructor(e){super(e),ze(this,e,fs,dt,Ge,{entries:0}),J("SvelteRegisterComponent",{component:this,tagName:"HistoryView",options:e,id:dt.name})}get entries(){throw new Error("<HistoryView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set entries(e){throw new Error("<HistoryView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{hs as H};
