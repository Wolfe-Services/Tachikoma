var qc=Object.defineProperty;var Gc=(n,e,t)=>e in n?qc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $o=(n,e,t)=>Gc(n,typeof e!="symbol"?e+"":e,t);import{B as Lc}from"./BNBPvv4r.js";import{S as $t,i as xt,s as Jt,d as L,n as $e,v as en,a as v,b as d,t as Pe,c as Q,e as p,f as qn,g as w,h as Gn,j as c,k as xo,l as ea,m as vl,o as ks,p as Ma,q as za,r as ee,u as J,w as An,x as Ta,y as Na,z as Ba,A as ta,B as ja,C as g,D as _,E as ys,F as Fc,G as na,H,I as U,J as fn,K as sn,L as Ln,M as Wt,N as Ht,O as Je,P as on,Q as ct,R as ut,T as Mn,U as D,V as $,W as R,X as Se,Y as Ce,Z as Ee,_ as Ie,$ as le,a0 as Re,a1 as $n,a2 as Ao,a3 as ln,a4 as yn,a5 as mn,a6 as Yt,a7 as gl,a8 as Dn,a9 as ml,aa as Wc,ab as Oa,ac as ds,ad as hs,ae as an,af as ws,ag as Hc,ah as wn,ai as pl,aj as Tl,ak as sa}from"./CGsoagWx.js";import{d as Qn}from"./CCYOEI7O.js";const zu=Lc,qa="src/lib/components/common/Icon.svelte";function Nl(n){let e,t;const l={c:function(){e=Gn("path"),this.h()},l:function(s){e=qn(s,"path",{d:!0}),w(e).forEach(v),this.h()},h:function(){d(e,"d",t=n[3].path),p(e,qa,300,4,10241)},m:function(s,o){Q(s,e,o)},p:function(s,o){o&8&&t!==(t=s[3].path)&&d(e,"d",t)},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Nl.name,type:"if",source:"(286:2) {#if iconData.path}",ctx:n}),l}function Bl(n){let e,t,l=n[3].path&&Nl(n);const i={c:function(){e=Gn("svg"),l&&l.c(),this.h()},l:function(o){e=qn(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"aria-hidden":!0,class:!0});var a=w(e);l&&l.l(a),a.forEach(v),this.h()},h:function(){d(e,"width",n[0]),d(e,"height",n[0]),d(e,"viewBox","0 0 24 24"),d(e,"fill","none"),d(e,"stroke",n[1]),d(e,"stroke-width",t=n[3].strokeWidth||1.5),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"aria-hidden","true"),d(e,"class","icon svelte-1a0ngku"),Pe(e,"glow",n[2]),p(e,qa,286,0,9979)},m:function(o,a){Q(o,e,a),l&&l.m(e,null)},p:function(o,[a]){o[3].path?l?l.p(o,a):(l=Nl(o),l.c(),l.m(e,null)):l&&(l.d(1),l=null),a&1&&d(e,"width",o[0]),a&1&&d(e,"height",o[0]),a&2&&d(e,"stroke",o[1]),a&8&&t!==(t=o[3].strokeWidth||1.5)&&d(e,"stroke-width",t),a&4&&Pe(e,"glow",o[2])},i:$e,o:$e,d:function(o){o&&v(e),l&&l.d()}};return L("SvelteRegisterBlock",{block:i,id:Bl.name,type:"component",source:"",ctx:n}),i}function Uc(n,e,t){let l,{$$slots:i={},$$scope:s}=e;en("Icon",i,[]);let{name:o}=e,{size:a=20}=e,{color:r="currentColor"}=e,{glow:u=!1}=e;const f={home:{path:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",strokeWidth:1.5},play:{path:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z M21 12a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},"file-text":{path:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",strokeWidth:1.5},brain:{path:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",strokeWidth:1.5},settings:{path:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z",strokeWidth:1.5},check:{path:"M5 13l4 4L19 7",strokeWidth:2},"check-circle":{path:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},x:{path:"M6 18L18 6M6 6l12 12",strokeWidth:2},"x-circle":{path:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},"alert-triangle":{path:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",strokeWidth:1.5},"alert-circle":{path:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},info:{path:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},"chevron-up":{path:"M5 15l7-7 7 7",strokeWidth:2},"chevron-down":{path:"M19 9l-7 7-7-7",strokeWidth:2},"chevron-right":{path:"M9 5l7 7-7 7",strokeWidth:2},"chevron-left":{path:"M15 19l-7-7 7-7",strokeWidth:2},"arrow-right":{path:"M14 5l7 7m0 0l-7 7m7-7H3",strokeWidth:2},"arrow-left":{path:"M10 19l-7-7m0 0l7-7m-7 7h18",strokeWidth:2},search:{path:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",strokeWidth:1.5},"refresh-cw":{path:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",strokeWidth:1.5},loader:{path:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",strokeWidth:1.5},user:{path:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",strokeWidth:1.5},users:{path:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z",strokeWidth:1.5},bell:{path:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",strokeWidth:1.5},"help-circle":{path:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},target:{path:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",strokeWidth:1.5},zap:{path:"M13 10V3L4 14h7v7l9-11h-7z",strokeWidth:1.5},activity:{path:"M22 12h-4l-3 9L9 3l-3 9H2",strokeWidth:1.5},cpu:{path:"M9 3v2m6-2v2M9 19v2m6-2v2M3 9h2m14 0h2M3 14h2m14 0h2M6 6h12v12H6z",strokeWidth:1.5},terminal:{path:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",strokeWidth:1.5},code:{path:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4",strokeWidth:1.5},database:{path:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4",strokeWidth:1.5},"trending-up":{path:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6",strokeWidth:1.5},"trending-down":{path:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6",strokeWidth:1.5},minus:{path:"M20 12H4",strokeWidth:2},plus:{path:"M12 4v16m8-8H4",strokeWidth:2},"play-circle":{path:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z M21 12a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},"pause-circle":{path:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},"stop-circle":{path:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z",strokeWidth:1.5},folder:{path:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z",strokeWidth:1.5},"folder-open":{path:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z",strokeWidth:1.5},file:{path:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z",strokeWidth:1.5},"file-plus":{path:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",strokeWidth:1.5},eye:{path:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",strokeWidth:1.5},"eye-off":{path:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21",strokeWidth:1.5},clock:{path:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},calendar:{path:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",strokeWidth:1.5},link:{path:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1",strokeWidth:1.5},upload:{path:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12",strokeWidth:1.5},download:{path:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4",strokeWidth:1.5},trash:{path:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",strokeWidth:1.5},edit:{path:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",strokeWidth:1.5},copy:{path:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z",strokeWidth:1.5},save:{path:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4",strokeWidth:1.5},menu:{path:"M4 6h16M4 12h16M4 18h16",strokeWidth:2},"more-horizontal":{path:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z",strokeWidth:1.5},"more-vertical":{path:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z",strokeWidth:1.5},"neural-link":{path:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m3-8.803a4 4 0 11-8 0 4 4 0 018 0z M17 8l4 4m0-4l-4 4",strokeWidth:1.5},"cyber-eye":{path:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M12 5c-4.478 0-8.268 2.943-9.542 7 1.274 4.057 5.064 7 9.542 7s8.268-2.943 9.542-7c-1.274-4.057-5.064-7-9.542-7z M12 12h.01",strokeWidth:1.5},robot:{path:"M9 3v2m6-2v2M12 21a9 9 0 110-18 9 9 0 010 18zM9 10h.01M15 10h.01M9 15a3 3 0 006 0",strokeWidth:1.5},globe:{path:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9",strokeWidth:1.5},shield:{path:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",strokeWidth:1.5},"shield-check":{path:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",strokeWidth:1.5}};n.$$.on_mount.push(function(){o===void 0&&("name"in e||n.$$.bound[n.$$.props.name])});const h=["name","size","color","glow"];return Object.keys(e).forEach(m=>{!~h.indexOf(m)&&m.slice(0,2)}),n.$$set=m=>{"name"in m&&t(4,o=m.name),"size"in m&&t(0,a=m.size),"color"in m&&t(1,r=m.color),"glow"in m&&t(2,u=m.glow)},n.$capture_state=()=>({name:o,size:a,color:r,glow:u,icons:f,iconData:l}),n.$inject_state=m=>{"name"in m&&t(4,o=m.name),"size"in m&&t(0,a=m.size),"color"in m&&t(1,r=m.color),"glow"in m&&t(2,u=m.glow),"iconData"in m&&t(3,l=m.iconData)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&16&&t(3,l=f[o]||{path:"",strokeWidth:1.5})},[a,r,u,l,o]}class Ge extends $t{constructor(e){super(e),xt(this,e,Uc,Bl,Jt,{name:4,size:0,color:1,glow:2}),L("SvelteRegisterComponent",{component:this,tagName:"Icon",options:e,id:Bl.name})}get name(){throw new Error("<Icon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<Icon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get size(){throw new Error("<Icon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Icon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get color(){throw new Error("<Icon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set color(e){throw new Error("<Icon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get glow(){throw new Error("<Icon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set glow(e){throw new Error("<Icon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Al="src/lib/components/ui/Spinner/Spinner.svelte";function jl(n){let e,t,l;const i={c:function(){e=Gn("svg"),t=Gn("circle"),l=Gn("circle"),this.h()},l:function(o){e=qn(o,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,"aria-hidden":!0});var a=w(e);t=qn(a,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),w(t).forEach(v),l=qn(a,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),w(l).forEach(v),a.forEach(v),this.h()},h:function(){d(t,"class","spinner-track svelte-11x47g0"),d(t,"cx","12"),d(t,"cy","12"),d(t,"r","10"),d(t,"stroke",n[1]),d(t,"stroke-width","3"),d(t,"stroke-linecap","round"),p(t,Al,14,2,238),d(l,"class","spinner-head svelte-11x47g0"),d(l,"cx","12"),d(l,"cy","12"),d(l,"r","10"),d(l,"stroke",n[1]),d(l,"stroke-width","3"),d(l,"stroke-linecap","round"),p(l,Al,23,2,381),d(e,"class","spinner svelte-11x47g0"),d(e,"width",n[0]),d(e,"height",n[0]),d(e,"viewBox","0 0 24 24"),d(e,"fill","none"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"aria-hidden","true"),p(e,Al,5,0,86)},m:function(o,a){Q(o,e,a),c(e,t),c(e,l)},p:function(o,[a]){a&2&&d(t,"stroke",o[1]),a&2&&d(l,"stroke",o[1]),a&1&&d(e,"width",o[0]),a&1&&d(e,"height",o[0])},i:$e,o:$e,d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:jl.name,type:"component",source:"",ctx:n}),i}function Qc(n,e,t){let{$$slots:l={},$$scope:i}=e;en("Spinner",l,[]);let{size:s=20}=e,{color:o="currentColor"}=e;const a=["size","color"];return Object.keys(e).forEach(r=>{!~a.indexOf(r)&&r.slice(0,2)}),n.$$set=r=>{"size"in r&&t(0,s=r.size),"color"in r&&t(1,o=r.color)},n.$capture_state=()=>({size:s,color:o}),n.$inject_state=r=>{"size"in r&&t(0,s=r.size),"color"in r&&t(1,o=r.color)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[s,o]}class Rn extends $t{constructor(e){super(e),xt(this,e,Qc,jl,Jt,{size:0,color:1}),L("SvelteRegisterComponent",{component:this,tagName:"Spinner",options:e,id:jl.name})}get size(){throw new Error("<Spinner>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Spinner>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get color(){throw new Error("<Spinner>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set color(e){throw new Error("<Spinner>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Kc="src/lib/components/ui/GlassPanel.svelte";function dl(n){let e,t,l,i;const s=n[8].default,o=za(s,n,n[7],null);let a=[{class:t=`glass-panel ${n[2]?"subtle":""} ${n[1]?"padded":""} ${n[3]}`.trim()},{style:l=`--glass-accent: ${n[4]};`},n[5]],r={};for(let f=0;f<a.length;f+=1)r=ks(r,a[f]);const u={c:function(){e=_(n[0]),o&&o.c(),this.h()},l:function(h){e=g(h,(n[0]||"null").toUpperCase(),{class:!0,style:!0});var m=w(e);o&&o.l(m),m.forEach(v),this.h()},h:function(){ta(n[0])(e,r),Pe(e,"svelte-jigekd",!0),p(e,Kc,20,0,479)},m:function(h,m){Q(h,e,m),o&&o.m(e,null),i=!0},p:function(h,m){o&&o.p&&(!i||m&128)&&Ta(o,s,h,h[7],i?Ba(s,h[7],m,null):Na(h[7]),null),ta(h[0])(e,r=ja(a,[(!i||m&14&&t!==(t=`glass-panel ${h[2]?"subtle":""} ${h[1]?"padded":""} ${h[3]}`.trim()))&&{class:t},(!i||m&16&&l!==(l=`--glass-accent: ${h[4]};`))&&{style:l},m&32&&h[5]])),Pe(e,"svelte-jigekd",!0)},i:function(h){i||(J(o,h),i=!0)},o:function(h){ee(o,h),i=!1},d:function(h){h&&v(e),o&&o.d(h)}};return L("SvelteRegisterBlock",{block:u,id:dl.name,type:"child_dynamic_element",source:"(18:0) <svelte:element   this={as}   class={`glass-panel ${subtle ? 'subtle' : ''} ${padded ? 'padded' : ''} ${className}`.trim()}   style={`--glass-accent: ${accentColor};`}   {...$$restProps} >",ctx:n}),u}function Ol(n){let e=n[0],t,l;xo(n[0]),ea(n[0]);let i=n[0]&&dl(n);const s={c:function(){i&&i.c(),t=An()},l:function(a){i&&i.l(a),t=An()},m:function(a,r){i&&i.m(a,r),Q(a,t,r),l=!0},p:function(a,[r]){a[0]?e?Jt(e,a[0])?(i.d(1),xo(a[0]),ea(a[0]),i=dl(a),e=a[0],i.c(),i.m(t.parentNode,t)):i.p(a,r):(i=dl(a),e=a[0],i.c(),i.m(t.parentNode,t)):e&&(i.d(1),i=null,e=a[0])},i:function(a){l||(J(i,a),l=!0)},o:function(a){ee(i,a),l=!1},d:function(a){a&&v(t),i&&i.d(a)}};return L("SvelteRegisterBlock",{block:s,id:Ol.name,type:"component",source:"",ctx:n}),s}function Yc(n,e,t){let l;const i=["as","padded","subtle","accent","className"];let s=vl(e,i),{$$slots:o={},$$scope:a}=e;en("GlassPanel",o,["default"]);let{as:r="section"}=e,{padded:u=!0}=e,{subtle:f=!1}=e,{accent:h="cyan"}=e,{className:m=""}=e;const b={cyan:"var(--tachi-cyan, #4ecdc4)",red:"var(--tachi-red, #ff6b6b)",yellow:"var(--tachi-yellow, #ffd93d)",green:"var(--success-color, #3fb950)",blue:"var(--info-color, #58a6ff)",purple:"var(--color-accent, #8b5cf6)",none:"transparent"};return n.$$set=k=>{e=ks(ks({},e),Ma(k)),t(5,s=vl(e,i)),"as"in k&&t(0,r=k.as),"padded"in k&&t(1,u=k.padded),"subtle"in k&&t(2,f=k.subtle),"accent"in k&&t(6,h=k.accent),"className"in k&&t(3,m=k.className),"$$scope"in k&&t(7,a=k.$$scope)},n.$capture_state=()=>({as:r,padded:u,subtle:f,accent:h,className:m,accents:b,accentColor:l}),n.$inject_state=k=>{"as"in e&&t(0,r=k.as),"padded"in e&&t(1,u=k.padded),"subtle"in e&&t(2,f=k.subtle),"accent"in e&&t(6,h=k.accent),"className"in e&&t(3,m=k.className),"accentColor"in e&&t(4,l=k.accentColor)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&64&&t(4,l=b[h])},[r,u,f,m,l,s,h,a,o]}class Mo extends $t{constructor(e){super(e),xt(this,e,Yc,Ol,Jt,{as:0,padded:1,subtle:2,accent:6,className:3}),L("SvelteRegisterComponent",{component:this,tagName:"GlassPanel",options:e,id:Ol.name})}get as(){throw new Error("<GlassPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set as(e){throw new Error("<GlassPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get padded(){throw new Error("<GlassPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set padded(e){throw new Error("<GlassPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get subtle(){throw new Error("<GlassPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set subtle(e){throw new Error("<GlassPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get accent(){throw new Error("<GlassPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set accent(e){throw new Error("<GlassPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get className(){throw new Error("<GlassPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set className(e){throw new Error("<GlassPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Jc="src/lib/components/common/RelativeTime.svelte";function ql(n){let e,t,l,i=[{datetime:l=n[0]instanceof Date?n[0].toISOString():n[0]},n[2]],s={};for(let a=0;a<i.length;a+=1)s=ks(s,i[a]);const o={c:function(){e=_("time"),t=U(n[1]),this.h()},l:function(r){e=g(r,"TIME",{datetime:!0});var u=w(e);t=H(u,n[1]),u.forEach(v),this.h()},h:function(){na(e,s),p(e,Jc,38,0,934)},m:function(r,u){Q(r,e,u),c(e,t)},p:function(r,[u]){u&2&&Fc(t,r[1],s.contenteditable),na(e,s=ja(i,[u&1&&l!==(l=r[0]instanceof Date?r[0].toISOString():r[0])&&{datetime:l},u&4&&r[2]]))},i:$e,o:$e,d:function(r){r&&v(e)}};return L("SvelteRegisterBlock",{block:o,id:ql.name,type:"component",source:"",ctx:n}),o}function la(n){const t=new Date().getTime()-n.getTime(),l=Math.floor(t/1e3),i=Math.floor(l/60),s=Math.floor(i/60),o=Math.floor(s/24);return l<60?"just now":i<60?`${i}m ago`:s<24?`${s}h ago`:o<7?`${o}d ago`:n.toLocaleDateString()}function Xc(n,e,t){const l=["date","updateInterval"];let i=vl(e,l),{$$slots:s={},$$scope:o}=e;en("RelativeTime",s,[]);let{date:a}=e,{updateInterval:r=6e4}=e,u="";function f(){const h=a instanceof Date?a:new Date(a);t(1,u=la(h))}return ys(()=>{f();const h=setInterval(f,r);return()=>clearInterval(h)}),n.$$.on_mount.push(function(){a===void 0&&("date"in e||n.$$.bound[n.$$.props.date])}),n.$$set=h=>{e=ks(ks({},e),Ma(h)),t(2,i=vl(e,l)),"date"in h&&t(0,a=h.date),"updateInterval"in h&&t(3,r=h.updateInterval)},n.$capture_state=()=>({onMount:ys,date:a,updateInterval:r,relativeTime:u,formatRelativeTime:la,updateTime:f}),n.$inject_state=h=>{"date"in e&&t(0,a=h.date),"updateInterval"in e&&t(3,r=h.updateInterval),"relativeTime"in e&&t(1,u=h.relativeTime)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&a&&f()},[a,u,i,r]}class Ga extends $t{constructor(e){super(e),xt(this,e,Xc,ql,Jt,{date:0,updateInterval:3}),L("SvelteRegisterComponent",{component:this,tagName:"RelativeTime",options:e,id:ql.name})}get date(){throw new Error("<RelativeTime>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set date(e){throw new Error("<RelativeTime>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get updateInterval(){throw new Error("<RelativeTime>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set updateInterval(e){throw new Error("<RelativeTime>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function La(n,e){const{key:t,storage:l="localStorage",serialize:i=JSON.stringify,deserialize:s=JSON.parse,validate:o,migrate:a,version:r=1}=e,u=`tachikoma:${t}`,f=`${u}:version`;function h(){try{const b=l==="localStorage"?localStorage:sessionStorage,k=b.getItem(u),y=parseInt(b.getItem(f)||"0",10);if(k===null)return n;let I=s(k);return a&&y<r&&(I=a(I,y),b.setItem(f,r.toString()),b.setItem(u,i(I))),o&&!o(I)?n:I}catch{return n}}const m=fn(h());return m.subscribe(b=>{try{const k=l==="localStorage"?localStorage:sessionStorage;k.setItem(u,i(b)),k.setItem(f,r.toString())}catch{}}),window.addEventListener("storage",b=>{if(b.key===u&&b.newValue!==null)try{const k=s(b.newValue);(!o||o(k))&&m.set(k)}catch{}}),m}class Zc extends Error{constructor(e,t,l){super(e),this.channel=t,this.originalError=l,this.name="IpcError"}}function $c(n,e){const t=e instanceof Error?e.message:String(e);return new Zc(`IPC call failed: ${t}`,n,e)}function Gl(){return typeof window<"u"&&!!window.tachikoma}class xc{constructor(){$o(this,"listeners",new Map)}async invoke(e,t){if(!Gl())throw new Error("Tachikoma IPC not available");const l=window.tachikoma;if(!l)throw new Error("Tachikoma IPC not available");try{return l.invoke(e,t)}catch(i){throw $c(e,i)}}on(e,t){if(!Gl())return()=>{};const l=window.tachikoma;return l?(this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),l.on(e,t),()=>{this.listeners.get(e)?.delete(t),l.off(e,t)}):()=>{}}}const On=new xc,ia={isConnected:!1,useMockMode:!0,activeSessionId:null,isDeliberating:!1,currentPhase:"idle",error:null};function eu(){const n=fn(ia),e=fn([]);Gl()&&(n.update(r=>({...r,isConnected:!0,useMockMode:!1})),l());function l(){On.on("forge:message",r=>{e.update(u=>{const f=u.findIndex(h=>h.messageId===r.messageId);if(f>=0){const h=[...u];return h[f]=r,h}else return[...u,r]})}),On.on("forge:phaseChange",r=>{n.update(u=>({...u,currentPhase:r.phase}))}),On.on("forge:roundComplete",r=>{n.update(u=>({...u,isDeliberating:!1}))}),On.on("forge:convergence",r=>{n.update(u=>({...u,isDeliberating:!1}))}),On.on("forge:error",r=>{n.update(u=>({...u,error:r.error,isDeliberating:!1}))})}function i(r){return{name:r.name||"Untitled Session",goal:r.goal||"",participants:(r.participants||[]).map(u=>({id:u.id,name:u.name,type:u.type,role:u.role,modelId:u.type==="ai"?u.modelId||o(u):void 0,status:u.status})),oracle:r.oracle?{id:r.oracle.id,name:r.oracle.name,modelId:r.oracle.type,config:r.oracle.config}:null,config:{maxRounds:r.config?.maxRounds||5,convergenceThreshold:r.config?.convergenceThreshold||.8,roundTimeoutMs:(r.config?.timeoutMinutes||60)*6e4,allowHumanIntervention:r.config?.allowHumanIntervention??!0}}}function s(r){const u=(r.id||"").toLowerCase(),f=(r.name||"").toLowerCase(),h=(m,b)=>`asset:/icons/${m}${b?`|${b}`:""}`;if(u.includes("fuchikoma-blue")||f.includes("fuchikoma blue"))return h("Iconfactory-Ghost-In-The-Shell-Fuchikoma-Blue.32.png","ðŸ•·ï¸");if(u.includes("fuchikoma-red")||f.includes("fuchikoma red"))return h("Iconfactory-Ghost-In-The-Shell-Fuchikoma-Red.32.png","ðŸ”´");if(u.includes("fuchikoma-purple")||f.includes("fuchikoma purple"))return h("Iconfactory-Ghost-In-The-Shell-Fuchikoma-Purple.32.png","ðŸŸ£");if(u.includes("arakone")||f.includes("arakone"))return h("Iconfactory-Ghost-In-The-Shell-Arakone-Unit.32.png","ðŸ¦‚");if(f.includes("laughing man"))return"ðŸŒ€";if(f.includes("puppet master"))return"ðŸ§¬";if(f.includes("kusanagi")||f.includes("motoko"))return h("Iconfactory-Ghost-In-The-Shell-Motoko-Kusanagi.32.png","ðŸ•¶ï¸");if(f.includes("batou")||f.includes("bateau"))return h("Iconfactory-Ghost-In-The-Shell-Bateau.32.png","ðŸ¦¾");if(f.includes("togusa"))return h("Iconfactory-Ghost-In-The-Shell-Togusa.32.png","ðŸ•µï¸");if(f.includes("ishikawa"))return h("Iconfactory-Ghost-In-The-Shell-Ishikawa.32.png","ðŸ“¡");if(r.type==="ai")return h("Iconfactory-Ghost-In-The-Shell-Fuchikoma-Gray.32.png","ðŸ¤–")}function o(r){const u={claude:"claude-3-5-sonnet-20241022",gpt4:"gpt-4-turbo","gpt-4":"gpt-4-turbo",ollama:"ollama/llama3:latest"},f=r.name.toLowerCase();return u[f]||"claude-sonnet-4-20250514"}function a(r){return{id:r.id,name:r.name,goal:r.goal,phase:r.phase,participants:r.participants.map(u=>({id:u.id,name:u.name,type:u.type,role:u.role,modelId:u.modelId,avatar:s({id:u.id,name:u.name,type:u.type}),status:u.status})),oracle:r.oracle?{id:r.oracle.id,name:r.oracle.name,type:r.oracle.modelId,config:r.oracle.config}:null,config:{maxRounds:r.config.maxRounds,convergenceThreshold:r.config.convergenceThreshold,allowHumanIntervention:r.config.allowHumanIntervention,autoSaveInterval:3e4,timeoutMinutes:Math.floor(r.config.roundTimeoutMs/6e4)},rounds:[],hasResults:r.roundCount>0,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)}}return{state:{subscribe:n.subscribe},messages:{subscribe:e.subscribe},async createSession(r){if(!sn(n).useMockMode)try{const h=i(r),m=await On.invoke("forge:createSession",h),b=a(m);return n.update(k=>({...k,activeSessionId:b.id,error:null})),b}catch{n.update(m=>({...m,useMockMode:!0}))}const f={id:`session-${Date.now()}`,name:r.name||"Untitled Session",goal:r.goal||"",phase:"configuring",participants:r.participants||[],oracle:r.oracle||null,config:r.config,rounds:[],hasResults:!1,createdAt:new Date,updatedAt:new Date};return n.update(h=>({...h,activeSessionId:f.id})),f},async startDeliberation(r,u="drafting"){if(!sn(n).useMockMode)try{if((await On.invoke("forge:startDeliberation",{sessionId:r,phase:u})).success)return n.update(m=>({...m,isDeliberating:!0,currentPhase:u,error:null})),!0}catch{}return n.update(h=>({...h,isDeliberating:!0,currentPhase:u})),!1},async stopDeliberation(r){if(!sn(n).useMockMode)try{const f=await On.invoke("forge:stopDeliberation",{sessionId:r});return f.success&&n.update(h=>({...h,isDeliberating:!1})),f.success}catch{}return n.update(f=>({...f,isDeliberating:!1})),!0},async submitMessage(r,u,f){if(!sn(n).useMockMode)try{const k=await On.invoke("forge:submitMessage",{sessionId:r,content:u,participantId:f}),y=k.messageId,I={sessionId:r,messageId:y,participantId:f,participantName:"You",participantType:"human",content:u,timestamp:new Date().toISOString(),type:"proposal",status:"complete"};return e.update(E=>[...E,I]),k.messageId}catch{}const m=`msg-${Date.now()}`,b={sessionId:r,messageId:m,participantId:f,participantName:"You",participantType:"human",content:u,timestamp:new Date().toISOString(),type:"proposal",status:"complete"};return e.update(k=>[...k,b]),m},async generateOutput(r){if(!sn(n).useMockMode)try{return await On.invoke("forge:generateOutput",r)}catch{}const f=nu(r);return{sessionId:r.sessionId,format:r.format,content:f,filename:`forge-output.${tu(r.format)}`}},async listSessions(){if(!sn(n).useMockMode)try{return(await On.invoke("forge:listSessions",{})).map(a)}catch{}return[]},clearMessages(){e.set([])},clearError(){n.update(r=>({...r,error:null}))},reset(){n.set(ia),e.set([])}}}function tu(n){return{markdown:"md",json:"json",yaml:"yaml",html:"html",plain:"txt",beads:"yaml"}[n]||"txt"}function nu(n){const{format:e,sessionId:t}=n;switch(e){case"json":return JSON.stringify({sessionId:t,title:"Mock Forge Output",summary:"This is a mock output generated for development.",decisions:[],metadata:{generated:new Date().toISOString()}},null,2);case"yaml":case"beads":return`# Forge Session Output
session_id: ${t}
title: Mock Forge Output
summary: This is a mock output generated for development.
decisions: []
metadata:
  generated: ${new Date().toISOString()}
`;case"html":return`<!DOCTYPE html>
<html>
<head>
  <title>Forge Output</title>
  <style>
    body { font-family: system-ui; max-width: 800px; margin: 2rem auto; padding: 1rem; }
    h1 { color: #4ecdc4; }
  </style>
</head>
<body>
  <h1>Forge Session Output</h1>
  <p>Session: ${t}</p>
  <p>This is a mock output generated for development.</p>
</body>
</html>`;case"markdown":default:return`# Forge Session Output

**Session ID:** ${t}

## Summary

This is a mock output generated for development. 
When connected to the backend, this will contain the actual deliberation results.

## Decisions

_No decisions recorded yet._

---

*Generated: ${new Date().toISOString()}*
`}}const dn=eu();function su(){const n={activeSession:null,sessions:[],loading:!1,error:null};function e(a){return{...a,createdAt:a.createdAt.toISOString(),updatedAt:a.updatedAt.toISOString()}}function t(a){return{...a,createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)}}const l=La(n,{key:"forgeSessionState",version:1,serialize:a=>{const r={activeSession:a.activeSession?e(a.activeSession):null,sessions:a.sessions.map(e),loading:!1,error:null};return JSON.stringify(r)},deserialize:a=>{const r=JSON.parse(a);return{activeSession:r.activeSession?t(r.activeSession):null,sessions:Array.isArray(r.sessions)?r.sessions.map(t):[],loading:!1,error:null}}}),{subscribe:i,set:s,update:o}=l;return{subscribe:i,async loadSessions(){if(sn(l).sessions.length>0){o(r=>({...r,loading:!1,error:null}));return}o(r=>({...r,loading:!0,error:null}));try{const r=await dn.listSessions();if(r.length>0){o(f=>({...f,sessions:r,loading:!1}));return}const u=[{id:"session-1",name:"Product Strategy Session",goal:"Define Q4 product roadmap priorities",phase:"configuring",participants:[{id:"p1",name:"Alice Product",type:"human",role:"Product Manager",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Motoko-Kusanagi.32.png|ðŸ•¶ï¸"},{id:"p2",name:"Bob Engineer",type:"human",role:"Tech Lead",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Bateau.32.png|ðŸ¦¾"},{id:"p3",name:"Claude Analyst",type:"ai",role:"Business Analyst",status:"active",modelId:"claude-sonnet-4-20250514",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Blue.32.png|ðŸ•·ï¸"}],oracle:{id:"oracle-1",name:"Strategic Oracle",type:"gpt-4",config:{temperature:.7}},rounds:[],hasResults:!1,createdAt:new Date("2024-01-15T10:00:00Z"),updatedAt:new Date("2024-01-15T10:30:00Z")}];o(f=>({...f,sessions:u,loading:!1}))}catch(r){o(u=>({...u,loading:!1,error:r instanceof Error?r.message:"Failed to load sessions"}))}},setActiveSession(a){o(r=>{const u=r.sessions.find(f=>f.id===a);return{...r,activeSession:u||null}})},clearActiveSession(){o(a=>({...a,activeSession:null}))},updateSessionPhase(a,r){o(u=>{const f=u.sessions.map(m=>m.id===a?{...m,phase:r,updatedAt:new Date}:m),h=u.activeSession?.id===a?f.find(m=>m.id===a)||null:u.activeSession;return{...u,sessions:f,activeSession:h}})},updateParticipantModel(a,r,u){o(f=>{const h=k=>k.id!==a?k:{...k,participants:k.participants.map(y=>y.id===r?{...y,modelId:u}:y),updatedAt:new Date},m=f.sessions.map(h),b=f.activeSession?h(f.activeSession):null;return{...f,sessions:m,activeSession:b}})},clearError(){o(a=>({...a,error:null}))},async saveDraft(a){try{return`draft-${Date.now()}`}catch(r){throw new Error(r instanceof Error?r.message:"Failed to save draft")}},async createSession(a){o(r=>({...r,loading:!0,error:null}));try{const r=await dn.createSession({name:a.name,goal:a.goal,participants:a.participants,oracle:a.oracle,config:a.config});return o(u=>({...u,sessions:[...u.sessions,r],loading:!1})),r.id}catch(r){throw o(u=>({...u,loading:!1,error:r instanceof Error?r.message:"Failed to create session"})),r}},async updateSession(a,r){o(u=>({...u,loading:!0,error:null}));try{return o(u=>{const f=u.sessions.map(m=>m.id===a?{...m,name:r.name,goal:r.goal,participants:r.participants,oracle:r.oracle,config:r.config,updatedAt:new Date}:m),h=u.activeSession?.id===a?f.find(m=>m.id===a)||null:u.activeSession;return{...u,sessions:f,activeSession:h,loading:!1}}),a}catch(u){throw o(f=>({...f,loading:!1,error:u instanceof Error?u.message:"Failed to update session"})),u}},reset(){s(n)}}}const Gt=su(),gs=Ln(Gt,n=>n.activeSession),Ml=Ln(Gt,n=>n.sessions),_s=Ln(Gt,n=>n.loading),bs=Ln(Gt,n=>n.error),Ft="src/lib/components/forge/SessionSidebar.svelte";function tl(n,e,t){const l=n.slice();return l[9]=e[t],l}function Ll(n){let e,t,l;t=new Rn({props:{size:16,color:"var(--tachi-cyan, #4ecdc4)"},$$inline:!0});const i={c:function(){e=_("div"),Ie(t.$$.fragment),this.h()},l:function(o){e=g(o,"DIV",{class:!0,"aria-label":!0});var a=w(e);Ee(t.$$.fragment,a),a.forEach(v),this.h()},h:function(){d(e,"class","loading"),d(e,"aria-label","Loading sessions"),p(e,Ft,25,6,863)},m:function(o,a){Q(o,e,a),Ce(t,e,null),l=!0},i:function(o){l||(J(t.$$.fragment,o),l=!0)},o:function(o){ee(t.$$.fragment,o),l=!1},d:function(o){o&&v(e),Se(t)}};return L("SvelteRegisterBlock",{block:i,id:Ll.name,type:"if",source:"(22:4) {#if $sessionLoading}",ctx:n}),i}function Fl(n){let e,t,l,i,s,o,a,r="Dismiss",u,f,h;t=new Ge({props:{name:"alert-triangle",size:16},$$inline:!0});const m={c:function(){e=_("div"),Ie(t.$$.fragment),l=R(),i=_("span"),s=U(n[2]),o=R(),a=_("button"),a.textContent=r,this.h()},l:function(k){e=g(k,"DIV",{class:!0,role:!0});var y=w(e);Ee(t.$$.fragment,y),l=D(y),i=g(y,"SPAN",{class:!0});var I=w(i);s=H(I,n[2]),I.forEach(v),o=D(y),a=g(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(a)!=="svelte-1q8s5mz"&&(a.textContent=r),y.forEach(v),this.h()},h:function(){d(i,"class","banner-text svelte-1hpcjzz"),p(i,Ft,34,6,1126),d(a,"type","button"),d(a,"class","banner-btn svelte-1hpcjzz"),p(a,Ft,35,6,1181),d(e,"class","banner svelte-1hpcjzz"),d(e,"role","alert"),p(e,Ft,32,4,1039)},m:function(k,y){Q(k,e,y),Ce(t,e,null),c(e,l),c(e,i),c(i,s),c(e,o),c(e,a),u=!0,f||(h=Re(a,"click",n[7],!1,!1,!1,!1),f=!0)},p:function(k,y){(!u||y&4)&&le(s,k[2])},i:function(k){u||(J(t.$$.fragment,k),u=!0)},o:function(k){ee(t.$$.fragment,k),u=!1},d:function(k){k&&v(e),Se(t),f=!1,h()}};return L("SvelteRegisterBlock",{block:m,id:Fl.name,type:"if",source:"(29:2) {#if $sessionError}",ctx:n}),m}function Fa(n){let e,t=[],l=new Map,i,s=Je(n[0]);const o=r=>r[9].id;on(n,s,tl,o);for(let r=0;r<s.length;r+=1){let u=tl(n,s,r),f=o(u);l.set(f,t[r]=Wl(f,u))}const a={c:function(){e=_("ul");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l:function(u){e=g(u,"UL",{class:!0,"aria-label":!0});var f=w(e);for(let h=0;h<t.length;h+=1)t[h].l(f);f.forEach(v),this.h()},h:function(){d(e,"class","session-list svelte-1hpcjzz"),d(e,"aria-label","Forge sessions"),p(e,Ft,47,4,1548)},m:function(u,f){Q(u,e,f);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);i=!0},p:function(u,f){f&25&&(s=Je(u[0]),ct(),on(u,s,tl,o),t=$n(t,f,o,1,u,s,l,e,Ao,Wl,null,tl),ut())},i:function(u){if(!i){for(let f=0;f<s.length;f+=1)J(t[f]);i=!0}},o:function(u){for(let f=0;f<t.length;f+=1)ee(t[f]);i=!1},d:function(u){u&&v(e);for(let f=0;f<t.length;f+=1)t[f].d()}};return L("SvelteRegisterBlock",{block:a,id:Fa.name,type:"else",source:"(44:2) {:else}",ctx:n}),a}function Wa(n){let e,t,l="No sessions yet",i,s,o="Create a new Think Tank session to begin deliberation.";const a={c:function(){e=_("div"),t=_("p"),t.textContent=l,i=R(),s=_("p"),s.textContent=o,this.h()},l:function(u){e=g(u,"DIV",{class:!0});var f=w(e);t=g(f,"P",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-2t1eq1"&&(t.textContent=l),i=D(f),s=g(f,"P",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-8damho"&&(s.textContent=o),f.forEach(v),this.h()},h:function(){d(t,"class","empty-title svelte-1hpcjzz"),p(t,Ft,43,6,1389),d(s,"class","empty-subtitle svelte-1hpcjzz"),p(s,Ft,44,6,1438),d(e,"class","empty svelte-1hpcjzz"),p(e,Ft,42,4,1363)},m:function(u,f){Q(u,e,f),c(e,t),c(e,i),c(e,s)},p:$e,i:$e,o:$e,d:function(u){u&&v(e)}};return L("SvelteRegisterBlock",{block:a,id:Wa.name,type:"if",source:"(39:2) {#if sortedSessions.length === 0}",ctx:n}),a}function Wl(n,e){let t,l,i,s,o,a=e[9].name+"",r,u,f,h=e[9].phase+"",m,b,k,y=e[9].goal+"",I,E,S,C,P,A,V=e[9].participants.length+"",z,T,N,q,O,M,j;C=new Ga({props:{date:e[9].updatedAt},$$inline:!0});function K(){return e[8](e[9])}const F={key:n,first:null,c:function(){t=_("li"),l=_("button"),i=_("div"),s=_("div"),o=_("span"),r=U(a),u=R(),f=_("span"),m=U(h),b=R(),k=_("div"),I=U(y),E=R(),S=_("div"),Ie(C.$$.fragment),P=R(),A=_("span"),z=U(V),T=U("p"),q=R(),this.h()},l:function(B){t=g(B,"LI",{});var x=w(t);l=g(x,"BUTTON",{type:!0,class:!0,"aria-current":!0});var Z=w(l);i=g(Z,"DIV",{class:!0});var te=w(i);s=g(te,"DIV",{class:!0});var X=w(s);o=g(X,"SPAN",{class:!0});var ne=w(o);r=H(ne,a),ne.forEach(v),u=D(X),f=g(X,"SPAN",{class:!0});var se=w(f);m=H(se,h),se.forEach(v),X.forEach(v),b=D(te),k=g(te,"DIV",{class:!0});var _e=w(k);I=H(_e,y),_e.forEach(v),te.forEach(v),E=D(Z),S=g(Z,"DIV",{class:!0});var ue=w(S);Ee(C.$$.fragment,ue),P=D(ue),A=g(ue,"SPAN",{class:!0});var W=w(A);z=H(W,V),T=H(W,"p"),W.forEach(v),ue.forEach(v),Z.forEach(v),q=D(x),x.forEach(v),this.h()},h:function(){d(o,"class","name svelte-1hpcjzz"),p(o,Ft,59,16,2010),d(f,"class","phase svelte-1hpcjzz"),p(f,Ft,60,16,2061),d(s,"class","row-title svelte-1hpcjzz"),p(s,Ft,58,14,1970),d(k,"class","row-subtitle svelte-1hpcjzz"),p(k,Ft,62,14,2133),d(i,"class","row-left svelte-1hpcjzz"),p(i,Ft,57,12,1933),d(A,"class","pill svelte-1hpcjzz"),p(A,Ft,66,14,2293),d(S,"class","row-right svelte-1hpcjzz"),p(S,Ft,64,12,2205),d(l,"type","button"),d(l,"class","session-row svelte-1hpcjzz"),d(l,"aria-current",N=e[3]?.id===e[9].id?"true":"false"),Pe(l,"active",e[3]?.id===e[9].id),p(l,Ft,50,10,1666),p(t,Ft,49,8,1651),this.first=t},m:function(B,x){Q(B,t,x),c(t,l),c(l,i),c(i,s),c(s,o),c(o,r),c(s,u),c(s,f),c(f,m),c(i,b),c(i,k),c(k,I),c(l,E),c(l,S),Ce(C,S,null),c(S,P),c(S,A),c(A,z),c(A,T),c(t,q),O=!0,M||(j=Re(l,"click",K,!1,!1,!1,!1),M=!0)},p:function(B,x){e=B,(!O||x&1)&&a!==(a=e[9].name+"")&&le(r,a),(!O||x&1)&&h!==(h=e[9].phase+"")&&le(m,h),(!O||x&1)&&y!==(y=e[9].goal+"")&&le(I,y);const Z={};x&1&&(Z.date=e[9].updatedAt),C.$set(Z),(!O||x&1)&&V!==(V=e[9].participants.length+"")&&le(z,V),(!O||x&9&&N!==(N=e[3]?.id===e[9].id?"true":"false"))&&d(l,"aria-current",N),(!O||x&9)&&Pe(l,"active",e[3]?.id===e[9].id)},i:function(B){O||(J(C.$$.fragment,B),O=!0)},o:function(B){ee(C.$$.fragment,B),O=!1},d:function(B){B&&v(t),Se(C),M=!1,j()}};return L("SvelteRegisterBlock",{block:F,id:Wl.name,type:"each",source:"(46:6) {#each sortedSessions as s (s.id)}",ctx:e}),F}function Hl(n){let e,t,l,i,s,o,a,r="Sessions",u,f,h,m,b,k,y=n[1]&&Ll(n),I=n[2]&&Fl(n);const E=[Wa,Fa],S=[];function C(A,V){return A[0].length===0?0:1}m=C(n),b=S[m]=E[m](n);const P={c:function(){e=_("div"),t=_("div"),l=_("div"),i=_("img"),o=R(),a=_("h2"),a.textContent=r,u=R(),y&&y.c(),f=R(),I&&I.c(),h=R(),b.c(),this.h()},l:function(V){e=g(V,"DIV",{class:!0,"data-testid":!0});var z=w(e);t=g(z,"DIV",{class:!0});var T=w(t);l=g(T,"DIV",{class:!0});var N=w(l);i=g(N,"IMG",{src:!0,alt:!0,class:!0}),o=D(N),a=g(N,"H2",{class:!0,"data-svelte-h":!0}),$(a)!=="svelte-19fsh53"&&(a.textContent=r),N.forEach(v),u=D(T),y&&y.l(T),T.forEach(v),f=D(z),I&&I.l(z),h=D(z),b.l(z),z.forEach(v),this.h()},h:function(){Mn(i.src,s="/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Blue.32.png")||d(i,"src",s),d(i,"alt",""),d(i,"class","title-tachi-icon svelte-1hpcjzz"),p(i,Ft,17,6,657),d(a,"class","svelte-1hpcjzz"),p(a,Ft,22,6,802),d(l,"class","title svelte-1hpcjzz"),p(l,Ft,16,4,631),d(t,"class","sidebar-header svelte-1hpcjzz"),p(t,Ft,15,2,598),d(e,"class","session-sidebar svelte-1hpcjzz"),d(e,"data-testid","session-sidebar"),p(e,Ft,14,0,536)},m:function(V,z){Q(V,e,z),c(e,t),c(t,l),c(l,i),c(l,o),c(l,a),c(t,u),y&&y.m(t,null),c(e,f),I&&I.m(e,null),c(e,h),S[m].m(e,null),k=!0},p:function(V,[z]){V[1]?y?z&2&&J(y,1):(y=Ll(V),y.c(),J(y,1),y.m(t,null)):y&&(ct(),ee(y,1,1,()=>{y=null}),ut()),V[2]?I?(I.p(V,z),z&4&&J(I,1)):(I=Fl(V),I.c(),J(I,1),I.m(e,h)):I&&(ct(),ee(I,1,1,()=>{I=null}),ut());let T=m;m=C(V),m===T?S[m].p(V,z):(ct(),ee(S[T],1,1,()=>{S[T]=null}),ut(),b=S[m],b?b.p(V,z):(b=S[m]=E[m](V),b.c()),J(b,1),b.m(e,null))},i:function(V){k||(J(y),J(I),J(b),k=!0)},o:function(V){ee(y),ee(I),ee(b),k=!1},d:function(V){V&&v(e),y&&y.d(),I&&I.d(),S[m].d()}};return L("SvelteRegisterBlock",{block:P,id:Hl.name,type:"component",source:"",ctx:n}),P}function lu(n,e,t){let l,i,s,o,a;Wt(Ml,"sessions"),Ht(n,Ml,y=>t(6,i=y)),Wt(_s,"sessionLoading"),Ht(n,_s,y=>t(1,s=y)),Wt(bs,"sessionError"),Ht(n,bs,y=>t(2,o=y)),Wt(gs,"activeSession"),Ht(n,gs,y=>t(3,a=y));let{$$slots:r={},$$scope:u}=e;en("SessionSidebar",r,[]);let{sessionId:f=null}=e;function h(y){Gt.setActiveSession(y)}const m=["sessionId"];Object.keys(e).forEach(y=>{!~m.indexOf(y)&&y.slice(0,2)});const b=()=>Gt.clearError(),k=y=>h(y.id);return n.$$set=y=>{"sessionId"in y&&t(5,f=y.sessionId)},n.$capture_state=()=>({sessionId:f,Icon:Ge,RelativeTime:Ga,Spinner:Rn,forgeSessionStore:Gt,sessions:Ml,activeSession:gs,sessionLoading:_s,sessionError:bs,handleSelect:h,sortedSessions:l,$sessions:i,$sessionLoading:s,$sessionError:o,$activeSession:a}),n.$inject_state=y=>{"sessionId"in y&&t(5,f=y.sessionId),"sortedSessions"in y&&t(0,l=y.sortedSessions)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&64&&t(0,l=[...i].sort((y,I)=>I.updatedAt.getTime()-y.updatedAt.getTime()))},[l,s,o,a,h,f,i,b,k]}class Ha extends $t{constructor(e){super(e),xt(this,e,lu,Hl,Jt,{sessionId:5}),L("SvelteRegisterComponent",{component:this,tagName:"SessionSidebar",options:e,id:Hl.name})}get sessionId(){throw new Error("<SessionSidebar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sessionId(e){throw new Error("<SessionSidebar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Bt="src/lib/components/forge/ParticipantPanel.svelte";function oa(n,e,t){const l=n.slice();l[9]=e[t];const i=Xa(l[9].avatar);return l[10]=i,l}function aa(n,e,t){const l=n.slice();return l[13]=e[t],l}function Ua(n){let e,t,l="No participants in this session";const i={c:function(){e=_("div"),t=_("p"),t.textContent=l,this.h()},l:function(o){e=g(o,"DIV",{class:!0});var a=w(e);t=g(a,"P",{"data-svelte-h":!0}),$(t)!=="svelte-1eqo4mi"&&(t.textContent=l),a.forEach(v),this.h()},h:function(){p(t,Bt,111,6,3932),d(e,"class","no-participants svelte-xq8x10"),p(e,Bt,110,4,3896)},m:function(o,a){Q(o,e,a),c(e,t)},p:$e,d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:Ua.name,type:"else",source:"(101:2) {:else}",ctx:n}),i}function Qa(n){let e,t,l,i=Je(n[2]),s=[];for(let r=0;r<i.length;r+=1)s[r]=Kl(oa(n,i,r));let o=n[0]?.oracle&&Yl(n);const a={c:function(){e=_("div");for(let u=0;u<s.length;u+=1)s[u].c();t=R(),o&&o.c(),l=An(),this.h()},l:function(u){e=g(u,"DIV",{class:!0});var f=w(e);for(let h=0;h<s.length;h+=1)s[h].l(f);f.forEach(v),t=D(u),o&&o.l(u),l=An(),this.h()},h:function(){d(e,"class","participant-list svelte-xq8x10"),p(e,Bt,45,4,1292)},m:function(u,f){Q(u,e,f);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);Q(u,t,f),o&&o.m(u,f),Q(u,l,f)},p:function(u,f){if(f&126){i=Je(u[2]);let h;for(h=0;h<i.length;h+=1){const m=oa(u,i,h);s[h]?s[h].p(m,f):(s[h]=Kl(m),s[h].c(),s[h].m(e,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=i.length}u[0]?.oracle?o?o.p(u,f):(o=Yl(u),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d:function(u){u&&(v(e),v(t),v(l)),ln(s,u),o&&o.d(u)}};return L("SvelteRegisterBlock",{block:a,id:Qa.name,type:"if",source:"(36:2) {#if participants.length > 0}",ctx:n}),a}function Ka(n){let e,t=n[9].name.charAt(0).toUpperCase()+"",l;const i={c:function(){e=_("div"),l=U(t),this.h()},l:function(o){e=g(o,"DIV",{class:!0});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){d(e,"class","avatar-placeholder svelte-xq8x10"),p(e,Bt,65,14,2153)},m:function(o,a){Q(o,e,a),c(e,l)},p:function(o,a){a&4&&t!==(t=o[9].name.charAt(0).toUpperCase()+"")&&le(l,t)},d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:Ka.name,type:"else",source:"(56:12) {:else}",ctx:n}),i}function Ya(n){let e,t=n[10].emoji+"",l;const i={c:function(){e=_("div"),l=U(t),this.h()},l:function(o){e=g(o,"DIV",{class:!0,"aria-hidden":!0});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){d(e,"class","avatar-placeholder emoji svelte-xq8x10"),d(e,"aria-hidden","true"),p(e,Bt,63,14,2046)},m:function(o,a){Q(o,e,a),c(e,l)},p:function(o,a){a&4&&t!==(t=o[10].emoji+"")&&le(l,t)},d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:Ya.name,type:"if",source:"(54:30) ",ctx:n}),i}function Ja(n){let e,t,l,i,s;function o(){return n[7](n[9])}const a={c:function(){e=_("img"),this.h()},l:function(u){e=g(u,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Mn(e.src,t=n[10].src)||d(e,"src",t),d(e,"alt",l=n[9].name+" avatar"),d(e,"class","svelte-xq8x10"),p(e,Bt,57,14,1837)},m:function(u,f){Q(u,e,f),i||(s=Re(e,"error",o,!1,!1,!1,!1),i=!0)},p:function(u,f){n=u,f&12&&!Mn(e.src,t=n[10].src)&&d(e,"src",t),f&12&&l!==(l=n[9].name+" avatar")&&d(e,"alt",l)},d:function(u){u&&v(e),i=!1,s()}};return L("SvelteRegisterBlock",{block:a,id:Ja.name,type:"if",source:"(48:12) {#if a.src && !brokenAvatarIds.has(participant.id)}",ctx:n}),a}function Ul(n){let e,t,l,i,s,o,a,r,u,f,h,m,b=Je(n[3]),k=[];for(let E=0;E<b.length;E+=1)k[E]=Ql(aa(n,b,E));function y(...E){return n[8](n[9],...E)}const I={c:function(){e=_("div"),t=_("label"),l=U("Model"),s=R(),o=_("select");for(let S=0;S<k.length;S+=1)k[S].c();this.h()},l:function(S){e=g(S,"DIV",{class:!0});var C=w(e);t=g(C,"LABEL",{class:!0,for:!0});var P=w(t);l=H(P,"Model"),P.forEach(v),s=D(C),o=g(C,"SELECT",{id:!0,class:!0,title:!0});var A=w(o);for(let V=0;V<k.length;V+=1)k[V].l(A);A.forEach(v),C.forEach(v),this.h()},h:function(){d(t,"class","model-label svelte-xq8x10"),d(t,"for",i="model-"+n[9].id),p(t,Bt,78,16,2750),d(o,"id",a="model-"+n[9].id),d(o,"class","model-select svelte-xq8x10"),o.disabled=u=!n[1],d(o,"title",f=n[1]?"":"Models can be edited before starting (Configuring) or when paused."),p(o,Bt,79,16,2839),d(e,"class","participant-model svelte-xq8x10"),p(e,Bt,77,14,2702)},m:function(S,C){Q(S,e,C),c(e,t),c(t,l),c(e,s),c(e,o);for(let P=0;P<k.length;P+=1)k[P]&&k[P].m(o,null);yn(o,n[9].modelId||"claude-sonnet-4-20250514"),h||(m=Re(o,"change",y,!1,!1,!1,!1),h=!0)},p:function(S,C){if(n=S,C&12&&i!==(i="model-"+n[9].id)&&d(t,"for",i),C&8){b=Je(n[3]);let P;for(P=0;P<b.length;P+=1){const A=aa(n,b,P);k[P]?k[P].p(A,C):(k[P]=Ql(A),k[P].c(),k[P].m(o,null))}for(;P<k.length;P+=1)k[P].d(1);k.length=b.length}C&12&&a!==(a="model-"+n[9].id)&&d(o,"id",a),C&12&&r!==(r=n[9].modelId||"claude-sonnet-4-20250514")&&yn(o,n[9].modelId||"claude-sonnet-4-20250514"),C&2&&u!==(u=!n[1])&&mn(o,"disabled",u),C&2&&f!==(f=n[1]?"":"Models can be edited before starting (Configuring) or when paused.")&&d(o,"title",f)},d:function(S){S&&v(e),ln(k,S),h=!1,m()}};return L("SvelteRegisterBlock",{block:I,id:Ul.name,type:"if",source:"(68:12) {#if participant.type === 'ai'}",ctx:n}),I}function Ql(n){let e,t=n[13].label+"",l;const i={c:function(){e=_("option"),l=U(t),this.h()},l:function(o){e=g(o,"OPTION",{});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){e.__value=n[13].id,Yt(e,e.__value),p(e,Bt,88,20,3349)},m:function(o,a){Q(o,e,a),c(e,l)},p:$e,d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:Ql.name,type:"each",source:"(79:18) {#each modelOptions as opt}",ctx:n}),i}function Kl(n){let e,t,l,i,s,o,a,r,u=n[9].name+"",f,h,m,b=n[9].role+"",k,y,I,E=n[9].status+"",S,C,P,A;function V(O,M){return M&4&&(l=null),l==null&&(l=!!(O[10].src&&!O[4].has(O[9].id))),l?Ja:O[10].emoji?Ya:Ka}let z=V(n,-1),T=z(n),N=n[9].type==="ai"&&Ul(n);const q={c:function(){e=_("div"),t=_("div"),T.c(),i=R(),s=_("div"),o=R(),a=_("div"),r=_("div"),f=U(u),h=R(),m=_("div"),k=U(b),y=R(),I=_("div"),S=U(E),C=R(),N&&N.c(),P=R(),this.h()},l:function(M){e=g(M,"DIV",{class:!0,"data-testid":!0});var j=w(e);t=g(j,"DIV",{class:!0});var K=w(t);T.l(K),i=D(K),s=g(K,"DIV",{class:!0}),w(s).forEach(v),K.forEach(v),o=D(j),a=g(j,"DIV",{class:!0});var F=w(a);r=g(F,"DIV",{class:!0});var Y=w(r);f=H(Y,u),Y.forEach(v),h=D(F),m=g(F,"DIV",{class:!0});var B=w(m);k=H(B,b),B.forEach(v),y=D(F),I=g(F,"DIV",{class:!0});var x=w(I);S=H(x,E),x.forEach(v),C=D(F),N&&N.l(F),F.forEach(v),P=D(j),j.forEach(v),this.h()},h:function(){d(s,"class","status-indicator svelte-xq8x10"),Pe(s,"ai",n[9].type==="ai"),p(s,Bt,69,12,2296),d(t,"class","participant-avatar svelte-xq8x10"),p(t,Bt,55,10,1726),d(r,"class","participant-name svelte-xq8x10"),p(r,Bt,73,12,2451),d(m,"class","participant-role svelte-xq8x10"),p(m,Bt,74,12,2518),d(I,"class","participant-status svelte-xq8x10"),p(I,Bt,75,12,2585),d(a,"class","participant-info svelte-xq8x10"),p(a,Bt,72,10,2408),d(e,"class","participant-item svelte-xq8x10"),d(e,"data-testid",A="participant-"+n[9].id),Pe(e,"active",n[9].status==="active"),Pe(e,"thinking",n[9].status==="thinking"),Pe(e,"contributing",n[9].status==="contributing"),p(e,Bt,48,8,1426)},m:function(M,j){Q(M,e,j),c(e,t),T.m(t,null),c(t,i),c(t,s),c(e,o),c(e,a),c(a,r),c(r,f),c(a,h),c(a,m),c(m,k),c(a,y),c(a,I),c(I,S),c(a,C),N&&N.m(a,null),c(e,P)},p:function(M,j){z===(z=V(M,j))&&T?T.p(M,j):(T.d(1),T=z(M),T&&(T.c(),T.m(t,i))),j&4&&Pe(s,"ai",M[9].type==="ai"),j&4&&u!==(u=M[9].name+"")&&le(f,u),j&4&&b!==(b=M[9].role+"")&&le(k,b),j&4&&E!==(E=M[9].status+"")&&le(S,E),M[9].type==="ai"?N?N.p(M,j):(N=Ul(M),N.c(),N.m(a,null)):N&&(N.d(1),N=null),j&12&&A!==(A="participant-"+M[9].id)&&d(e,"data-testid",A),j&4&&Pe(e,"active",M[9].status==="active"),j&4&&Pe(e,"thinking",M[9].status==="thinking"),j&4&&Pe(e,"contributing",M[9].status==="contributing")},d:function(M){M&&v(e),T.d(),N&&N.d()}};return L("SvelteRegisterBlock",{block:q,id:Kl.name,type:"each",source:"(38:6) {#each participants as participant}",ctx:n}),q}function Yl(n){let e,t,l="Oracle",i,s,o,a,r=n[0].oracle.name+"",u,f,h,m=n[0].oracle.type+"",b;const k={c:function(){e=_("div"),t=_("h4"),t.textContent=l,i=R(),s=_("div"),o=_("div"),a=_("div"),u=U(r),f=R(),h=_("div"),b=U(m),this.h()},l:function(I){e=g(I,"DIV",{class:!0});var E=w(e);t=g(E,"H4",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1dz89y4"&&(t.textContent=l),i=D(E),s=g(E,"DIV",{class:!0});var S=w(s);o=g(S,"DIV",{class:!0});var C=w(o);a=g(C,"DIV",{class:!0});var P=w(a);u=H(P,r),P.forEach(v),f=D(C),h=g(C,"DIV",{class:!0});var A=w(h);b=H(A,m),A.forEach(v),C.forEach(v),S.forEach(v),E.forEach(v),this.h()},h:function(){d(t,"class","svelte-xq8x10"),p(t,Bt,100,8,3611),d(a,"class","oracle-name svelte-xq8x10"),p(a,Bt,103,12,3709),d(h,"class","oracle-type svelte-xq8x10"),p(h,Bt,104,12,3774),d(o,"class","oracle-info"),p(o,Bt,102,10,3671),d(s,"class","oracle-item svelte-xq8x10"),p(s,Bt,101,8,3635),d(e,"class","oracle-section svelte-xq8x10"),p(e,Bt,99,6,3574)},m:function(I,E){Q(I,e,E),c(e,t),c(e,i),c(e,s),c(s,o),c(o,a),c(a,u),c(o,f),c(o,h),c(h,b)},p:function(I,E){E&1&&r!==(r=I[0].oracle.name+"")&&le(u,r),E&1&&m!==(m=I[0].oracle.type+"")&&le(b,m)},d:function(I){I&&v(e)}};return L("SvelteRegisterBlock",{block:k,id:Yl.name,type:"if",source:"(90:4) {#if session?.oracle}",ctx:n}),k}function Jl(n){let e,t,l="Participants",i;function s(u,f){return u[2].length>0?Qa:Ua}let o=s(n),a=o(n);const r={c:function(){e=_("div"),t=_("h3"),t.textContent=l,i=R(),a.c(),this.h()},l:function(f){e=g(f,"DIV",{class:!0,"data-testid":!0});var h=w(e);t=g(h,"H3",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-py7b26"&&(t.textContent=l),i=D(h),a.l(h),h.forEach(v),this.h()},h:function(){d(t,"class","svelte-xq8x10"),p(t,Bt,42,2,1231),d(e,"class","participant-panel svelte-xq8x10"),d(e,"data-testid","participant-panel"),p(e,Bt,41,0,1165)},m:function(f,h){Q(f,e,h),c(e,t),c(e,i),a.m(e,null)},p:function(f,[h]){o===(o=s(f))&&a?a.p(f,h):(a.d(1),a=o(f),a&&(a.c(),a.m(e,null)))},i:$e,o:$e,d:function(f){f&&v(e),a.d()}};return L("SvelteRegisterBlock",{block:r,id:Jl.name,type:"component",source:"",ctx:n}),r}function Xa(n){if(!n)return{};if(n.startsWith("asset:")){const e=n.slice(6),[t,l]=e.split("|");return{src:t,emoji:l}}return n.startsWith("/")||n.startsWith("http")?{src:n}:{emoji:n}}function iu(n,e,t){let l,i,{$$slots:s={},$$scope:o}=e;en("ParticipantPanel",s,[]);let{session:a=null}=e;const r=[{id:"claude-sonnet-4-20250514",label:"Claude Sonnet 4 (Anthropic)"},{id:"claude-3-5-sonnet-20241022",label:"Claude 3.5 Sonnet (Anthropic)"},{id:"gpt-4-turbo",label:"GPT-4 Turbo (OpenAI)"},{id:"ollama/llama3:latest",label:"Llama 3 (Ollama)"}],u=new Set;function f(y){u.add(y)}function h(y,I){a&&Gt.updateParticipantModel(a.id,y.id,I||void 0)}const m=["session"];Object.keys(e).forEach(y=>{!~m.indexOf(y)&&y.slice(0,2)});const b=y=>f(y.id),k=(y,I)=>h(y,I.currentTarget.value);return n.$$set=y=>{"session"in y&&t(0,a=y.session)},n.$capture_state=()=>({forgeSessionStore:Gt,session:a,modelOptions:r,brokenAvatarIds:u,parseAvatar:Xa,markAvatarBroken:f,setParticipantModel:h,canEditModels:i,participants:l}),n.$inject_state=y=>{"session"in y&&t(0,a=y.session),"canEditModels"in y&&t(1,i=y.canEditModels),"participants"in y&&t(2,l=y.participants)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&t(2,l=a?.participants||[]),n.$$.dirty&1&&t(1,i=a?.phase==="configuring"||a?.phase==="paused")},[a,i,l,r,u,f,h,b,k]}class Za extends $t{constructor(e){super(e),xt(this,e,iu,Jl,Jt,{session:0}),L("SvelteRegisterComponent",{component:this,tagName:"ParticipantPanel",options:e,id:Jl.name})}get session(){throw new Error("<ParticipantPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set session(e){throw new Error("<ParticipantPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function ou(){const n=fn({isRunning:!1,currentRound:0,activeParticipantId:null,pendingContributions:new Map,error:null,useMockMode:!0}),e=fn([]);let t=0;dn.state.subscribe(m=>{n.update(b=>({...b,useMockMode:m.useMockMode,...m.useMockMode?{}:{isRunning:m.isDeliberating,error:m.error}}))}),dn.messages.subscribe(m=>{const b=m.map(k=>({id:k.messageId,participantId:k.participantId,participantName:k.participantName,participantType:k.participantType,content:k.content,timestamp:new Date(k.timestamp),type:k.type,status:k.status}));if(b.length>0&&!sn(n).useMockMode){e.set(b);const k=[...b].reverse().find(y=>y.status==="streaming"||y.status==="pending")?.participantId??null;n.update(y=>({...y,activeParticipantId:k}))}});const l={drafting:[`Based on the session goal, I propose we structure this into three main components:

1. **Core Architecture** - Define the fundamental building blocks
2. **Interface Layer** - How users interact with the system
3. **Data Flow** - Information movement between components

This approach allows for modular development and clear separation of concerns.`,`I'll approach this from a user-centric perspective:

**User Stories:**
- As a developer, I need clear APIs to integrate quickly
- As an operator, I want visibility into system health
- As an admin, I require granular access controls

**Key Considerations:**
- Performance at scale
- Security by default
- Developer experience`,`Looking at this systematically, the goal suggests we need:

\`\`\`
Input â†’ Processing â†’ Output
         â†“
    Validation
         â†“
    Persistence
\`\`\`

I recommend starting with the happy path, then adding error handling and edge cases iteratively.`],critiquing:[`I see some strong elements in the proposals. However:

âš ï¸ **Concern**: The modular approach may introduce unnecessary complexity for the MVP

ðŸ’¡ **Suggestion**: Start with a monolithic core, then extract services as needed

âœ“ **Agreement**: The user-centric framing is valuable`,`Building on the previous contributions:

**Strengths:**
- Clear structure
- Good separation of concerns

**Gaps identified:**
- No mention of testing strategy
- Security considerations need elaboration
- What about backwards compatibility?`,`The systematic approach is sound, but I'd challenge:

1. The linear flow might not capture real-world async requirements
2. We should consider event-driven patterns
3. The persistence layer needs more detail - what's our consistency model?`],synthesis:[`**Synthesizing the discussion:**

We've converged on a layered architecture with:
- User-centric design principles
- Modular but pragmatic structure
- Event-driven core with sync interfaces

**Action Items:**
1. Define core data models
2. Draft API specifications
3. Create testing framework

**Open Questions:**
- Consistency vs availability trade-offs
- MVP scope boundaries`]};function i(m){return m!==t||!sn(n).isRunning}function s(m){return m==="critiquing"?["critiquing","synthesis"]:m==="converging"?["synthesis"]:["drafting","critiquing","synthesis"]}function o(m){return m==="critiquing"?"critique":m==="synthesis"?"synthesis":"proposal"}function a(m){return[...sn(e)].reverse().find(k=>k.status==="complete"&&k.type===m)??null}async function r(m){t+=1;const b=t;if(n.update(S=>({...S,isRunning:!0,error:null,currentRound:1,activeParticipantId:null})),!sn(n).useMockMode){try{const S=m.phase;if(await dn.startDeliberation(m.id,S))return}catch{}n.update(S=>({...S,useMockMode:!0}))}e.set([]);const y=m.participants.filter(S=>S.type==="ai"),I=String(m.phase||"drafting"),E=s(I);for(let S=0;S<E.length;S++){const C=E[S];n.update(A=>({...A,currentRound:S+1}));const P=l[C]||l.drafting;for(let A=0;A<y.length;A++){if(i(b))return;const V=y[A];n.update(N=>({...N,activeParticipantId:V.id}));const z={id:`msg-${Date.now()}-${S}-${A}`,participantId:V.id,participantName:V.name,participantType:V.type,content:"",timestamp:new Date,type:"thinking",status:"pending"};if(e.update(N=>[...N,z]),await ra(650+Math.random()*900),i(b))return;let T=P[A%P.length];if(C==="critiquing"){const N=a("proposal");N?.content&&(T=`**Critiquing (context: ${N.participantName})**

`+T+`

---

**Snippet Iâ€™m responding to:**
> ${N.content.slice(0,220).replace(/\n/g,`
> `)}`)}else if(C==="synthesis"){const N=a("critique");N?.content&&(T=T+`

---

**Incorporating critique from ${N.participantName}:**
> ${N.content.slice(0,220).replace(/\n/g,`
> `)}`)}await u(z.id,T,V,o(C))}}i(b)||n.update(S=>({...S,isRunning:!1,activeParticipantId:null}))}async function u(m,b,k,y){const I=b.split(" ");let E="";e.update(S=>S.map(C=>C.id===m?{...C,type:y,status:"streaming"}:C));for(let S=0;S<I.length;S++)E+=(S>0?" ":"")+I[S],e.update(C=>C.map(P=>P.id===m?{...P,content:E}:P)),await ra(20+Math.random()*40);e.update(S=>S.map(C=>C.id===m?{...C,status:"complete"}:C))}async function f(m){if(!sn(n).useMockMode&&m)try{await dn.stopDeliberation(m)}catch{}t+=1,n.update(k=>({...k,isRunning:!1,activeParticipantId:null}))}function h(){e.set([]),dn.clearMessages()}return{state:{subscribe:n.subscribe},messages:{subscribe:e.subscribe},startDeliberation:r,stopDeliberation:f,clearMessages:h}}function ra(n){return new Promise(e=>setTimeout(e,n))}const Xn=ou(),{Error:nl}=gl,ye="src/lib/components/forge/DeliberationView.svelte";function ca(n,e,t){const l=n.slice();return l[37]=e[t],l}function sl(n,e,t){const l=n.slice();l[40]=e[t];const i=l[26](l[40]);return l[41]=i,l}function $a(n){let e,t="IPC";const l={c:function(){e=_("span"),e.textContent=t,this.h()},l:function(s){e=g(s,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1bin84c"&&(e.textContent=t),this.h()},h:function(){d(e,"class","chip chip-ok svelte-aayt7z"),p(e,ye,145,10,3807)},m:function(s,o){Q(s,e,o)},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:$a.name,type:"else",source:"(116:8) {:else}",ctx:n}),l}function xa(n){let e,t="Mock";const l={c:function(){e=_("span"),e.textContent=t,this.h()},l:function(s){e=g(s,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1okki8u"&&(e.textContent=t),this.h()},h:function(){d(e,"class","chip chip-warn svelte-aayt7z"),p(e,ye,143,10,3740)},m:function(s,o){Q(s,e,o)},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:xa.name,type:"if",source:"(114:8) {#if useMockMode}",ctx:n}),l}function Xl(n){let e,t="Running";const l={c:function(){e=_("span"),e.textContent=t,this.h()},l:function(s){e=g(s,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-i8pp29"&&(e.textContent=t),this.h()},h:function(){d(e,"class","chip chip-live svelte-aayt7z"),p(e,ye,149,10,3944)},m:function(s,o){Q(s,e,o)},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Xl.name,type:"if",source:"(120:8) {#if isRunning}",ctx:n}),l}function er(n){let e,t,l,i,s,o,a;t=new Ge({props:{name:"zap",size:16},$$inline:!0});const r={c:function(){e=_("button"),Ie(t.$$.fragment),l=U(`
          Start deliberation`),this.h()},l:function(f){e=g(f,"BUTTON",{type:!0,class:!0});var h=w(e);Ee(t.$$.fragment,h),l=H(h,`
          Start deliberation`),h.forEach(v),this.h()},h:function(){d(e,"type","button"),d(e,"class","btn btn-primary svelte-aayt7z"),e.disabled=i=!n[0]||n[13]===0,p(e,ye,166,8,4499)},m:function(f,h){Q(f,e,h),Ce(t,e,null),c(e,l),s=!0,o||(a=Re(e,"click",n[20],!1,!1,!1,!1),o=!0)},p:function(f,h){(!s||h[0]&8193&&i!==(i=!f[0]||f[13]===0))&&mn(e,"disabled",i)},i:function(f){s||(J(t.$$.fragment,f),s=!0)},o:function(f){ee(t.$$.fragment,f),s=!1},d:function(f){f&&v(e),Se(t),o=!1,a()}};return L("SvelteRegisterBlock",{block:r,id:er.name,type:"else",source:"(137:6) {:else}",ctx:n}),r}function tr(n){let e,t,l,i;t=new Ge({props:{name:"user-plus",size:16},$$inline:!0});const s={c:function(){e=_("button"),Ie(t.$$.fragment),l=U(`
          Add AI agents`),this.h()},l:function(a){e=g(a,"BUTTON",{type:!0,class:!0,title:!0});var r=w(e);Ee(t.$$.fragment,r),l=H(r,`
          Add AI agents`),r.forEach(v),this.h()},h:function(){d(e,"type","button"),d(e,"class","btn btn-secondary svelte-aayt7z"),e.disabled=!0,d(e,"title","Add at least one AI agent to run a round"),p(e,ye,161,8,4282)},m:function(a,r){Q(a,e,r),Ce(t,e,null),c(e,l),i=!0},p:$e,i:function(a){i||(J(t.$$.fragment,a),i=!0)},o:function(a){ee(t.$$.fragment,a),i=!1},d:function(a){a&&v(e),Se(t)}};return L("SvelteRegisterBlock",{block:s,id:tr.name,type:"if",source:"(132:41) ",ctx:n}),s}function nr(n){let e,t,l,i,s,o;t=new Ge({props:{name:"square",size:16},$$inline:!0});const a={c:function(){e=_("button"),Ie(t.$$.fragment),l=U(`
          Stop`),this.h()},l:function(u){e=g(u,"BUTTON",{type:!0,class:!0});var f=w(e);Ee(t.$$.fragment,f),l=H(f,`
          Stop`),f.forEach(v),this.h()},h:function(){d(e,"type","button"),d(e,"class","btn btn-danger svelte-aayt7z"),p(e,ye,156,8,4088)},m:function(u,f){Q(u,e,f),Ce(t,e,null),c(e,l),i=!0,s||(o=Re(e,"click",n[21],!1,!1,!1,!1),s=!0)},p:$e,i:function(u){i||(J(t.$$.fragment,u),i=!0)},o:function(u){ee(t.$$.fragment,u),i=!1},d:function(u){u&&v(e),Se(t),s=!1,o()}};return L("SvelteRegisterBlock",{block:a,id:nr.name,type:"if",source:"(127:6) {#if isRunning}",ctx:n}),a}function Zl(n){let e,t,l,i,s,o="Deliberation error",a,r,u,f;t=new Ge({props:{name:"alert-triangle",size:16},$$inline:!0});const h={c:function(){e=_("div"),Ie(t.$$.fragment),l=R(),i=_("div"),s=_("div"),s.textContent=o,a=R(),r=_("div"),u=U(n[15]),this.h()},l:function(b){e=g(b,"DIV",{class:!0,role:!0});var k=w(e);Ee(t.$$.fragment,k),l=D(k),i=g(k,"DIV",{class:!0});var y=w(i);s=g(y,"DIV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-1f63lyi"&&(s.textContent=o),a=D(y),r=g(y,"DIV",{class:!0});var I=w(r);u=H(I,n[15]),I.forEach(v),y.forEach(v),k.forEach(v),this.h()},h:function(){d(s,"class","error-title svelte-aayt7z"),p(s,ye,183,8,4931),d(r,"class","error-msg svelte-aayt7z"),p(r,ye,184,8,4989),d(i,"class","error-text svelte-aayt7z"),p(i,ye,182,6,4898),d(e,"class","error-banner svelte-aayt7z"),d(e,"role","alert"),p(e,ye,180,4,4805)},m:function(b,k){Q(b,e,k),Ce(t,e,null),c(e,l),c(e,i),c(i,s),c(i,a),c(i,r),c(r,u),f=!0},p:function(b,k){(!f||k[0]&32768)&&le(u,b[15])},i:function(b){f||(J(t.$$.fragment,b),f=!0)},o:function(b){ee(t.$$.fragment,b),f=!1},d:function(b){b&&v(e),Se(t)}};return L("SvelteRegisterBlock",{block:h,id:Zl.name,type:"if",source:"(151:2) {#if error}",ctx:n}),h}function sr(n){let e,t;e=new Ge({props:{name:"refresh-cw",size:14},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:sr.name,type:"else",source:"(177:10) {:else}",ctx:n}),l}function lr(n){let e,t;e=new Rn({props:{size:14,color:"var(--tachi-cyan)"},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:lr.name,type:"if",source:"(175:10) {#if artifactLoading}",ctx:n}),l}function ir(n){let e,t,l,i,s,o,a,r,u="Latest draft (from feed)",f,h,m,b,k,y,I,E,S,C="Generated output (markdown)",P,A,V,z=n[9]&&$l(n);o=new Ge({props:{name:"file-text",size:16},$$inline:!0});function T(F,Y){return F[11]?rr:ar}let N=T(n),q=N(n);I=new Ge({props:{name:"package",size:16},$$inline:!0});function O(F,Y){return F[10]?ur:cr}let M=O(n),j=M(n);const K={c:function(){e=_("div"),z&&z.c(),t=R(),l=_("section"),i=_("div"),s=_("div"),Ie(o.$$.fragment),a=R(),r=_("span"),r.textContent=u,f=R(),h=_("div"),q.c(),m=R(),b=_("section"),k=_("div"),y=_("div"),Ie(I.$$.fragment),E=R(),S=_("span"),S.textContent=C,P=R(),A=_("div"),j.c(),this.h()},l:function(Y){e=g(Y,"DIV",{class:!0});var B=w(e);z&&z.l(B),t=D(B),l=g(B,"SECTION",{class:!0});var x=w(l);i=g(x,"DIV",{class:!0});var Z=w(i);s=g(Z,"DIV",{class:!0});var te=w(s);Ee(o.$$.fragment,te),a=D(te),r=g(te,"SPAN",{"data-svelte-h":!0}),$(r)!=="svelte-2uka25"&&(r.textContent=u),te.forEach(v),Z.forEach(v),f=D(x),h=g(x,"DIV",{class:!0});var X=w(h);q.l(X),X.forEach(v),x.forEach(v),m=D(B),b=g(B,"SECTION",{class:!0});var ne=w(b);k=g(ne,"DIV",{class:!0});var se=w(k);y=g(se,"DIV",{class:!0});var _e=w(y);Ee(I.$$.fragment,_e),E=D(_e),S=g(_e,"SPAN",{"data-svelte-h":!0}),$(S)!=="svelte-139pnbk"&&(S.textContent=C),_e.forEach(v),se.forEach(v),P=D(ne),A=g(ne,"DIV",{class:!0});var ue=w(A);j.l(ue),ue.forEach(v),ne.forEach(v),B.forEach(v),this.h()},h:function(){p(r,ye,322,14,10503),d(s,"class","artifact-title svelte-aayt7z"),p(s,ye,320,12,10410),d(i,"class","artifact-head svelte-aayt7z"),p(i,ye,319,10,10370),d(h,"class","artifact-body svelte-aayt7z"),p(h,ye,325,10,10587),d(l,"class","artifact-card svelte-aayt7z"),p(l,ye,318,8,10328),p(S,ye,338,14,11023),d(y,"class","artifact-title svelte-aayt7z"),p(y,ye,336,12,10932),d(k,"class","artifact-head svelte-aayt7z"),p(k,ye,335,10,10892),d(A,"class","artifact-body svelte-aayt7z"),p(A,ye,341,10,11110),d(b,"class","artifact-card svelte-aayt7z"),p(b,ye,334,8,10850),d(e,"class","artifacts-panel svelte-aayt7z"),p(e,ye,310,6,10097)},m:function(Y,B){Q(Y,e,B),z&&z.m(e,null),c(e,t),c(e,l),c(l,i),c(i,s),Ce(o,s,null),c(s,a),c(s,r),c(l,f),c(l,h),q.m(h,null),c(e,m),c(e,b),c(b,k),c(k,y),Ce(I,y,null),c(y,E),c(y,S),c(b,P),c(b,A),j.m(A,null),V=!0},p:function(Y,B){Y[9]?z?(z.p(Y,B),B[0]&512&&J(z,1)):(z=$l(Y),z.c(),J(z,1),z.m(e,t)):z&&(ct(),ee(z,1,1,()=>{z=null}),ut()),N===(N=T(Y))&&q?q.p(Y,B):(q.d(1),q=N(Y),q&&(q.c(),q.m(h,null))),M===(M=O(Y))&&j?j.p(Y,B):(j.d(1),j=M(Y),j&&(j.c(),j.m(A,null)))},i:function(Y){V||(J(z),J(o.$$.fragment,Y),J(I.$$.fragment,Y),V=!0)},o:function(Y){ee(z),ee(o.$$.fragment,Y),ee(I.$$.fragment,Y),V=!1},d:function(Y){Y&&v(e),z&&z.d(),Se(o),q.d(),Se(I),j.d()}};return L("SvelteRegisterBlock",{block:K,id:ir.name,type:"else",source:"(281:4) {:else}",ctx:n}),K}function or(n){let e,t,l,i;const s=[vr,hr,dr,fr],o=[];function a(u,f){return u[4].length===0&&u[17]?0:u[4].length===0&&u[0]&&u[13]===0?1:u[4].length===0?2:3}t=a(n),l=o[t]=s[t](n);const r={c:function(){e=_("div"),l.c(),this.h()},l:function(f){e=g(f,"DIV",{class:!0});var h=w(e);l.l(h),h.forEach(v),this.h()},h:function(){d(e,"class","messages-container svelte-aayt7z"),p(e,ye,214,6,6061)},m:function(f,h){Q(f,e,h),o[t].m(e,null),n[33](e),i=!0},p:function(f,h){let m=t;t=a(f),t===m?o[t].p(f,h):(ct(),ee(o[m],1,1,()=>{o[m]=null}),ut(),l=o[t],l?l.p(f,h):(l=o[t]=s[t](f),l.c()),J(l,1),l.m(e,null))},i:function(f){i||(J(l),i=!0)},o:function(f){ee(l),i=!1},d:function(f){f&&v(e),o[t].d(),n[33](null)}};return L("SvelteRegisterBlock",{block:r,id:or.name,type:"if",source:"(185:4) {#if viewMode === 'feed'}",ctx:n}),r}function $l(n){let e,t,l,i,s,o;t=new Ge({props:{name:"alert-triangle",size:14},$$inline:!0});const a={c:function(){e=_("div"),Ie(t.$$.fragment),l=R(),i=_("span"),s=U(n[9]),this.h()},l:function(u){e=g(u,"DIV",{class:!0});var f=w(e);Ee(t.$$.fragment,f),l=D(f),i=g(f,"SPAN",{});var h=w(i);s=H(h,n[9]),h.forEach(v),f.forEach(v),this.h()},h:function(){p(i,ye,314,12,10259),d(e,"class","artifact-error svelte-aayt7z"),p(e,ye,312,10,10165)},m:function(u,f){Q(u,e,f),Ce(t,e,null),c(e,l),c(e,i),c(i,s),o=!0},p:function(u,f){(!o||f[0]&512)&&le(s,u[9])},i:function(u){o||(J(t.$$.fragment,u),o=!0)},o:function(u){ee(t.$$.fragment,u),o=!1},d:function(u){u&&v(e),Se(t)}};return L("SvelteRegisterBlock",{block:a,id:$l.name,type:"if",source:"(283:8) {#if artifactError}",ctx:n}),a}function ar(n){let e,t="No completed draft yet.";const l={c:function(){e=_("div"),e.textContent=t,this.h()},l:function(s){e=g(s,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1dio9uu"&&(e.textContent=t),this.h()},h:function(){d(e,"class","artifact-empty svelte-aayt7z"),p(e,ye,329,14,10729)},m:function(s,o){Q(s,e,o)},p:$e,d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:ar.name,type:"else",source:"(300:12) {:else}",ctx:n}),l}function rr(n){let e,t=n[24](n[11])+"",l;const i={c:function(){e=new hs(!1),l=An(),this.h()},l:function(o){e=ds(o,!1),l=An(),this.h()},h:function(){e.a=l},m:function(o,a){e.m(t,o,a),Q(o,l,a)},p:function(o,a){a[0]&2048&&t!==(t=o[24](o[11])+"")&&e.p(t)},d:function(o){o&&(v(l),e.d())}};return L("SvelteRegisterBlock",{block:i,id:rr.name,type:"if",source:"(298:12) {#if latestDraft}",ctx:n}),i}function cr(n){let e,t="Click â€œRefresh artifactsâ€ to generate output.";const l={c:function(){e=_("div"),e.textContent=t,this.h()},l:function(s){e=g(s,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-8pnwq1"&&(e.textContent=t),this.h()},h:function(){d(e,"class","artifact-empty svelte-aayt7z"),p(e,ye,345,14,11262)},m:function(s,o){Q(s,e,o)},p:$e,d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:cr.name,type:"else",source:"(316:12) {:else}",ctx:n}),l}function ur(n){let e,t=n[24](n[10])+"",l;const i={c:function(){e=new hs(!1),l=An(),this.h()},l:function(o){e=ds(o,!1),l=An(),this.h()},h:function(){e.a=l},m:function(o,a){e.m(t,o,a),Q(o,l,a)},p:function(o,a){a[0]&1024&&t!==(t=o[24](o[10])+"")&&e.p(t)},d:function(o){o&&(v(l),e.d())}};return L("SvelteRegisterBlock",{block:i,id:ur.name,type:"if",source:"(314:12) {#if artifactMarkdown}",ctx:n}),i}function fr(n){let e=[],t=new Map,l,i,s,o=Je(n[4]);const a=f=>f[40].id;on(n,o,sl,a);for(let f=0;f<o.length;f+=1){let h=sl(n,o,f),m=a(h);t.set(m,e[f]=xl(m,h))}let r=n[17]&&n[16]&&ei(n);const u={c:function(){for(let h=0;h<e.length;h+=1)e[h].c();l=R(),r&&r.c(),i=An()},l:function(h){for(let m=0;m<e.length;m+=1)e[m].l(h);l=D(h),r&&r.l(h),i=An()},m:function(h,m){for(let b=0;b<e.length;b+=1)e[b]&&e[b].m(h,m);Q(h,l,m),r&&r.m(h,m),Q(h,i,m),s=!0},p:function(h,m){m[0]&251658256&&(o=Je(h[4]),ct(),on(h,o,sl,a),e=$n(e,m,a,1,h,o,t,l.parentNode,Ao,xl,l,sl),ut()),h[17]&&h[16]?r?m[0]&196608&&J(r,1):(r=ei(h),r.c(),J(r,1),r.m(i.parentNode,i)):r&&(ct(),ee(r,1,1,()=>{r=null}),ut())},i:function(h){if(!s){for(let m=0;m<o.length;m+=1)J(e[m]);J(r),s=!0}},o:function(h){for(let m=0;m<e.length;m+=1)ee(e[m]);ee(r),s=!1},d:function(h){h&&(v(l),v(i));for(let m=0;m<e.length;m+=1)e[m].d(h);r&&r.d(h)}};return L("SvelteRegisterBlock",{block:u,id:fr.name,type:"else",source:"(217:8) {:else}",ctx:n}),u}function dr(n){let e,t,l,i,s,o="Click â€œStart deliberationâ€ to let the agents run.",a,r,u="Use the prompt box below to add constraints or ask follow-ups.",f;l=new Ge({props:{name:"message-circle",size:48},$$inline:!0});const h={c:function(){e=_("div"),t=_("div"),Ie(l.$$.fragment),i=R(),s=_("p"),s.textContent=o,a=R(),r=_("small"),r.textContent=u,this.h()},l:function(b){e=g(b,"DIV",{class:!0});var k=w(e);t=g(k,"DIV",{class:!0});var y=w(t);Ee(l.$$.fragment,y),y.forEach(v),i=D(k),s=g(k,"P",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-1qgc4j3"&&(s.textContent=o),a=D(k),r=g(k,"SMALL",{"data-svelte-h":!0}),$(r)!=="svelte-7anag"&&(r.textContent=u),k.forEach(v),this.h()},h:function(){d(t,"class","empty-icon svelte-aayt7z"),p(t,ye,239,12,7142),d(s,"class","svelte-aayt7z"),p(s,ye,242,12,7253),p(r,ye,243,12,7322),d(e,"class","empty-state svelte-aayt7z"),p(e,ye,238,10,7104)},m:function(b,k){Q(b,e,k),c(e,t),Ce(l,t,null),c(e,i),c(e,s),c(e,a),c(e,r),f=!0},p:$e,i:function(b){f||(J(l.$$.fragment,b),f=!0)},o:function(b){ee(l.$$.fragment,b),f=!1},d:function(b){b&&v(e),Se(l)}};return L("SvelteRegisterBlock",{block:h,id:dr.name,type:"if",source:"(209:40) ",ctx:n}),h}function hr(n){let e,t,l,i,s,o="This session has no AI agents.",a,r,u="Add one or more AI participants to generate drafts.",f;l=new Ge({props:{name:"users",size:48},$$inline:!0});const h={c:function(){e=_("div"),t=_("div"),Ie(l.$$.fragment),i=R(),s=_("p"),s.textContent=o,a=R(),r=_("small"),r.textContent=u,this.h()},l:function(b){e=g(b,"DIV",{class:!0});var k=w(e);t=g(k,"DIV",{class:!0});var y=w(t);Ee(l.$$.fragment,y),y.forEach(v),i=D(k),s=g(k,"P",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-wy9bsp"&&(s.textContent=o),a=D(k),r=g(k,"SMALL",{"data-svelte-h":!0}),$(r)!=="svelte-q7m1zh"&&(r.textContent=u),k.forEach(v),this.h()},h:function(){d(t,"class","empty-icon svelte-aayt7z"),p(t,ye,231,12,6817),d(s,"class","svelte-aayt7z"),p(s,ye,234,12,6919),p(r,ye,235,12,6969),d(e,"class","empty-state svelte-aayt7z"),p(e,ye,230,10,6779)},m:function(b,k){Q(b,e,k),c(e,t),Ce(l,t,null),c(e,i),c(e,s),c(e,a),c(e,r),f=!0},p:$e,i:function(b){f||(J(l.$$.fragment,b),f=!0)},o:function(b){ee(l.$$.fragment,b),f=!1},d:function(b){b&&v(e),Se(l)}};return L("SvelteRegisterBlock",{block:h,id:hr.name,type:"if",source:"(201:68) ",ctx:n}),h}function vr(n){let e,t,l,i,s,o="Starting roundâ€¦",a,r,u;t=new Rn({props:{size:18,color:"var(--tachi-cyan)"},$$inline:!0});function f(k,y){return k[14]?Cr:Sr}let h=f(n),m=h(n);const b={c:function(){e=_("div"),Ie(t.$$.fragment),l=R(),i=_("div"),s=_("div"),s.textContent=o,a=R(),r=_("div"),m.c(),this.h()},l:function(y){e=g(y,"DIV",{class:!0,"aria-live":!0});var I=w(e);Ee(t.$$.fragment,I),l=D(I),i=g(I,"DIV",{class:!0});var E=w(i);s=g(E,"DIV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-h4we9w"&&(s.textContent=o),a=D(E),r=g(E,"DIV",{class:!0});var S=w(r);m.l(S),S.forEach(v),E.forEach(v),I.forEach(v),this.h()},h:function(){d(s,"class","starting-title svelte-aayt7z"),p(s,ye,219,14,6345),d(r,"class","starting-subtitle svelte-aayt7z"),p(r,ye,220,14,6409),d(i,"class","starting-text svelte-aayt7z"),p(i,ye,218,12,6303),d(e,"class","starting-state svelte-aayt7z"),d(e,"aria-live","polite"),p(e,ye,216,10,6183)},m:function(y,I){Q(y,e,I),Ce(t,e,null),c(e,l),c(e,i),c(i,s),c(i,a),c(i,r),m.m(r,null),u=!0},p:function(y,I){h!==(h=f(y))&&(m.d(1),m=h(y),m&&(m.c(),m.m(r,null)))},i:function(y){u||(J(t.$$.fragment,y),u=!0)},o:function(y){ee(t.$$.fragment,y),u=!1},d:function(y){y&&v(e),Se(t),m.d()}};return L("SvelteRegisterBlock",{block:b,id:vr.name,type:"if",source:"(187:8) {#if messages.length === 0 && isRunning}",ctx:n}),b}function mr(n){let e=n[40].participantName.charAt(0).toUpperCase()+"",t;const l={c:function(){t=U(e)},l:function(s){t=H(s,e)},m:function(s,o){Q(s,t,o)},p:function(s,o){o[0]&16&&e!==(e=s[40].participantName.charAt(0).toUpperCase()+"")&&le(t,e)},d:function(s){s&&v(t)}};return L("SvelteRegisterBlock",{block:l,id:mr.name,type:"else",source:"(236:18) {:else}",ctx:n}),l}function pr(n){let e,t=n[41].emoji+"",l;const i={c:function(){e=_("span"),l=U(t),this.h()},l:function(o){e=g(o,"SPAN",{class:!0,"aria-hidden":!0});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){d(e,"class","avatar-emoji svelte-aayt7z"),d(e,"aria-hidden","true"),p(e,ye,263,20,8281)},m:function(o,a){Q(o,e,a),c(e,l)},p:function(o,a){a[0]&16&&t!==(t=o[41].emoji+"")&&le(l,t)},d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:pr.name,type:"if",source:"(234:36) ",ctx:n}),i}function gr(n){let e,t,l,i,s;function o(){return n[32](n[40])}const a={c:function(){e=_("img"),this.h()},l:function(u){e=g(u,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Mn(e.src,t=n[41].src)||d(e,"src",t),d(e,"alt",l=n[40].participantName+" avatar"),d(e,"class","svelte-aayt7z"),p(e,ye,257,20,8022)},m:function(u,f){Q(u,e,f),i||(s=Re(e,"error",o,!1,!1,!1,!1),i=!0)},p:function(u,f){n=u,f[0]&16&&!Mn(e.src,t=n[41].src)&&d(e,"src",t),f[0]&16&&l!==(l=n[40].participantName+" avatar")&&d(e,"alt",l)},d:function(u){u&&v(e),i=!1,s()}};return L("SvelteRegisterBlock",{block:a,id:gr.name,type:"if",source:"(228:18) {#if a.src && !brokenAvatarIds.has(message.participantId)}",ctx:n}),a}function _r(n){let e,t,l,i="Thinkingâ€¦",s;e=new Rn({props:{size:14,color:"var(--tachi-cyan)"},$$inline:!0});const o={c:function(){Ie(e.$$.fragment),t=R(),l=_("span"),l.textContent=i,this.h()},l:function(r){Ee(e.$$.fragment,r),t=D(r),l=g(r,"SPAN",{"data-svelte-h":!0}),$(l)!=="svelte-1ebhhkk"&&(l.textContent=i),this.h()},h:function(){p(l,ye,282,20,9258)},m:function(r,u){Ce(e,r,u),Q(r,t,u),Q(r,l,u),s=!0},i:function(r){s||(J(e.$$.fragment,r),s=!0)},o:function(r){ee(e.$$.fragment,r),s=!1},d:function(r){r&&(v(t),v(l)),Se(e,r)}};return L("SvelteRegisterBlock",{block:o,id:_r.name,type:"else",source:"(252:18) {:else}",ctx:n}),o}function br(n){let e,t;e=new Ge({props:{name:"check-circle",size:14},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:br.name,type:"if",source:"(250:58) ",ctx:n}),l}function kr(n){let e,t,l,i="Streamingâ€¦",s;e=new Rn({props:{size:14,color:"var(--tachi-cyan)"},$$inline:!0});const o={c:function(){Ie(e.$$.fragment),t=R(),l=_("span"),l.textContent=i,this.h()},l:function(r){Ee(e.$$.fragment,r),t=D(r),l=g(r,"SPAN",{"data-svelte-h":!0}),$(l)!=="svelte-15ix2g"&&(l.textContent=i),this.h()},h:function(){p(l,ye,277,20,9002)},m:function(r,u){Ce(e,r,u),Q(r,t,u),Q(r,l,u),s=!0},i:function(r){s||(J(e.$$.fragment,r),s=!0)},o:function(r){ee(e.$$.fragment,r),s=!1},d:function(r){r&&(v(t),v(l)),Se(e,r)}};return L("SvelteRegisterBlock",{block:o,id:kr.name,type:"if",source:"(247:18) {#if message.status === 'streaming'}",ctx:n}),o}function yr(n){let e,t,l,i,s,o;const a={c:function(){e=_("div"),t=_("span"),l=R(),i=_("span"),s=R(),o=_("span"),this.h()},l:function(u){e=g(u,"DIV",{class:!0});var f=w(e);t=g(f,"SPAN",{class:!0}),w(t).forEach(v),l=D(f),i=g(f,"SPAN",{class:!0}),w(i).forEach(v),s=D(f),o=g(f,"SPAN",{class:!0}),w(o).forEach(v),f.forEach(v),this.h()},h:function(){d(t,"class","dot svelte-aayt7z"),p(t,ye,292,20,9585),d(i,"class","dot svelte-aayt7z"),p(i,ye,293,20,9631),d(o,"class","dot svelte-aayt7z"),p(o,ye,294,20,9677),d(e,"class","thinking-indicator svelte-aayt7z"),p(e,ye,291,18,9532)},m:function(u,f){Q(u,e,f),c(e,t),c(e,l),c(e,i),c(e,s),c(e,o)},p:$e,d:function(u){u&&v(e)}};return L("SvelteRegisterBlock",{block:a,id:yr.name,type:"else",source:"(262:16) {:else}",ctx:n}),a}function wr(n){let e,t=n[24](n[40].content)+"",l;const i={c:function(){e=new hs(!1),l=An(),this.h()},l:function(o){e=ds(o,!1),l=An(),this.h()},h:function(){e.a=l},m:function(o,a){e.m(t,o,a),Q(o,l,a)},p:function(o,a){a[0]&16&&t!==(t=o[24](o[40].content)+"")&&e.p(t)},d:function(o){o&&(v(l),e.d())}};return L("SvelteRegisterBlock",{block:i,id:wr.name,type:"if",source:"(260:16) {#if message.content}",ctx:n}),i}function xl(n,e){let t,l,i,s,o,a,r,u=e[40].participantName+"",f,h,m,b=e[40].timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})+"",k,y,I,E,S,C,P,A,V;function z(B,x){return x[0]&16&&(s=null),s==null&&(s=!!(B[41].src&&!B[25].has(B[40].participantId))),s?gr:B[41].emoji?pr:mr}let T=z(e,[-1,-1]),N=T(e);const q=[kr,br,_r],O=[];function M(B,x){return B[40].status==="streaming"?0:B[40].status==="complete"?1:2}E=M(e),S=O[E]=q[E](e);function j(B,x){return B[40].content?wr:yr}let K=j(e),F=K(e);const Y={key:n,first:null,c:function(){t=_("div"),l=_("div"),i=_("div"),N.c(),o=R(),a=_("div"),r=_("span"),f=U(u),h=R(),m=_("span"),k=U(b),y=R(),I=_("div"),S.c(),C=R(),P=_("div"),F.c(),this.h()},l:function(x){t=g(x,"DIV",{class:!0,"data-participant-type":!0});var Z=w(t);l=g(Z,"DIV",{class:!0});var te=w(l);i=g(te,"DIV",{class:!0});var X=w(i);N.l(X),X.forEach(v),o=D(te),a=g(te,"DIV",{class:!0});var ne=w(a);r=g(ne,"SPAN",{class:!0});var se=w(r);f=H(se,u),se.forEach(v),h=D(ne),m=g(ne,"SPAN",{class:!0});var _e=w(m);k=H(_e,b),_e.forEach(v),ne.forEach(v),y=D(te),I=g(te,"DIV",{class:!0});var ue=w(I);S.l(ue),ue.forEach(v),te.forEach(v),C=D(Z),P=g(Z,"DIV",{class:!0});var W=w(P);F.l(W),W.forEach(v),Z.forEach(v),this.h()},h:function(){d(i,"class","participant-avatar svelte-aayt7z"),Pe(i,"ai",e[40].participantType==="ai"),p(i,ye,255,16,7848),d(r,"class","participant-name svelte-aayt7z"),p(r,ye,269,18,8552),d(m,"class","message-time svelte-aayt7z"),p(m,ye,270,18,8634),d(a,"class","participant-info svelte-aayt7z"),p(a,ye,268,16,8503),d(I,"class","message-status svelte-aayt7z"),p(I,ye,274,16,8830),d(l,"class","message-header svelte-aayt7z"),p(l,ye,254,14,7803),d(P,"class","message-content svelte-aayt7z"),p(P,ye,287,14,9364),d(t,"class","message-card svelte-aayt7z"),d(t,"data-participant-type",A=e[40].participantType),Pe(t,"streaming",e[40].status==="streaming"),Pe(t,"thinking",e[40].type==="thinking"),p(t,ye,248,12,7551),this.first=t},m:function(x,Z){Q(x,t,Z),c(t,l),c(l,i),N.m(i,null),c(l,o),c(l,a),c(a,r),c(r,f),c(a,h),c(a,m),c(m,k),c(l,y),c(l,I),O[E].m(I,null),c(t,C),c(t,P),F.m(P,null),V=!0},p:function(x,Z){e=x,T===(T=z(e,Z))&&N?N.p(e,Z):(N.d(1),N=T(e),N&&(N.c(),N.m(i,null))),(!V||Z[0]&16)&&Pe(i,"ai",e[40].participantType==="ai"),(!V||Z[0]&16)&&u!==(u=e[40].participantName+"")&&le(f,u),(!V||Z[0]&16)&&b!==(b=e[40].timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})+"")&&le(k,b);let te=E;E=M(e),E!==te&&(ct(),ee(O[te],1,1,()=>{O[te]=null}),ut(),S=O[E],S||(S=O[E]=q[E](e),S.c()),J(S,1),S.m(I,null)),K===(K=j(e))&&F?F.p(e,Z):(F.d(1),F=K(e),F&&(F.c(),F.m(P,null))),(!V||Z[0]&16&&A!==(A=e[40].participantType))&&d(t,"data-participant-type",A),(!V||Z[0]&16)&&Pe(t,"streaming",e[40].status==="streaming"),(!V||Z[0]&16)&&Pe(t,"thinking",e[40].type==="thinking")},i:function(x){V||(J(S),V=!0)},o:function(x){ee(S),V=!1},d:function(x){x&&v(t),N.d(),O[E].d(),F.d()}};return L("SvelteRegisterBlock",{block:Y,id:xl.name,type:"each",source:"(218:10) {#each messages as message (message.id)}",ctx:e}),Y}function ei(n){let e,t,l,i,s="Participant is respondingâ€¦",o;t=new Rn({props:{size:12,color:"var(--tachi-cyan)"},$$inline:!0});const a={c:function(){e=_("div"),Ie(t.$$.fragment),l=R(),i=_("span"),i.textContent=s,this.h()},l:function(u){e=g(u,"DIV",{class:!0});var f=w(e);Ee(t.$$.fragment,f),l=D(f),i=g(f,"SPAN",{"data-svelte-h":!0}),$(i)!=="svelte-1mp5rny"&&(i.textContent=s),f.forEach(v),this.h()},h:function(){p(i,ye,304,14,9977),d(e,"class","typing-indicator svelte-aayt7z"),p(e,ye,302,12,9870)},m:function(u,f){Q(u,e,f),Ce(t,e,null),c(e,l),c(e,i),o=!0},i:function(u){o||(J(t.$$.fragment,u),o=!0)},o:function(u){ee(t.$$.fragment,u),o=!1},d:function(u){u&&v(e),Se(t)}};return L("SvelteRegisterBlock",{block:a,id:ei.name,type:"if",source:"(273:10) {#if isRunning && activeParticipantId}",ctx:n}),a}function Sr(n){let e;const t={c:function(){e=U("Waiting for the first streaming event from the backend.")},l:function(i){e=H(i,"Waiting for the first streaming event from the backend.")},m:function(i,s){Q(i,e,s)},d:function(i){i&&v(e)}};return L("SvelteRegisterBlock",{block:t,id:Sr.name,type:"else",source:"(195:16) {:else}",ctx:n}),t}function Cr(n){let e;const t={c:function(){e=U("Mock mode: simulating events.")},l:function(i){e=H(i,"Mock mode: simulating events.")},m:function(i,s){Q(i,e,s)},d:function(i){i&&v(e)}};return L("SvelteRegisterBlock",{block:t,id:Cr.name,type:"if",source:"(193:16) {#if useMockMode}",ctx:n}),t}function Er(n){let e,t="No human participant in this session.";const l={c:function(){e=_("span"),e.textContent=t,this.h()},l:function(s){e=g(s,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1cpxngt"&&(e.textContent=t),this.h()},h:function(){d(e,"class","prompt-hint svelte-aayt7z"),p(e,ye,365,10,11945)},m:function(s,o){Q(s,e,o)},p:$e,d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Er.name,type:"else",source:"(336:8) {:else}",ctx:n}),l}function Ir(n){let e,t,l,i=Je(n[5]),s=[];for(let a=0;a<i.length;a+=1)s[a]=ti(ca(n,i,a));const o={c:function(){e=_("select");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l:function(r){e=g(r,"SELECT",{class:!0,"aria-label":!0});var u=w(e);for(let f=0;f<s.length;f+=1)s[f].l(u);u.forEach(v),this.h()},h:function(){d(e,"class","prompt-select svelte-aayt7z"),d(e,"aria-label","Select human participant"),n[3]===void 0&&Oa(()=>n[34].call(e)),p(e,ye,359,10,11696)},m:function(r,u){Q(r,e,u);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);yn(e,n[3],!0),t||(l=Re(e,"change",n[34]),t=!0)},p:function(r,u){if(u[0]&32){i=Je(r[5]);let f;for(f=0;f<i.length;f+=1){const h=ca(r,i,f);s[f]?s[f].p(h,u):(s[f]=ti(h),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=i.length}u[0]&40&&yn(e,r[3])},d:function(r){r&&v(e),ln(s,r),t=!1,l()}};return L("SvelteRegisterBlock",{block:o,id:Ir.name,type:"if",source:"(330:8) {#if humans.length > 0}",ctx:n}),o}function ti(n){let e,t=n[37].name+"",l,i;const s={c:function(){e=_("option"),l=U(t),this.h()},l:function(a){e=g(a,"OPTION",{});var r=w(e);l=H(r,t),r.forEach(v),this.h()},h:function(){e.__value=i=n[37].id,Yt(e,e.__value),p(e,ye,361,14,11840)},m:function(a,r){Q(a,e,r),c(e,l)},p:function(a,r){r[0]&32&&t!==(t=a[37].name+"")&&le(l,t),r[0]&32&&i!==(i=a[37].id)&&(mn(e,"__value",i),Yt(e,e.__value))},d:function(a){a&&v(e)}};return L("SvelteRegisterBlock",{block:s,id:ti.name,type:"each",source:"(332:12) {#each humans as h}",ctx:n}),s}function Pr(n){let e,t;e=new Ge({props:{name:"send",size:14},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:Pr.name,type:"else",source:"(355:10) {:else}",ctx:n}),l}function Dr(n){let e,t;e=new Rn({props:{size:14,color:"var(--bg-primary, #0d1117)"},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:Dr.name,type:"if",source:"(353:10) {#if isSending}",ctx:n}),l}function ni(n){let e,t,l,i,s,o="Deliberation",a,r,u="Workspace",f,h,m,b,k,y,I,E,S,C,P,A,V,z,T,N,q,O,M,j,K,F,Y,B,x,Z,te,X,ne,se,_e,ue,W,G,he,ve,me,ke,Fe,Te="Prompt",fe,De,ae,Ve,rt,be,pe,ie,Ae,lt,Ye,gt,ze;function we(it,ge){return it[14]?xa:$a}let He=we(n),Xe=He(n),st=n[17]&&Xl(n);const St=[nr,tr,er],ht=[];function bt(it,ge){return it[17]?0:it[0]&&it[13]===0?1:2}S=bt(n),C=ht[S]=St[S](n);let tt=n[15]&&Zl(n);q=new Ge({props:{name:"message-circle",size:14},$$inline:!0}),K=new Ge({props:{name:"file-text",size:14},$$inline:!0});const mt=[lr,sr],We=[];function pt(it,ge){return it[8]?0:1}Z=pt(n),te=We[Z]=mt[Z](n);const xe=[or,ir],Ze=[];function Ue(it,ge){return it[12]==="feed"?0:1}_e=Ue(n),ue=Ze[_e]=xe[_e](n),me=new Ge({props:{name:"corner-down-right",size:14},$$inline:!0});function et(it,ge){return it[5].length>0?Ir:Er}let ft=et(n),wt=ft(n);const nt=[Dr,Pr],Ne=[];function kt(it,ge){return it[7]?0:1}pe=kt(n),ie=Ne[pe]=nt[pe](n);const vt={c:function(){e=_("div"),t=_("div"),l=_("div"),i=_("div"),s=_("span"),s.textContent=o,a=R(),r=_("span"),r.textContent=u,f=R(),h=_("div"),Xe.c(),m=R(),b=_("span"),k=U(n[1]),y=R(),st&&st.c(),I=R(),E=_("div"),C.c(),P=R(),tt&&tt.c(),A=R(),V=_("div"),z=_("div"),T=_("div"),N=_("button"),Ie(q.$$.fragment),O=U(`
          Feed`),M=R(),j=_("button"),Ie(K.$$.fragment),F=U(`
          Artifacts`),Y=R(),B=_("div"),x=_("button"),te.c(),X=U(`
          Refresh artifacts`),se=R(),ue.c(),W=R(),G=_("div"),he=_("div"),ve=_("div"),Ie(me.$$.fragment),ke=R(),Fe=_("span"),Fe.textContent=Te,fe=R(),wt.c(),De=R(),ae=_("div"),Ve=_("textarea"),rt=R(),be=_("button"),ie.c(),Ae=U(`
          Send`),this.h()},l:function(ge){e=g(ge,"DIV",{class:!0});var je=w(e);t=g(je,"DIV",{class:!0});var dt=w(t);l=g(dt,"DIV",{class:!0});var Vt=w(l);i=g(Vt,"DIV",{class:!0});var qe=w(i);s=g(qe,"SPAN",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-uj4x33"&&(s.textContent=o),a=D(qe),r=g(qe,"SPAN",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-f8h2bw"&&(r.textContent=u),qe.forEach(v),f=D(Vt),h=g(Vt,"DIV",{class:!0});var oe=w(h);Xe.l(oe),m=D(oe),b=g(oe,"SPAN",{class:!0});var Oe=w(b);k=H(Oe,n[1]),Oe.forEach(v),y=D(oe),st&&st.l(oe),oe.forEach(v),Vt.forEach(v),I=D(dt),E=g(dt,"DIV",{class:!0});var Ke=w(E);C.l(Ke),Ke.forEach(v),dt.forEach(v),P=D(je),tt&&tt.l(je),A=D(je),V=g(je,"DIV",{class:!0});var re=w(V);z=g(re,"DIV",{class:!0});var ot=w(z);T=g(ot,"DIV",{class:!0,role:!0,"aria-label":!0});var It=w(T);N=g(It,"BUTTON",{type:!0,class:!0});var At=w(N);Ee(q.$$.fragment,At),O=H(At,`
          Feed`),At.forEach(v),M=D(It),j=g(It,"BUTTON",{type:!0,class:!0});var Xt=w(j);Ee(K.$$.fragment,Xt),F=H(Xt,`
          Artifacts`),Xt.forEach(v),It.forEach(v),Y=D(ot),B=g(ot,"DIV",{class:!0});var Mt=w(B);x=g(Mt,"BUTTON",{type:!0,class:!0});var Pt=w(x);te.l(Pt),X=H(Pt,`
          Refresh artifacts`),Pt.forEach(v),Mt.forEach(v),ot.forEach(v),se=D(re),ue.l(re),W=D(re),G=g(re,"DIV",{class:!0,role:!0,"aria-label":!0});var Sn=w(G);he=g(Sn,"DIV",{class:!0});var zt=w(he);ve=g(zt,"DIV",{class:!0});var Ct=w(ve);Ee(me.$$.fragment,Ct),ke=D(Ct),Fe=g(Ct,"SPAN",{"data-svelte-h":!0}),$(Fe)!=="svelte-1qmc2ws"&&(Fe.textContent=Te),Ct.forEach(v),fe=D(zt),wt.l(zt),zt.forEach(v),De=D(Sn),ae=g(Sn,"DIV",{class:!0});var tn=w(ae);Ve=g(tn,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),w(Ve).forEach(v),rt=D(tn),be=g(tn,"BUTTON",{type:!0,class:!0});var cn=w(be);ie.l(cn),Ae=H(cn,`
          Send`),cn.forEach(v),tn.forEach(v),Sn.forEach(v),re.forEach(v),je.forEach(v),this.h()},h:function(){d(s,"class","title-kicker svelte-aayt7z"),p(s,ye,138,8,3567),d(r,"class","title-main svelte-aayt7z"),p(r,ye,139,8,3622),d(i,"class","title svelte-aayt7z"),p(i,ye,137,6,3539),d(b,"class","chip chip-run svelte-aayt7z"),p(b,ye,147,8,3867),d(h,"class","badges svelte-aayt7z"),p(h,ye,141,6,3683),d(l,"class","topbar-left svelte-aayt7z"),p(l,ye,136,4,3507),d(E,"class","topbar-right svelte-aayt7z"),p(E,ye,154,4,4031),d(t,"class","topbar svelte-aayt7z"),p(t,ye,135,2,3482),d(N,"type","button"),d(N,"class","wt svelte-aayt7z"),Pe(N,"active",n[12]==="feed"),p(N,ye,192,8,5206),d(j,"type","button"),d(j,"class","wt svelte-aayt7z"),Pe(j,"active",n[12]==="artifacts"),p(j,ye,196,8,5404),d(T,"class","workspace-tabs svelte-aayt7z"),d(T,"role","tablist"),d(T,"aria-label","Workspace view"),p(T,ye,191,6,5126),d(x,"type","button"),d(x,"class","btn btn-secondary svelte-aayt7z"),x.disabled=ne=!n[0]||n[8],p(x,ye,202,8,5663),d(B,"class","workspace-actions svelte-aayt7z"),p(B,ye,201,6,5623),d(z,"class","workspace-header svelte-aayt7z"),p(z,ye,190,4,5089),p(Fe,ye,356,10,11619),d(ve,"class","prompt-label svelte-aayt7z"),p(ve,ye,354,8,11528),d(he,"class","prompt-left svelte-aayt7z"),p(he,ye,353,6,11494),d(Ve,"class","prompt-input svelte-aayt7z"),d(Ve,"rows","2"),d(Ve,"placeholder","Ask a question, add constraints, or provide feedbackâ€¦"),p(Ve,ye,369,8,12084),d(be,"type","button"),d(be,"class","btn btn-primary svelte-aayt7z"),be.disabled=lt=!n[0]||!n[3]||!n[6].trim()||n[7],p(be,ye,375,8,12271),d(ae,"class","prompt-right svelte-aayt7z"),p(ae,ye,368,6,12049),d(G,"class","prompt-bar svelte-aayt7z"),d(G,"role","group"),d(G,"aria-label","Prompt input"),p(G,ye,352,4,11424),d(V,"class","workspace svelte-aayt7z"),p(V,ye,189,2,5061),d(e,"class","deliberation-view svelte-aayt7z"),p(e,ye,134,0,3448)},m:function(ge,je){Q(ge,e,je),c(e,t),c(t,l),c(l,i),c(i,s),c(i,a),c(i,r),c(l,f),c(l,h),Xe.m(h,null),c(h,m),c(h,b),c(b,k),c(h,y),st&&st.m(h,null),c(t,I),c(t,E),ht[S].m(E,null),c(e,P),tt&&tt.m(e,null),c(e,A),c(e,V),c(V,z),c(z,T),c(T,N),Ce(q,N,null),c(N,O),c(T,M),c(T,j),Ce(K,j,null),c(j,F),c(z,Y),c(z,B),c(B,x),We[Z].m(x,null),c(x,X),c(V,se),Ze[_e].m(V,null),c(V,W),c(V,G),c(G,he),c(he,ve),Ce(me,ve,null),c(ve,ke),c(ve,Fe),c(he,fe),wt.m(he,null),c(G,De),c(G,ae),c(ae,Ve),Yt(Ve,n[6]),c(ae,rt),c(ae,be),Ne[pe].m(be,null),c(be,Ae),Ye=!0,gt||(ze=[Re(N,"click",n[30],!1,!1,!1,!1),Re(j,"click",n[31],!1,!1,!1,!1),Re(x,"click",n[23],!1,!1,!1,!1),Re(Ve,"input",n[35]),Re(be,"click",n[22],!1,!1,!1,!1)],gt=!0)},p:function(ge,je){He!==(He=we(ge))&&(Xe.d(1),Xe=He(ge),Xe&&(Xe.c(),Xe.m(h,m))),(!Ye||je[0]&2)&&le(k,ge[1]),ge[17]?st||(st=Xl(ge),st.c(),st.m(h,null)):st&&(st.d(1),st=null);let dt=S;S=bt(ge),S===dt?ht[S].p(ge,je):(ct(),ee(ht[dt],1,1,()=>{ht[dt]=null}),ut(),C=ht[S],C?C.p(ge,je):(C=ht[S]=St[S](ge),C.c()),J(C,1),C.m(E,null)),ge[15]?tt?(tt.p(ge,je),je[0]&32768&&J(tt,1)):(tt=Zl(ge),tt.c(),J(tt,1),tt.m(e,A)):tt&&(ct(),ee(tt,1,1,()=>{tt=null}),ut()),(!Ye||je[0]&4096)&&Pe(N,"active",ge[12]==="feed"),(!Ye||je[0]&4096)&&Pe(j,"active",ge[12]==="artifacts");let Vt=Z;Z=pt(ge),Z!==Vt&&(ct(),ee(We[Vt],1,1,()=>{We[Vt]=null}),ut(),te=We[Z],te||(te=We[Z]=mt[Z](ge),te.c()),J(te,1),te.m(x,X)),(!Ye||je[0]&257&&ne!==(ne=!ge[0]||ge[8]))&&mn(x,"disabled",ne);let qe=_e;_e=Ue(ge),_e===qe?Ze[_e].p(ge,je):(ct(),ee(Ze[qe],1,1,()=>{Ze[qe]=null}),ut(),ue=Ze[_e],ue?ue.p(ge,je):(ue=Ze[_e]=xe[_e](ge),ue.c()),J(ue,1),ue.m(V,W)),ft===(ft=et(ge))&&wt?wt.p(ge,je):(wt.d(1),wt=ft(ge),wt&&(wt.c(),wt.m(he,null))),je[0]&64&&Yt(Ve,ge[6]);let oe=pe;pe=kt(ge),pe!==oe&&(ct(),ee(Ne[oe],1,1,()=>{Ne[oe]=null}),ut(),ie=Ne[pe],ie||(ie=Ne[pe]=nt[pe](ge),ie.c()),J(ie,1),ie.m(be,Ae)),(!Ye||je[0]&233&&lt!==(lt=!ge[0]||!ge[3]||!ge[6].trim()||ge[7]))&&mn(be,"disabled",lt)},i:function(ge){Ye||(J(C),J(tt),J(q.$$.fragment,ge),J(K.$$.fragment,ge),J(te),J(ue),J(me.$$.fragment,ge),J(ie),Ye=!0)},o:function(ge){ee(C),ee(tt),ee(q.$$.fragment,ge),ee(K.$$.fragment,ge),ee(te),ee(ue),ee(me.$$.fragment,ge),ee(ie),Ye=!1},d:function(ge){ge&&v(e),Xe.d(),st&&st.d(),ht[S].d(),tt&&tt.d(),Se(q),Se(K),We[Z].d(),Ze[_e].d(),Se(me),wt.d(),Ne[pe].d(),gt=!1,Dn(ze)}};return L("SvelteRegisterBlock",{block:vt,id:ni.name,type:"component",source:"",ctx:n}),vt}function ua(n){if(!n)return{};if(n.startsWith("asset:")){const e=n.slice(6),[t,l]=e.split("|");return{src:t,emoji:l}}return n.startsWith("/")||n.startsWith("http")?{src:n}:{emoji:n}}function au(n,e,t){let l,i,s,o,a,r,u,f,{$$slots:h={},$$scope:m}=e;en("DeliberationView",h,[]);let{session:b}=e,{phase:k}=e,y,I="",E=null,S=!1,C=!1,P=null,A=null,V=null,z="feed";const T=Xn.state;Wt(T,"deliberationState"),Ht(n,T,G=>t(29,f=G));const N=Xn.messages;Wt(N,"messagesStore"),Ht(n,N,G=>t(28,u=G));let q=[];function O(){b&&a!==0&&(Xn.clearMessages(),Xn.startDeliberation({...b,phase:k}))}function M(){Xn.stopDeliberation(b?.id)}async function j(){if(b&&I.trim()&&E){t(7,S=!0);try{await dn.submitMessage(b.id,I.trim(),E),t(6,I="")}finally{t(7,S=!1)}}}function K(){return Array.isArray(q)?[...q].filter(he=>he.status==="complete"&&(he.type==="proposal"||he.type==="synthesis")).reverse()[0]?.content??null:null}async function F(){if(b){t(8,C=!0),t(9,P=null);try{const G=await dn.generateOutput({sessionId:b.id,format:"markdown",includeMetadata:!1});t(10,A=G.content)}catch(G){t(9,P=G instanceof Error?G.message:String(G))}finally{t(8,C=!1)}}}function Y(G){return Qn(G)}const B=new Set;function x(G){const he=b?.participants?.find(ke=>ke.id===G.participantId),ve=b?.participants?.find(ke=>(ke.name||"").toLowerCase()===(G.participantName||"").toLowerCase());return ua((he||ve)?.avatar)}function Z(G){B.add(G)}n.$$.on_mount.push(function(){b===void 0&&("session"in e||n.$$.bound[n.$$.props.session]),k===void 0&&("phase"in e||n.$$.bound[n.$$.props.phase])});const te=["session","phase"];Object.keys(e).forEach(G=>{!~te.indexOf(G)&&G.slice(0,2)});const X=()=>t(12,z="feed"),ne=()=>t(12,z="artifacts"),se=G=>Z(G.participantId);function _e(G){ml[G?"unshift":"push"](()=>{y=G,t(2,y),t(4,q),t(28,u)})}function ue(){E=Wc(this),t(3,E),t(5,r),t(0,b),t(5,r),t(0,b)}function W(){I=this.value,t(6,I)}return n.$$set=G=>{"session"in G&&t(0,b=G.session),"phase"in G&&t(1,k=G.phase)},n.$capture_state=()=>({marked:Qn,Icon:Ge,Spinner:Rn,deliberationStore:Xn,forgeService:dn,session:b,phase:k,messagesContainer:y,prompt:I,selectedHumanId:E,isSending:S,artifactLoading:C,artifactError:P,artifactMarkdown:A,latestDraft:V,viewMode:z,deliberationState:T,messagesStore:N,messages:q,handleStartDeliberation:O,handleStop:M,handleSendPrompt:j,getLatestDraft:K,refreshArtifacts:F,renderMarkdown:Y,brokenAvatarIds:B,parseAvatar:ua,getParticipantAvatar:x,markAvatarBroken:Z,aiCount:a,humans:r,useMockMode:o,error:s,activeParticipantId:i,isRunning:l,$messagesStore:u,$deliberationState:f}),n.$inject_state=G=>{"session"in G&&t(0,b=G.session),"phase"in G&&t(1,k=G.phase),"messagesContainer"in G&&t(2,y=G.messagesContainer),"prompt"in G&&t(6,I=G.prompt),"selectedHumanId"in G&&t(3,E=G.selectedHumanId),"isSending"in G&&t(7,S=G.isSending),"artifactLoading"in G&&t(8,C=G.artifactLoading),"artifactError"in G&&t(9,P=G.artifactError),"artifactMarkdown"in G&&t(10,A=G.artifactMarkdown),"latestDraft"in G&&t(11,V=G.latestDraft),"viewMode"in G&&t(12,z=G.viewMode),"messages"in G&&t(4,q=G.messages),"aiCount"in G&&t(13,a=G.aiCount),"humans"in G&&t(5,r=G.humans),"useMockMode"in G&&t(14,o=G.useMockMode),"error"in G&&t(15,s=G.error),"activeParticipantId"in G&&t(16,i=G.activeParticipantId),"isRunning"in G&&t(17,l=G.isRunning)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty[0]&536870912&&t(17,l=f.isRunning),n.$$.dirty[0]&536870912&&t(16,i=f.activeParticipantId),n.$$.dirty[0]&536870912&&t(15,s=f.error),n.$$.dirty[0]&536870912&&t(14,o=f.useMockMode),n.$$.dirty[0]&268435456&&t(4,q=Array.isArray(u)?u:[]),n.$$.dirty[0]&1&&t(13,a=b?.participants?.filter(G=>G.type==="ai")?.length??0),n.$$.dirty[0]&1&&t(5,r=b?.participants?.filter(G=>G.type==="human")??[]),n.$$.dirty[0]&40&&r.length>0&&!E&&t(3,E=r[0].id),n.$$.dirty[0]&20&&q.length&&y&&setTimeout(()=>{t(2,y.scrollTop=y.scrollHeight,y)},50)},t(11,V=K()),[b,k,y,E,q,r,I,S,C,P,A,V,z,a,o,s,i,l,T,N,O,M,j,F,Y,B,x,Z,u,f,X,ne,se,_e,ue,W]}class Rr extends $t{constructor(e){super(e),xt(this,e,au,ni,Jt,{session:0,phase:1},null,[-1,-1]),L("SvelteRegisterComponent",{component:this,tagName:"DeliberationView",options:e,id:ni.name})}get session(){throw new nl("<DeliberationView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set session(e){throw new nl("<DeliberationView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get phase(){throw new nl("<DeliberationView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set phase(e){throw new nl("<DeliberationView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ce="src/lib/components/forge/MainContentArea.svelte";function fa(n,e,t){const l=n.slice();return l[12]=e[t],l}function Vr(n){let e,t,l,i="ðŸ”¥",s,o,a="Spec Forge",r,u,f="Multi-model deliberation engine for spec creation and refinement",h,m,b,k,y,I,E,S,C,P="ðŸ‘¥",A,V,z="Multi-Agent",T,N,q="Bring together AI models with different perspectives",O,M,j,K="ðŸŽ¯",F,Y,B="Goal-Driven",x,Z,te="Define objectives and let agents deliberate solutions",X,ne,se,_e="âš¡",ue,W,G="Convergence",he,ve,me="Structured rounds to reach consensus on complex topics",ke;k=new Ge({props:{name:"zap",size:20},$$inline:!0});const Fe={c:function(){e=_("div"),t=_("div"),l=_("div"),l.textContent=i,s=R(),o=_("h1"),o.textContent=a,r=R(),u=_("p"),u.textContent=f,h=R(),m=_("div"),b=_("button"),Ie(k.$$.fragment),y=U(`
            Create New Session`),I=R(),E=_("div"),S=_("div"),C=_("div"),C.textContent=P,A=R(),V=_("h3"),V.textContent=z,T=R(),N=_("p"),N.textContent=q,O=R(),M=_("div"),j=_("div"),j.textContent=K,F=R(),Y=_("h3"),Y.textContent=B,x=R(),Z=_("p"),Z.textContent=te,X=R(),ne=_("div"),se=_("div"),se.textContent=_e,ue=R(),W=_("h3"),W.textContent=G,he=R(),ve=_("p"),ve.textContent=me,this.h()},l:function(fe){e=g(fe,"DIV",{class:!0});var De=w(e);t=g(De,"DIV",{class:!0});var ae=w(t);l=g(ae,"DIV",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-125ym0r"&&(l.textContent=i),s=D(ae),o=g(ae,"H1",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-1ikiv6k"&&(o.textContent=a),r=D(ae),u=g(ae,"P",{class:!0,"data-svelte-h":!0}),$(u)!=="svelte-1x1uv6k"&&(u.textContent=f),h=D(ae),m=g(ae,"DIV",{class:!0});var Ve=w(m);b=g(Ve,"BUTTON",{type:!0,class:!0});var rt=w(b);Ee(k.$$.fragment,rt),y=H(rt,`
            Create New Session`),rt.forEach(v),Ve.forEach(v),I=D(ae),E=g(ae,"DIV",{class:!0});var be=w(E);S=g(be,"DIV",{class:!0});var pe=w(S);C=g(pe,"DIV",{class:!0,"data-svelte-h":!0}),$(C)!=="svelte-5uckmt"&&(C.textContent=P),A=D(pe),V=g(pe,"H3",{class:!0,"data-svelte-h":!0}),$(V)!=="svelte-14o2gtd"&&(V.textContent=z),T=D(pe),N=g(pe,"P",{class:!0,"data-svelte-h":!0}),$(N)!=="svelte-tkmyqu"&&(N.textContent=q),pe.forEach(v),O=D(be),M=g(be,"DIV",{class:!0});var ie=w(M);j=g(ie,"DIV",{class:!0,"data-svelte-h":!0}),$(j)!=="svelte-9nnsxm"&&(j.textContent=K),F=D(ie),Y=g(ie,"H3",{class:!0,"data-svelte-h":!0}),$(Y)!=="svelte-10wnjay"&&(Y.textContent=B),x=D(ie),Z=g(ie,"P",{class:!0,"data-svelte-h":!0}),$(Z)!=="svelte-sjg80c"&&(Z.textContent=te),ie.forEach(v),X=D(be),ne=g(be,"DIV",{class:!0});var Ae=w(ne);se=g(Ae,"DIV",{class:!0,"data-svelte-h":!0}),$(se)!=="svelte-eikmhw"&&(se.textContent=_e),ue=D(Ae),W=g(Ae,"H3",{class:!0,"data-svelte-h":!0}),$(W)!=="svelte-ab93pt"&&(W.textContent=G),he=D(Ae),ve=g(Ae,"P",{class:!0,"data-svelte-h":!0}),$(ve)!=="svelte-12d1q0q"&&(ve.textContent=me),Ae.forEach(v),be.forEach(v),ae.forEach(v),De.forEach(v),this.h()},h:function(){d(l,"class","welcome-icon svelte-1m5bgor"),p(l,ce,265,8,10393),d(o,"class","svelte-1m5bgor"),p(o,ce,266,8,10436),d(u,"class","welcome-tagline svelte-1m5bgor"),p(u,ce,267,8,10464),d(b,"type","button"),d(b,"class","btn btn-primary btn-large svelte-1m5bgor"),p(b,ce,270,10,10617),d(m,"class","welcome-actions svelte-1m5bgor"),p(m,ce,269,8,10577),d(C,"class","feature-icon svelte-1m5bgor"),p(C,ce,278,12,10871),d(V,"class","svelte-1m5bgor"),p(V,ce,279,12,10918),d(N,"class","svelte-1m5bgor"),p(N,ce,280,12,10951),d(S,"class","feature-card svelte-1m5bgor"),p(S,ce,277,10,10832),d(j,"class","feature-icon svelte-1m5bgor"),p(j,ce,283,12,11077),d(Y,"class","svelte-1m5bgor"),p(Y,ce,284,12,11124),d(Z,"class","svelte-1m5bgor"),p(Z,ce,285,12,11157),d(M,"class","feature-card svelte-1m5bgor"),p(M,ce,282,10,11038),d(se,"class","feature-icon svelte-1m5bgor"),p(se,ce,288,12,11284),d(W,"class","svelte-1m5bgor"),p(W,ce,289,12,11330),d(ve,"class","svelte-1m5bgor"),p(ve,ce,290,12,11363),d(ne,"class","feature-card svelte-1m5bgor"),p(ne,ce,287,10,11245),d(E,"class","welcome-features svelte-1m5bgor"),p(E,ce,276,8,10791),d(t,"class","welcome-content svelte-1m5bgor"),p(t,ce,264,6,10355),d(e,"class","welcome-view svelte-1m5bgor"),p(e,ce,263,4,10322)},m:function(fe,De){Q(fe,e,De),c(e,t),c(t,l),c(t,s),c(t,o),c(t,r),c(t,u),c(t,h),c(t,m),c(m,b),Ce(k,b,null),c(b,y),c(t,I),c(t,E),c(E,S),c(S,C),c(S,A),c(S,V),c(S,T),c(S,N),c(E,O),c(E,M),c(M,j),c(M,F),c(M,Y),c(M,x),c(M,Z),c(E,X),c(E,ne),c(ne,se),c(ne,ue),c(ne,W),c(ne,he),c(ne,ve),ke=!0},p:$e,i:function(fe){ke||(J(k.$$.fragment,fe),ke=!0)},o:function(fe){ee(k.$$.fragment,fe),ke=!1},d:function(fe){fe&&v(e),Se(k)}};return L("SvelteRegisterBlock",{block:Fe,id:Vr.name,type:"else",source:"(246:2) {:else}",ctx:n}),Fe}function Ar(n){let e,t,l,i,s,o,a,r,u,f=(n[1].name||"Untitled Session")+"",h,m,b,k,y=n[4].icon+"",I,E,S=n[4].label+"",C,P,A,V,z="â€¢",T,N,q,O,M=n[5]!==1?"s":"",j,K,F,Y="â€¢",B,x,Z,te,X=n[2]!==1?"s":"",ne,se,_e,ue,W,G,he,ve,me,ke,Fe,Te,fe="ðŸŽ¯",De,ae,Ve="Session Goal",rt,be,pe="OBJECTIVE",ie,Ae,lt,Ye,gt,ze,we,He,Xe,st="Participants",St,ht,bt,tt,mt,We,pt,xe,Ze,Ue,et,ft="Oracle",wt,nt,Ne,kt,vt,it,ge,je,dt="Configuration",Vt,qe,oe,Oe,Ke,re=n[1].createdAt&&si(n);const ot=[zr,Mr],It=[];function At(Tt,Le){return Tt[0]==="configuring"?0:Tt[0]==="paused"?1:-1}~(W=At(n))&&(G=It[W]=ot[W](n));function Xt(Tt,Le){return Tt[6]?Nr:Tr}let Mt=Xt(n),Pt=Mt(n);we=new Ge({props:{name:"users",size:18},$$inline:!0});function Sn(Tt,Le){return Tt[1].participants&&Tt[1].participants.length>0?jr:Br}let zt=Sn(n),Ct=zt(n);Ze=new Ge({props:{name:"brain",size:18},$$inline:!0});function tn(Tt,Le){return Tt[1].oracle?qr:Or}let cn=tn(n),Qt=cn(n);it=new Ge({props:{name:"settings",size:18},$$inline:!0});function Kn(Tt,Le){return Tt[1].config?Lr:Gr}let Zt=Kn(n),jt=Zt(n),Dt=(n[0]==="drafting"||n[0]==="critiquing"||n[0]==="deliberating"||n[0]==="converging")&&ai(n),at=n[0]==="completed"&&ri(n);const zn={c:function(){e=_("div"),t=_("header"),l=_("div"),i=_("div"),s=_("img"),a=R(),r=_("div"),u=_("h1"),h=U(f),m=R(),b=_("div"),k=_("span"),I=U(y),E=R(),C=U(S),A=R(),V=_("span"),V.textContent=z,T=R(),N=_("span"),q=U(n[5]),O=U(" human"),j=U(M),K=R(),F=_("span"),F.textContent=Y,B=R(),x=_("span"),Z=U(n[2]),te=U(" AI agent"),ne=U(X),se=R(),re&&re.c(),_e=R(),ue=_("div"),G&&G.c(),he=R(),ve=_("div"),me=_("section"),ke=_("div"),Fe=_("div"),Te=_("span"),Te.textContent=fe,De=R(),ae=_("h2"),ae.textContent=Ve,rt=R(),be=_("span"),be.textContent=pe,ie=R(),Ae=_("div"),Pt.c(),lt=R(),Ye=_("div"),gt=_("section"),ze=_("div"),Ie(we.$$.fragment),He=R(),Xe=_("h3"),Xe.textContent=st,St=R(),ht=_("span"),bt=U(n[3]),tt=R(),mt=_("div"),Ct.c(),We=R(),pt=_("section"),xe=_("div"),Ie(Ze.$$.fragment),Ue=R(),et=_("h3"),et.textContent=ft,wt=R(),nt=_("div"),Qt.c(),Ne=R(),kt=_("section"),vt=_("div"),Ie(it.$$.fragment),ge=R(),je=_("h3"),je.textContent=dt,Vt=R(),qe=_("div"),jt.c(),oe=R(),Dt&&Dt.c(),Oe=R(),at&&at.c(),this.h()},l:function(Le){e=g(Le,"DIV",{class:!0});var Et=w(e);t=g(Et,"HEADER",{class:!0});var Vn=w(t);l=g(Vn,"DIV",{class:!0});var pn=w(l);i=g(pn,"DIV",{class:!0});var Fn=w(i);s=g(Fn,"IMG",{src:!0,alt:!0,class:!0}),Fn.forEach(v),a=D(pn),r=g(pn,"DIV",{class:!0});var gn=w(r);u=g(gn,"H1",{class:!0});var Tn=w(u);h=H(Tn,f),Tn.forEach(v),m=D(gn),b=g(gn,"DIV",{class:!0});var hn=w(b);k=g(hn,"SPAN",{class:!0,"data-color":!0});var xn=w(k);I=H(xn,y),E=D(xn),C=H(xn,S),xn.forEach(v),A=D(hn),V=g(hn,"SPAN",{class:!0,"data-svelte-h":!0}),$(V)!=="svelte-1u8v1a8"&&(V.textContent=z),T=D(hn),N=g(hn,"SPAN",{class:!0});var Cn=w(N);q=H(Cn,n[5]),O=H(Cn," human"),j=H(Cn,M),Cn.forEach(v),K=D(hn),F=g(hn,"SPAN",{class:!0,"data-svelte-h":!0}),$(F)!=="svelte-1u8v1a8"&&(F.textContent=Y),B=D(hn),x=g(hn,"SPAN",{class:!0});var as=w(x);Z=H(as,n[2]),te=H(as," AI agent"),ne=H(as,X),as.forEach(v),se=D(hn),re&&re.l(hn),hn.forEach(v),gn.forEach(v),pn.forEach(v),_e=D(Vn),ue=g(Vn,"DIV",{class:!0});var vs=w(ue);G&&G.l(vs),vs.forEach(v),Vn.forEach(v),he=D(Et),ve=g(Et,"DIV",{class:!0});var nn=w(ve);me=g(nn,"SECTION",{class:!0});var un=w(me);ke=g(un,"DIV",{class:!0});var _n=w(ke);Fe=g(_n,"DIV",{class:!0});var En=w(Fe);Te=g(En,"SPAN",{class:!0,"data-svelte-h":!0}),$(Te)!=="svelte-1gtzmqj"&&(Te.textContent=fe),De=D(En),ae=g(En,"H2",{class:!0,"data-svelte-h":!0}),$(ae)!=="svelte-25ac3x"&&(ae.textContent=Ve),En.forEach(v),rt=D(_n),be=g(_n,"SPAN",{class:!0,"data-svelte-h":!0}),$(be)!=="svelte-12rq7em"&&(be.textContent=pe),_n.forEach(v),ie=D(un),Ae=g(un,"DIV",{class:!0});var Ss=w(Ae);Pt.l(Ss),Ss.forEach(v),un.forEach(v),lt=D(nn),Ye=g(nn,"DIV",{class:!0});var Wn=w(Ye);gt=g(Wn,"SECTION",{class:!0});var In=w(gt);ze=g(In,"DIV",{class:!0});var Hn=w(ze);Ee(we.$$.fragment,Hn),He=D(Hn),Xe=g(Hn,"H3",{class:!0,"data-svelte-h":!0}),$(Xe)!=="svelte-py7b26"&&(Xe.textContent=st),St=D(Hn),ht=g(Hn,"SPAN",{class:!0});var es=w(ht);bt=H(es,n[3]),es.forEach(v),Hn.forEach(v),tt=D(In),mt=g(In,"DIV",{class:!0});var rs=w(mt);Ct.l(rs),rs.forEach(v),In.forEach(v),We=D(Wn),pt=g(Wn,"SECTION",{class:!0});var ts=w(pt);xe=g(ts,"DIV",{class:!0});var bn=w(xe);Ee(Ze.$$.fragment,bn),Ue=D(bn),et=g(bn,"H3",{class:!0,"data-svelte-h":!0}),$(et)!=="svelte-180em3i"&&(et.textContent=ft),bn.forEach(v),wt=D(ts),nt=g(ts,"DIV",{class:!0});var Nn=w(nt);Qt.l(Nn),Nn.forEach(v),ts.forEach(v),Ne=D(Wn),kt=g(Wn,"SECTION",{class:!0});var cs=w(kt);vt=g(cs,"DIV",{class:!0});var ns=w(vt);Ee(it.$$.fragment,ns),ge=D(ns),je=g(ns,"H3",{class:!0,"data-svelte-h":!0}),$(je)!=="svelte-u4g4lc"&&(je.textContent=dt),ns.forEach(v),Vt=D(cs),qe=g(cs,"DIV",{class:!0});var Bn=w(qe);jt.l(Bn),Bn.forEach(v),cs.forEach(v),Wn.forEach(v),oe=D(nn),Dt&&Dt.l(nn),Oe=D(nn),at&&at.l(nn),nn.forEach(v),Et.forEach(v),this.h()},h:function(){Mn(s.src,o="/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Blue.32.png")||d(s,"src",o),d(s,"alt","Tachikoma"),d(s,"class","session-tachi-icon svelte-1m5bgor"),p(s,ce,78,12,2953),d(i,"class","session-icon svelte-1m5bgor"),p(i,ce,77,10,2914),d(u,"class","session-title svelte-1m5bgor"),p(u,ce,85,12,3193),d(k,"class","phase-badge svelte-1m5bgor"),d(k,"data-color",P=n[4].color),p(k,ce,87,14,3317),d(V,"class","meta-divider svelte-1m5bgor"),p(V,ce,90,14,3466),d(N,"class","meta-item"),p(N,ce,91,14,3516),d(F,"class","meta-divider svelte-1m5bgor"),p(F,ce,92,14,3609),d(x,"class","meta-item"),p(x,ce,93,14,3659),d(b,"class","session-details svelte-1m5bgor"),p(b,ce,86,12,3273),d(r,"class","session-meta svelte-1m5bgor"),p(r,ce,84,10,3154),d(l,"class","header-left svelte-1m5bgor"),p(l,ce,76,8,2878),d(ue,"class","header-actions svelte-1m5bgor"),p(ue,ce,101,8,3991),d(t,"class","session-header svelte-1m5bgor"),p(t,ce,75,6,2838),d(Te,"class","section-icon svelte-1m5bgor"),p(Te,ce,126,14,4945),d(ae,"class","svelte-1m5bgor"),p(ae,ce,127,14,4996),d(Fe,"class","section-title svelte-1m5bgor"),p(Fe,ce,125,12,4903),d(be,"class","section-tag svelte-1m5bgor"),p(be,ce,129,12,5049),d(ke,"class","section-header svelte-1m5bgor"),p(ke,ce,124,10,4862),d(Ae,"class","goal-body svelte-1m5bgor"),p(Ae,ce,131,10,5119),d(me,"class","goal-section svelte-1m5bgor"),p(me,ce,123,8,4821),d(Xe,"class","svelte-1m5bgor"),p(Xe,ce,148,14,5699),d(ht,"class","card-count svelte-1m5bgor"),p(ht,ce,149,14,5735),d(ze,"class","card-header svelte-1m5bgor"),p(ze,ce,146,12,5613),d(mt,"class","card-body svelte-1m5bgor"),p(mt,ce,151,12,5817),d(gt,"class","info-card participants-card svelte-1m5bgor"),p(gt,ce,145,10,5555),d(et,"class","svelte-1m5bgor"),p(et,ce,184,14,7329),d(xe,"class","card-header svelte-1m5bgor"),p(xe,ce,182,12,7243),d(nt,"class","card-body svelte-1m5bgor"),p(nt,ce,186,12,7376),d(pt,"class","info-card oracle-card svelte-1m5bgor"),p(pt,ce,181,10,7191),d(je,"class","svelte-1m5bgor"),p(je,ce,207,14,8209),d(vt,"class","card-header svelte-1m5bgor"),p(vt,ce,205,12,8120),d(qe,"class","card-body svelte-1m5bgor"),p(qe,ce,209,12,8263),d(kt,"class","info-card config-card svelte-1m5bgor"),p(kt,ce,204,10,8068),d(Ye,"class","info-grid svelte-1m5bgor"),p(Ye,ce,143,8,5481),d(ve,"class","session-content svelte-1m5bgor"),p(ve,ce,121,6,4746),d(e,"class","session-view svelte-1m5bgor"),p(e,ce,73,4,2775)},m:function(Le,Et){Q(Le,e,Et),c(e,t),c(t,l),c(l,i),c(i,s),c(l,a),c(l,r),c(r,u),c(u,h),c(r,m),c(r,b),c(b,k),c(k,I),c(k,E),c(k,C),c(b,A),c(b,V),c(b,T),c(b,N),c(N,q),c(N,O),c(N,j),c(b,K),c(b,F),c(b,B),c(b,x),c(x,Z),c(x,te),c(x,ne),c(b,se),re&&re.m(b,null),c(t,_e),c(t,ue),~W&&It[W].m(ue,null),c(e,he),c(e,ve),c(ve,me),c(me,ke),c(ke,Fe),c(Fe,Te),c(Fe,De),c(Fe,ae),c(ke,rt),c(ke,be),c(me,ie),c(me,Ae),Pt.m(Ae,null),c(ve,lt),c(ve,Ye),c(Ye,gt),c(gt,ze),Ce(we,ze,null),c(ze,He),c(ze,Xe),c(ze,St),c(ze,ht),c(ht,bt),c(gt,tt),c(gt,mt),Ct.m(mt,null),c(Ye,We),c(Ye,pt),c(pt,xe),Ce(Ze,xe,null),c(xe,Ue),c(xe,et),c(pt,wt),c(pt,nt),Qt.m(nt,null),c(Ye,Ne),c(Ye,kt),c(kt,vt),Ce(it,vt,null),c(vt,ge),c(vt,je),c(kt,Vt),c(kt,qe),jt.m(qe,null),c(ve,oe),Dt&&Dt.m(ve,null),c(ve,Oe),at&&at.m(ve,null),Ke=!0},p:function(Le,Et){(!Ke||Et&2)&&f!==(f=(Le[1].name||"Untitled Session")+"")&&le(h,f),(!Ke||Et&16)&&y!==(y=Le[4].icon+"")&&le(I,y),(!Ke||Et&16)&&S!==(S=Le[4].label+"")&&le(C,S),(!Ke||Et&16&&P!==(P=Le[4].color))&&d(k,"data-color",P),(!Ke||Et&32)&&le(q,Le[5]),(!Ke||Et&32)&&M!==(M=Le[5]!==1?"s":"")&&le(j,M),(!Ke||Et&4)&&le(Z,Le[2]),(!Ke||Et&4)&&X!==(X=Le[2]!==1?"s":"")&&le(ne,X),Le[1].createdAt?re?re.p(Le,Et):(re=si(Le),re.c(),re.m(b,null)):re&&(re.d(1),re=null);let Vn=W;W=At(Le),W===Vn?~W&&It[W].p(Le,Et):(G&&(ct(),ee(It[Vn],1,1,()=>{It[Vn]=null}),ut()),~W?(G=It[W],G?G.p(Le,Et):(G=It[W]=ot[W](Le),G.c()),J(G,1),G.m(ue,null)):G=null),Mt===(Mt=Xt(Le))&&Pt?Pt.p(Le,Et):(Pt.d(1),Pt=Mt(Le),Pt&&(Pt.c(),Pt.m(Ae,null))),(!Ke||Et&8)&&le(bt,Le[3]),zt===(zt=Sn(Le))&&Ct?Ct.p(Le,Et):(Ct.d(1),Ct=zt(Le),Ct&&(Ct.c(),Ct.m(mt,null))),cn===(cn=tn(Le))&&Qt?Qt.p(Le,Et):(Qt.d(1),Qt=cn(Le),Qt&&(Qt.c(),Qt.m(nt,null))),Zt===(Zt=Kn(Le))&&jt?jt.p(Le,Et):(jt.d(1),jt=Zt(Le),jt&&(jt.c(),jt.m(qe,null))),Le[0]==="drafting"||Le[0]==="critiquing"||Le[0]==="deliberating"||Le[0]==="converging"?Dt?(Dt.p(Le,Et),Et&1&&J(Dt,1)):(Dt=ai(Le),Dt.c(),J(Dt,1),Dt.m(ve,Oe)):Dt&&(ct(),ee(Dt,1,1,()=>{Dt=null}),ut()),Le[0]==="completed"?at?Et&1&&J(at,1):(at=ri(Le),at.c(),J(at,1),at.m(ve,null)):at&&(ct(),ee(at,1,1,()=>{at=null}),ut())},i:function(Le){Ke||(J(G),J(we.$$.fragment,Le),J(Ze.$$.fragment,Le),J(it.$$.fragment,Le),J(Dt),J(at),Ke=!0)},o:function(Le){ee(G),ee(we.$$.fragment,Le),ee(Ze.$$.fragment,Le),ee(it.$$.fragment,Le),ee(Dt),ee(at),Ke=!1},d:function(Le){Le&&v(e),re&&re.d(),~W&&It[W].d(),Pt.d(),Se(we),Ct.d(),Se(Ze),Qt.d(),Se(it),jt.d(),Dt&&Dt.d(),at&&at.d()}};return L("SvelteRegisterBlock",{block:zn,id:Ar.name,type:"if",source:"(56:2) {#if session && phase !== 'idle'}",ctx:n}),zn}function si(n){let e,t="â€¢",l,i,s,o=ui(n[1].createdAt)+"",a;const r={c:function(){e=_("span"),e.textContent=t,l=R(),i=_("span"),s=U("Created "),a=U(o),this.h()},l:function(f){e=g(f,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1u8v1a8"&&(e.textContent=t),l=D(f),i=g(f,"SPAN",{class:!0});var h=w(i);s=H(h,"Created "),a=H(h,o),h.forEach(v),this.h()},h:function(){d(e,"class","meta-divider svelte-1m5bgor"),p(e,ce,95,16,3789),d(i,"class","meta-item"),p(i,ce,96,16,3841)},m:function(f,h){Q(f,e,h),Q(f,l,h),Q(f,i,h),c(i,s),c(i,a)},p:function(f,h){h&2&&o!==(o=ui(f[1].createdAt)+"")&&le(a,o)},d:function(f){f&&(v(e),v(l),v(i))}};return L("SvelteRegisterBlock",{block:r,id:si.name,type:"if",source:"(79:14) {#if session.createdAt}",ctx:n}),r}function Mr(n){let e,t,l,i,s,o;t=new Ge({props:{name:"play",size:16},$$inline:!0});const a={c:function(){e=_("button"),Ie(t.$$.fragment),l=U(`
              Resume (Drafts)`),this.h()},l:function(u){e=g(u,"BUTTON",{type:!0,class:!0});var f=w(e);Ee(t.$$.fragment,f),l=H(f,`
              Resume (Drafts)`),f.forEach(v),this.h()},h:function(){d(e,"type","button"),d(e,"class","btn btn-primary svelte-1m5bgor"),p(e,ce,112,12,4485)},m:function(u,f){Q(u,e,f),Ce(t,e,null),c(e,l),i=!0,s||(o=Re(e,"click",n[7],!1,!1,!1,!1),s=!0)},p:$e,i:function(u){i||(J(t.$$.fragment,u),i=!0)},o:function(u){ee(t.$$.fragment,u),i=!1},d:function(u){u&&v(e),Se(t),s=!1,o()}};return L("SvelteRegisterBlock",{block:a,id:Mr.name,type:"if",source:"(96:39) ",ctx:n}),a}function zr(n){let e,t,l,i,s,o,a,r,u,f;t=new Ge({props:{name:"settings",size:16},$$inline:!0}),o=new Ge({props:{name:"zap",size:16},$$inline:!0});const h={c:function(){e=_("button"),Ie(t.$$.fragment),l=U(`
              Edit`),i=R(),s=_("button"),Ie(o.$$.fragment),a=U(`
              Run Initial Drafts`),this.h()},l:function(b){e=g(b,"BUTTON",{type:!0,class:!0});var k=w(e);Ee(t.$$.fragment,k),l=H(k,`
              Edit`),k.forEach(v),i=D(b),s=g(b,"BUTTON",{type:!0,class:!0});var y=w(s);Ee(o.$$.fragment,y),a=H(y,`
              Run Initial Drafts`),y.forEach(v),this.h()},h:function(){d(e,"type","button"),d(e,"class","btn btn-secondary svelte-1m5bgor"),p(e,ce,103,12,4072),d(s,"type","button"),d(s,"class","btn btn-primary svelte-1m5bgor"),p(s,ce,107,12,4252)},m:function(b,k){Q(b,e,k),Ce(t,e,null),c(e,l),Q(b,i,k),Q(b,s,k),Ce(o,s,null),c(s,a),r=!0,u||(f=[Re(e,"click",n[8],!1,!1,!1,!1),Re(s,"click",n[7],!1,!1,!1,!1)],u=!0)},p:$e,i:function(b){r||(J(t.$$.fragment,b),J(o.$$.fragment,b),r=!0)},o:function(b){ee(t.$$.fragment,b),ee(o.$$.fragment,b),r=!1},d:function(b){b&&(v(e),v(i),v(s)),Se(t),Se(o),u=!1,Dn(f)}};return L("SvelteRegisterBlock",{block:h,id:zr.name,type:"if",source:"(87:10) {#if phase === 'configuring'}",ctx:n}),h}function Tr(n){let e,t="No goal defined for this session.";const l={c:function(){e=_("p"),e.textContent=t,this.h()},l:function(s){e=g(s,"P",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1yk2rvc"&&(e.textContent=t),this.h()},h:function(){d(e,"class","goal-empty svelte-1m5bgor"),p(e,ce,137,14,5323)},m:function(s,o){Q(s,e,o)},p:$e,d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Tr.name,type:"else",source:"(121:12) {:else}",ctx:n}),l}function Nr(n){let e,t;const l={c:function(){e=_("div"),t=new hs(!1),this.h()},l:function(s){e=g(s,"DIV",{class:!0,"data-testid":!0});var o=w(e);t=ds(o,!1),o.forEach(v),this.h()},h:function(){t.a=null,d(e,"class","goal-text svelte-1m5bgor"),d(e,"data-testid","session-goal"),p(e,ce,133,14,5184)},m:function(s,o){Q(s,e,o),t.m(n[6],e)},p:function(s,o){o&64&&t.p(s[6])},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Nr.name,type:"if",source:"(117:12) {#if goalHtml}",ctx:n}),l}function Br(n){let e,t="No participants configured";const l={c:function(){e=_("p"),e.textContent=t,this.h()},l:function(s){e=g(s,"P",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1f6a4ze"&&(e.textContent=t),this.h()},h:function(){d(e,"class","card-empty svelte-1m5bgor"),p(e,ce,175,16,7041)},m:function(s,o){Q(s,e,o)},p:$e,d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Br.name,type:"else",source:"(159:14) {:else}",ctx:n}),l}function jr(n){let e,t,l=Je(n[1].participants.slice(0,6)),i=[];for(let a=0;a<l.length;a+=1)i[a]=li(fa(n,l,a));let s=n[1].participants.length>6&&ii(n);const o={c:function(){e=_("ul");for(let r=0;r<i.length;r+=1)i[r].c();t=R(),s&&s.c(),this.h()},l:function(r){e=g(r,"UL",{class:!0});var u=w(e);for(let f=0;f<i.length;f+=1)i[f].l(u);t=D(u),s&&s.l(u),u.forEach(v),this.h()},h:function(){d(e,"class","participant-list svelte-1m5bgor"),p(e,ce,153,16,5933)},m:function(r,u){Q(r,e,u);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);c(e,t),s&&s.m(e,null)},p:function(r,u){if(u&2){l=Je(r[1].participants.slice(0,6));let f;for(f=0;f<l.length;f+=1){const h=fa(r,l,f);i[f]?i[f].p(h,u):(i[f]=li(h),i[f].c(),i[f].m(e,t))}for(;f<i.length;f+=1)i[f].d(1);i.length=l.length}r[1].participants.length>6?s?s.p(r,u):(s=ii(r),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d:function(r){r&&v(e),ln(i,r),s&&s.d()}};return L("SvelteRegisterBlock",{block:o,id:jr.name,type:"if",source:"(137:14) {#if session.participants && session.participants.length > 0}",ctx:n}),o}function li(n){let e,t,l=n[12].name.charAt(0).toUpperCase()+"",i,s,o,a,r=n[12].name+"",u,f,h,m=n[12].role+"",b,k,y,I=n[12].type.toUpperCase()+"",E;const S={c:function(){e=_("li"),t=_("span"),i=U(l),s=R(),o=_("div"),a=_("span"),u=U(r),f=R(),h=_("span"),b=U(m),k=R(),y=_("span"),E=U(I),this.h()},l:function(P){e=g(P,"LI",{class:!0});var A=w(e);t=g(A,"SPAN",{class:!0});var V=w(t);i=H(V,l),V.forEach(v),s=D(A),o=g(A,"DIV",{class:!0});var z=w(o);a=g(z,"SPAN",{class:!0});var T=w(a);u=H(T,r),T.forEach(v),f=D(z),h=g(z,"SPAN",{class:!0});var N=w(h);b=H(N,m),N.forEach(v),z.forEach(v),k=D(A),y=g(A,"SPAN",{class:!0});var q=w(y);E=H(q,I),q.forEach(v),A.forEach(v),this.h()},h:function(){d(t,"class","participant-avatar svelte-1m5bgor"),Pe(t,"ai",n[12].type==="ai"),p(t,ce,156,22,6108),d(a,"class","participant-name svelte-1m5bgor"),p(a,ce,160,24,6353),d(h,"class","participant-role svelte-1m5bgor"),p(h,ce,161,24,6434),d(o,"class","participant-info svelte-1m5bgor"),p(o,ce,159,22,6298),d(y,"class","participant-type svelte-1m5bgor"),Pe(y,"ai",n[12].type==="ai"),p(y,ce,163,22,6542),d(e,"class","participant-row svelte-1m5bgor"),p(e,ce,155,20,6057)},m:function(P,A){Q(P,e,A),c(e,t),c(t,i),c(e,s),c(e,o),c(o,a),c(a,u),c(o,f),c(o,h),c(h,b),c(e,k),c(e,y),c(y,E)},p:function(P,A){A&2&&l!==(l=P[12].name.charAt(0).toUpperCase()+"")&&le(i,l),A&2&&Pe(t,"ai",P[12].type==="ai"),A&2&&r!==(r=P[12].name+"")&&le(u,r),A&2&&m!==(m=P[12].role+"")&&le(b,m),A&2&&I!==(I=P[12].type.toUpperCase()+"")&&le(E,I),A&2&&Pe(y,"ai",P[12].type==="ai")},d:function(P){P&&v(e)}};return L("SvelteRegisterBlock",{block:S,id:li.name,type:"each",source:"(139:18) {#each session.participants.slice(0, 6) as participant}",ctx:n}),S}function ii(n){let e,t,l=n[1].participants.length-6+"",i,s;const o={c:function(){e=_("li"),t=U("+"),i=U(l),s=U(" more participants"),this.h()},l:function(r){e=g(r,"LI",{class:!0});var u=w(e);t=H(u,"+"),i=H(u,l),s=H(u," more participants"),u.forEach(v),this.h()},h:function(){d(e,"class","participant-more svelte-1m5bgor"),p(e,ce,169,20,6826)},m:function(r,u){Q(r,e,u),c(e,t),c(e,i),c(e,s)},p:function(r,u){u&2&&l!==(l=r[1].participants.length-6+"")&&le(i,l)},d:function(r){r&&v(e)}};return L("SvelteRegisterBlock",{block:o,id:ii.name,type:"if",source:"(153:18) {#if session.participants.length > 6}",ctx:n}),o}function Or(n){let e,t="No oracle selected";const l={c:function(){e=_("p"),e.textContent=t,this.h()},l:function(s){e=g(s,"P",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-ow37mz"&&(e.textContent=t),this.h()},h:function(){d(e,"class","card-empty svelte-1m5bgor"),p(e,ce,198,16,7918)},m:function(s,o){Q(s,e,o)},p:$e,d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Or.name,type:"else",source:"(182:14) {:else}",ctx:n}),l}function qr(n){let e,t,l=n[1].oracle.name+"",i,s,o,a=n[1].oracle.type+"",r,u,f=n[1].oracle.estimatedCostPerRound&&oi(n);const h={c:function(){e=_("div"),t=_("div"),i=U(l),s=R(),o=_("div"),r=U(a),u=R(),f&&f.c(),this.h()},l:function(b){e=g(b,"DIV",{class:!0});var k=w(e);t=g(k,"DIV",{class:!0});var y=w(t);i=H(y,l),y.forEach(v),s=D(k),o=g(k,"DIV",{class:!0});var I=w(o);r=H(I,a),I.forEach(v),u=D(k),f&&f.l(k),k.forEach(v),this.h()},h:function(){d(t,"class","oracle-name svelte-1m5bgor"),p(t,ce,189,18,7495),d(o,"class","oracle-type svelte-1m5bgor"),p(o,ce,190,18,7566),d(e,"class","oracle-info svelte-1m5bgor"),p(e,ce,188,16,7451)},m:function(b,k){Q(b,e,k),c(e,t),c(t,i),c(e,s),c(e,o),c(o,r),c(e,u),f&&f.m(e,null)},p:function(b,k){k&2&&l!==(l=b[1].oracle.name+"")&&le(i,l),k&2&&a!==(a=b[1].oracle.type+"")&&le(r,a),b[1].oracle.estimatedCostPerRound?f?f.p(b,k):(f=oi(b),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d:function(b){b&&v(e),f&&f.d()}};return L("SvelteRegisterBlock",{block:h,id:qr.name,type:"if",source:"(172:14) {#if session.oracle}",ctx:n}),h}function oi(n){let e,t,l=n[1].oracle.estimatedCostPerRound.toFixed(4)+"",i,s;const o={c:function(){e=_("div"),t=U("~$"),i=U(l),s=U("/round"),this.h()},l:function(r){e=g(r,"DIV",{class:!0});var u=w(e);t=H(u,"~$"),i=H(u,l),s=H(u,"/round"),u.forEach(v),this.h()},h:function(){d(e,"class","oracle-cost svelte-1m5bgor"),p(e,ce,192,20,7700)},m:function(r,u){Q(r,e,u),c(e,t),c(e,i),c(e,s)},p:function(r,u){u&2&&l!==(l=r[1].oracle.estimatedCostPerRound.toFixed(4)+"")&&le(i,l)},d:function(r){r&&v(e)}};return L("SvelteRegisterBlock",{block:o,id:oi.name,type:"if",source:"(176:18) {#if session.oracle.estimatedCostPerRound}",ctx:n}),o}function Gr(n){let e,t="Default configuration";const l={c:function(){e=_("p"),e.textContent=t,this.h()},l:function(s){e=g(s,"P",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-vgb5se"&&(e.textContent=t),this.h()},h:function(){d(e,"class","card-empty svelte-1m5bgor"),p(e,ce,230,16,9182)},m:function(s,o){Q(s,e,o)},p:$e,d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Gr.name,type:"else",source:"(214:14) {:else}",ctx:n}),l}function Lr(n){let e,t,l,i="Max Rounds",s,o,a=(n[1].config.maxRounds||5)+"",r,u,f,h,m="Convergence",b,k,y=((n[1].config.convergenceThreshold||.8)*100).toFixed(0)+"",I,E,S,C,P,A="Timeout",V,z,T=(n[1].config.timeoutMinutes||60)+"",N,q,O,M,j,K="Human Override",F,Y,B=n[1].config.allowHumanIntervention?"Enabled":"Disabled",x;const Z={c:function(){e=_("dl"),t=_("div"),l=_("dt"),l.textContent=i,s=R(),o=_("dd"),r=U(a),u=R(),f=_("div"),h=_("dt"),h.textContent=m,b=R(),k=_("dd"),I=U(y),E=U("%"),S=R(),C=_("div"),P=_("dt"),P.textContent=A,V=R(),z=_("dd"),N=U(T),q=U("min"),O=R(),M=_("div"),j=_("dt"),j.textContent=K,F=R(),Y=_("dd"),x=U(B),this.h()},l:function(X){e=g(X,"DL",{class:!0});var ne=w(e);t=g(ne,"DIV",{class:!0});var se=w(t);l=g(se,"DT",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-1w42vrd"&&(l.textContent=i),s=D(se),o=g(se,"DD",{class:!0});var _e=w(o);r=H(_e,a),_e.forEach(v),u=D(se),se.forEach(v),f=g(ne,"DIV",{class:!0});var ue=w(f);h=g(ue,"DT",{class:!0,"data-svelte-h":!0}),$(h)!=="svelte-191dn99"&&(h.textContent=m),b=D(ue),k=g(ue,"DD",{class:!0});var W=w(k);I=H(W,y),E=H(W,"%"),W.forEach(v),S=D(ue),ue.forEach(v),C=g(ne,"DIV",{class:!0});var G=w(C);P=g(G,"DT",{class:!0,"data-svelte-h":!0}),$(P)!=="svelte-11axbdv"&&(P.textContent=A),V=D(G),z=g(G,"DD",{class:!0});var he=w(z);N=H(he,T),q=H(he,"min"),he.forEach(v),O=D(G),G.forEach(v),M=g(ne,"DIV",{class:!0});var ve=w(M);j=g(ve,"DT",{class:!0,"data-svelte-h":!0}),$(j)!=="svelte-1kjksk1"&&(j.textContent=K),F=D(ve),Y=g(ve,"DD",{class:!0});var me=w(Y);x=H(me,B),me.forEach(v),ve.forEach(v),ne.forEach(v),this.h()},h:function(){d(l,"class","svelte-1m5bgor"),p(l,ce,213,20,8427),d(o,"class","svelte-1m5bgor"),p(o,ce,214,20,8467),d(t,"class","config-item svelte-1m5bgor"),p(t,ce,212,18,8381),d(h,"class","svelte-1m5bgor"),p(h,ce,217,20,8597),d(k,"class","svelte-1m5bgor"),p(k,ce,218,20,8638),d(f,"class","config-item svelte-1m5bgor"),p(f,ce,216,18,8551),d(P,"class","svelte-1m5bgor"),p(P,ce,221,20,8803),d(z,"class","svelte-1m5bgor"),p(z,ce,222,20,8840),d(C,"class","config-item svelte-1m5bgor"),p(C,ce,220,18,8757),d(j,"class","svelte-1m5bgor"),p(j,ce,225,20,8979),d(Y,"class","svelte-1m5bgor"),p(Y,ce,226,20,9023),d(M,"class","config-item svelte-1m5bgor"),p(M,ce,224,18,8933),d(e,"class","config-list svelte-1m5bgor"),p(e,ce,211,16,8338)},m:function(X,ne){Q(X,e,ne),c(e,t),c(t,l),c(t,s),c(t,o),c(o,r),c(t,u),c(e,f),c(f,h),c(f,b),c(f,k),c(k,I),c(k,E),c(f,S),c(e,C),c(C,P),c(C,V),c(C,z),c(z,N),c(z,q),c(C,O),c(e,M),c(M,j),c(M,F),c(M,Y),c(Y,x)},p:function(X,ne){ne&2&&a!==(a=(X[1].config.maxRounds||5)+"")&&le(r,a),ne&2&&y!==(y=((X[1].config.convergenceThreshold||.8)*100).toFixed(0)+"")&&le(I,y),ne&2&&T!==(T=(X[1].config.timeoutMinutes||60)+"")&&le(N,T),ne&2&&B!==(B=X[1].config.allowHumanIntervention?"Enabled":"Disabled")&&le(x,B)},d:function(X){X&&v(e)}};return L("SvelteRegisterBlock",{block:Z,id:Lr.name,type:"if",source:"(195:14) {#if session.config}",ctx:n}),Z}function ai(n){let e,t;e=new Rr({props:{session:n[1],phase:n[0]},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},p:function(s,o){const a={};o&2&&(a.session=s[1]),o&1&&(a.phase=s[0]),e.$set(a)},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:ai.name,type:"if",source:"(222:8) {#if phase === 'drafting' || phase === 'critiquing' || phase === 'deliberating' || phase === 'converging'}",ctx:n}),l}function ri(n){let e,t,l,i,s="ðŸ“‹",o,a,r="Session Results",u,f,h="COMPLETE",m,b,k,y="Review the outcomes and decisions from this deliberation session.",I,E,S,C,P,A="Results display coming soon",V;S=new Ge({props:{name:"file-text",size:48},$$inline:!0});const z={c:function(){e=_("section"),t=_("div"),l=_("div"),i=_("span"),i.textContent=s,o=R(),a=_("h2"),a.textContent=r,u=R(),f=_("span"),f.textContent=h,m=R(),b=_("div"),k=_("p"),k.textContent=y,I=R(),E=_("div"),Ie(S.$$.fragment),C=R(),P=_("p"),P.textContent=A,this.h()},l:function(N){e=g(N,"SECTION",{class:!0});var q=w(e);t=g(q,"DIV",{class:!0});var O=w(t);l=g(O,"DIV",{class:!0});var M=w(l);i=g(M,"SPAN",{class:!0,"data-svelte-h":!0}),$(i)!=="svelte-bgh96c"&&(i.textContent=s),o=D(M),a=g(M,"H2",{class:!0,"data-svelte-h":!0}),$(a)!=="svelte-19yvgss"&&(a.textContent=r),M.forEach(v),u=D(O),f=g(O,"SPAN",{class:!0,"data-svelte-h":!0}),$(f)!=="svelte-k5oc54"&&(f.textContent=h),O.forEach(v),m=D(q),b=g(q,"DIV",{class:!0});var j=w(b);k=g(j,"P",{"data-svelte-h":!0}),$(k)!=="svelte-18eqhp6"&&(k.textContent=y),I=D(j),E=g(j,"DIV",{class:!0});var K=w(E);Ee(S.$$.fragment,K),C=D(K),P=g(K,"P",{"data-svelte-h":!0}),$(P)!=="svelte-yr1zc2"&&(P.textContent=A),K.forEach(v),j.forEach(v),q.forEach(v),this.h()},h:function(){d(i,"class","section-icon svelte-1m5bgor"),p(i,ce,245,16,9723),d(a,"class","svelte-1m5bgor"),p(a,ce,246,16,9776),d(l,"class","section-title svelte-1m5bgor"),p(l,ce,244,14,9679),d(f,"class","section-tag svelte-1m5bgor"),p(f,ce,248,14,9836),d(t,"class","section-header svelte-1m5bgor"),p(t,ce,243,12,9636),p(k,ce,251,14,9950),p(P,ce,254,16,10139),d(E,"class","results-placeholder svelte-1m5bgor"),p(E,ce,252,14,10037),d(b,"class","results-body svelte-1m5bgor"),p(b,ce,250,12,9909),d(e,"class","results-section svelte-1m5bgor"),p(e,ce,242,10,9590)},m:function(N,q){Q(N,e,q),c(e,t),c(t,l),c(l,i),c(l,o),c(l,a),c(t,u),c(t,f),c(e,m),c(e,b),c(b,k),c(b,I),c(b,E),Ce(S,E,null),c(E,C),c(E,P),V=!0},i:function(N){V||(J(S.$$.fragment,N),V=!0)},o:function(N){ee(S.$$.fragment,N),V=!1},d:function(N){N&&v(e),Se(S)}};return L("SvelteRegisterBlock",{block:z,id:ri.name,type:"if",source:"(226:8) {#if phase === 'completed'}",ctx:n}),z}function ci(n){let e,t,l,i;const s=[Ar,Vr],o=[];function a(u,f){return u[1]&&u[0]!=="idle"?0:1}t=a(n),l=o[t]=s[t](n);const r={c:function(){e=_("div"),l.c(),this.h()},l:function(f){e=g(f,"DIV",{class:!0,"data-testid":!0,"data-phase":!0});var h=w(e);l.l(h),h.forEach(v),this.h()},h:function(){d(e,"class","main-content-area svelte-1m5bgor"),d(e,"data-testid","main-content-area"),d(e,"data-phase",n[0]),p(e,ce,70,0,2619)},m:function(f,h){Q(f,e,h),o[t].m(e,null),i=!0},p:function(f,[h]){let m=t;t=a(f),t===m?o[t].p(f,h):(ct(),ee(o[m],1,1,()=>{o[m]=null}),ut(),l=o[t],l?l.p(f,h):(l=o[t]=s[t](f),l.c()),J(l,1),l.m(e,null)),(!i||h&1)&&d(e,"data-phase",f[0])},i:function(f){i||(J(l),i=!0)},o:function(f){ee(l),i=!1},d:function(f){f&&v(e),o[t].d()}};return L("SvelteRegisterBlock",{block:r,id:ci.name,type:"component",source:"",ctx:n}),r}function da(n){const e={idle:{icon:"â¸ï¸",label:"READY",color:"slate",description:"Select or create a session"},configuring:{icon:"âš™ï¸",label:"CONFIGURING",color:"cyan",description:"Session ready to begin deliberation"},drafting:{icon:"âœï¸",label:"DRAFTING",color:"blue",description:"Participants are creating initial proposals"},critiquing:{icon:"ðŸ”",label:"CRITIQUE",color:"amber",description:"Reviewing and providing feedback"},deliberating:{icon:"ðŸ’¬",label:"DELIBERATING",color:"purple",description:"Structured debate in progress"},converging:{icon:"ðŸŽ¯",label:"CONVERGING",color:"green",description:"Working towards consensus"},completed:{icon:"âœ…",label:"COMPLETE",color:"emerald",description:"Session concluded successfully"},paused:{icon:"â¸ï¸",label:"PAUSED",color:"yellow",description:"Session paused - resume when ready"},error:{icon:"âš ï¸",label:"ERROR",color:"red",description:"An error occurred"}};return e[n]||e.idle}function ui(n){return n?new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(n):"Unknown"}function ru(n,e,t){let l,i,s,o,a,r,u;Wt(Gt,"forgeSessionStore"),Ht(n,Gt,S=>t(10,u=S));let{$$slots:f={},$$scope:h}=e;en("MainContentArea",f,[]);let{sessionId:m=null}=e,{phase:b="idle"}=e;const k=an();function y(){m&&(Gt.updateSessionPhase(m,"drafting"),l&&(Xn.clearMessages(),Xn.startDeliberation({...l,phase:"drafting"})))}function I(){m&&k("editSession",{sessionId:m})}const E=["sessionId","phase"];return Object.keys(e).forEach(S=>{!~E.indexOf(S)&&S.slice(0,2)}),n.$$set=S=>{"sessionId"in S&&t(9,m=S.sessionId),"phase"in S&&t(0,b=S.phase)},n.$capture_state=()=>({createEventDispatcher:an,marked:Qn,forgeSessionStore:Gt,deliberationStore:Xn,Icon:Ge,GlassPanel:Mo,DeliberationView:Rr,sessionId:m,phase:b,getPhaseConfig:da,dispatch:k,handleStartDeliberation:y,handleEditSession:I,formatDate:ui,session:l,phaseConfig:r,aiCount:o,participantCount:s,humanCount:a,goalHtml:i,$forgeSessionStore:u}),n.$inject_state=S=>{"sessionId"in S&&t(9,m=S.sessionId),"phase"in S&&t(0,b=S.phase),"session"in S&&t(1,l=S.session),"phaseConfig"in S&&t(4,r=S.phaseConfig),"aiCount"in S&&t(2,o=S.aiCount),"participantCount"in S&&t(3,s=S.participantCount),"humanCount"in S&&t(5,a=S.humanCount),"goalHtml"in S&&t(6,i=S.goalHtml)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1024&&t(1,l=u.activeSession),n.$$.dirty&2&&t(6,i=l?.goal?Qn(l.goal):""),n.$$.dirty&2&&t(3,s=l?.participants?.length||0),n.$$.dirty&2&&t(2,o=l?.participants?.filter(S=>S.type==="ai").length||0),n.$$.dirty&12&&t(5,a=s-o),n.$$.dirty&1&&t(4,r=da(b))},[b,l,o,s,r,a,i,y,I,m,u]}class Fr extends $t{constructor(e){super(e),xt(this,e,ru,ci,Jt,{sessionId:9,phase:0}),L("SvelteRegisterComponent",{component:this,tagName:"MainContentArea",options:e,id:ci.name})}get sessionId(){throw new Error("<MainContentArea>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sessionId(e){throw new Error("<MainContentArea>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get phase(){throw new Error("<MainContentArea>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set phase(e){throw new Error("<MainContentArea>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Error:ll}=gl,Be="src/lib/components/forge/ResultPanel.svelte";function ha(n,e,t){const l=n.slice();return l[17]=e[t],l}function il(n,e,t){const l=n.slice();return l[20]=e[t],l}function ol(n,e,t){const l=n.slice();return l[23]=e[t],l}function al(n,e,t){const l=n.slice();return l[26]=e[t],l}function fi(n){let e,t,l=n[0].phase+"",i,s;const o={c:function(){e=_("div"),t=_("span"),i=U(l),this.h()},l:function(r){e=g(r,"DIV",{class:!0});var u=w(e);t=g(u,"SPAN",{class:!0});var f=w(t);i=H(f,l),f.forEach(v),u.forEach(v),this.h()},h:function(){d(t,"class",s="phase-badge phase-"+n[0].phase+" svelte-1o9mh7m"),p(t,Be,135,8,3487),d(e,"class","session-status svelte-1o9mh7m"),p(e,Be,134,6,3450)},m:function(r,u){Q(r,e,u),c(e,t),c(t,i)},p:function(r,u){u&1&&l!==(l=r[0].phase+"")&&le(i,l),u&1&&s!==(s="phase-badge phase-"+r[0].phase+" svelte-1o9mh7m")&&d(t,"class",s)},d:function(r){r&&v(e)}};return L("SvelteRegisterBlock",{block:o,id:fi.name,type:"if",source:"(122:4) {#if session}",ctx:n}),o}function Wr(n){let e,t,l,i=n[2].length+"",s,o,a,r="Rounds Completed",u,f,h,m,b,k,y="Contributions",I,E,S,C,P,A,V="Critiques",z,T,N,q,O="Round History",M,j,K=[],F=new Map,Y,B,x,Z="Key Insights",te,X,ne,se="Insights will be generated automatically as the session progresses.",_e,ue,W,G="Export Results",he,ve,me,ke,Fe=Je(n[2]);const Te=be=>be[20].id;on(n,Fe,il,Te);for(let be=0;be<Fe.length;be+=1){let pe=il(n,Fe,be),ie=Te(pe);F.set(ie,K[be]=mi(ie,pe))}let fe=n[4]&&pi(n),De=Je(n[10]),ae=[];for(let be=0;be<De.length;be+=1)ae[be]=gi(ha(n,De,be));const Ve=be=>ee(ae[be],1,1,()=>{ae[be]=null}),rt={c:function(){e=_("div"),t=_("div"),l=_("div"),s=U(i),o=R(),a=_("div"),a.textContent=r,u=R(),f=_("div"),h=_("div"),m=U(n[8]),b=R(),k=_("div"),k.textContent=y,I=R(),E=_("div"),S=_("div"),C=U(n[7]),P=R(),A=_("div"),A.textContent=V,z=R(),T=_("div"),N=_("section"),q=_("h3"),q.textContent=O,M=R(),j=_("div");for(let pe=0;pe<K.length;pe+=1)K[pe].c();Y=R(),B=_("section"),x=_("h3"),x.textContent=Z,te=R(),X=_("div"),ne=_("p"),ne.textContent=se,_e=R(),ue=_("section"),W=_("h3"),W.textContent=G,he=R(),fe&&fe.c(),ve=R(),me=_("div");for(let pe=0;pe<ae.length;pe+=1)ae[pe].c();this.h()},l:function(pe){e=g(pe,"DIV",{class:!0});var ie=w(e);t=g(ie,"DIV",{class:!0});var Ae=w(t);l=g(Ae,"DIV",{class:!0});var lt=w(l);s=H(lt,i),lt.forEach(v),o=D(Ae),a=g(Ae,"DIV",{class:!0,"data-svelte-h":!0}),$(a)!=="svelte-7govyy"&&(a.textContent=r),Ae.forEach(v),u=D(ie),f=g(ie,"DIV",{class:!0});var Ye=w(f);h=g(Ye,"DIV",{class:!0});var gt=w(h);m=H(gt,n[8]),gt.forEach(v),b=D(Ye),k=g(Ye,"DIV",{class:!0,"data-svelte-h":!0}),$(k)!=="svelte-i1uosh"&&(k.textContent=y),Ye.forEach(v),I=D(ie),E=g(ie,"DIV",{class:!0});var ze=w(E);S=g(ze,"DIV",{class:!0});var we=w(S);C=H(we,n[7]),we.forEach(v),P=D(ze),A=g(ze,"DIV",{class:!0,"data-svelte-h":!0}),$(A)!=="svelte-1b6ut7r"&&(A.textContent=V),ze.forEach(v),ie.forEach(v),z=D(pe),T=g(pe,"DIV",{class:!0});var He=w(T);N=g(He,"SECTION",{class:!0});var Xe=w(N);q=g(Xe,"H3",{class:!0,"data-svelte-h":!0}),$(q)!=="svelte-nhe1ni"&&(q.textContent=O),M=D(Xe),j=g(Xe,"DIV",{class:!0});var st=w(j);for(let mt=0;mt<K.length;mt+=1)K[mt].l(st);st.forEach(v),Xe.forEach(v),Y=D(He),B=g(He,"SECTION",{class:!0});var St=w(B);x=g(St,"H3",{class:!0,"data-svelte-h":!0}),$(x)!=="svelte-1ulgkp8"&&(x.textContent=Z),te=D(St),X=g(St,"DIV",{class:!0});var ht=w(X);ne=g(ht,"P",{"data-svelte-h":!0}),$(ne)!=="svelte-6saxkk"&&(ne.textContent=se),ht.forEach(v),St.forEach(v),_e=D(He),ue=g(He,"SECTION",{class:!0});var bt=w(ue);W=g(bt,"H3",{class:!0,"data-svelte-h":!0}),$(W)!=="svelte-1urs9do"&&(W.textContent=G),he=D(bt),fe&&fe.l(bt),ve=D(bt),me=g(bt,"DIV",{class:!0});var tt=w(me);for(let mt=0;mt<ae.length;mt+=1)ae[mt].l(tt);tt.forEach(v),bt.forEach(v),He.forEach(v),this.h()},h:function(){d(l,"class","stat-value svelte-1o9mh7m"),p(l,Be,153,10,3982),d(a,"class","stat-label svelte-1o9mh7m"),p(a,Be,154,10,4047),d(t,"class","stat-card svelte-1o9mh7m"),p(t,Be,152,8,3948),d(h,"class","stat-value svelte-1o9mh7m"),p(h,Be,157,10,4151),d(k,"class","stat-label svelte-1o9mh7m"),p(k,Be,158,10,4212),d(f,"class","stat-card svelte-1o9mh7m"),p(f,Be,156,8,4117),d(S,"class","stat-value svelte-1o9mh7m"),p(S,Be,161,10,4313),d(A,"class","stat-label svelte-1o9mh7m"),p(A,Be,162,10,4370),d(E,"class","stat-card svelte-1o9mh7m"),p(E,Be,160,8,4279),d(e,"class","results-summary svelte-1o9mh7m"),p(e,Be,151,6,3910),d(q,"class","svelte-1o9mh7m"),p(q,Be,168,10,4527),d(j,"class","rounds-list svelte-1o9mh7m"),p(j,Be,169,10,4560),d(N,"class","rounds-section svelte-1o9mh7m"),p(N,Be,167,8,4484),d(x,"class","svelte-1o9mh7m"),p(x,Be,228,10,7021),p(ne,Be,230,12,7100),d(X,"class","insights-placeholder svelte-1o9mh7m"),p(X,Be,229,10,7053),d(B,"class","insights-section svelte-1o9mh7m"),p(B,Be,227,8,6976),d(W,"class","svelte-1o9mh7m"),p(W,Be,236,10,7295),d(me,"class","export-buttons svelte-1o9mh7m"),p(me,Be,244,10,7538),d(ue,"class","export-section svelte-1o9mh7m"),p(ue,Be,235,8,7252),d(T,"class","results-sections svelte-1o9mh7m"),p(T,Be,166,6,4445)},m:function(pe,ie){Q(pe,e,ie),c(e,t),c(t,l),c(l,s),c(t,o),c(t,a),c(e,u),c(e,f),c(f,h),c(h,m),c(f,b),c(f,k),c(e,I),c(e,E),c(E,S),c(S,C),c(E,P),c(E,A),Q(pe,z,ie),Q(pe,T,ie),c(T,N),c(N,q),c(N,M),c(N,j);for(let Ae=0;Ae<K.length;Ae+=1)K[Ae]&&K[Ae].m(j,null);c(T,Y),c(T,B),c(B,x),c(B,te),c(B,X),c(X,ne),c(T,_e),c(T,ue),c(ue,W),c(ue,he),fe&&fe.m(ue,null),c(ue,ve),c(ue,me);for(let Ae=0;Ae<ae.length;Ae+=1)ae[Ae]&&ae[Ae].m(me,null);ke=!0},p:function(pe,ie){if((!ke||ie&4)&&i!==(i=pe[2].length+"")&&le(s,i),(!ke||ie&256)&&le(m,pe[8]),(!ke||ie&128)&&le(C,pe[7]),ie&4&&(Fe=Je(pe[2]),on(pe,Fe,il,Te),K=$n(K,ie,Te,1,pe,Fe,F,j,ws,mi,null,il)),pe[4]?fe?(fe.p(pe,ie),ie&16&&J(fe,1)):(fe=pi(pe),fe.c(),J(fe,1),fe.m(ue,ve)):fe&&(ct(),ee(fe,1,1,()=>{fe=null}),ut()),ie&7176){De=Je(pe[10]);let Ae;for(Ae=0;Ae<De.length;Ae+=1){const lt=ha(pe,De,Ae);ae[Ae]?(ae[Ae].p(lt,ie),J(ae[Ae],1)):(ae[Ae]=gi(lt),ae[Ae].c(),J(ae[Ae],1),ae[Ae].m(me,null))}for(ct(),Ae=De.length;Ae<ae.length;Ae+=1)Ve(Ae);ut()}},i:function(pe){if(!ke){J(fe);for(let ie=0;ie<De.length;ie+=1)J(ae[ie]);ke=!0}},o:function(pe){ee(fe),ae=ae.filter(Boolean);for(let ie=0;ie<ae.length;ie+=1)ee(ae[ie]);ke=!1},d:function(pe){pe&&(v(e),v(z),v(T));for(let ie=0;ie<K.length;ie+=1)K[ie].d();fe&&fe.d(),ln(ae,pe)}};return L("SvelteRegisterBlock",{block:rt,id:Wr.name,type:"else",source:"(139:4) {:else}",ctx:n}),rt}function Hr(n){let e,t,l="No results yet",i,s,o="Results will appear as the session progresses";const a={c:function(){e=_("div"),t=_("p"),t.textContent=l,i=R(),s=_("small"),s.textContent=o,this.h()},l:function(u){e=g(u,"DIV",{class:!0});var f=w(e);t=g(f,"P",{"data-svelte-h":!0}),$(t)!=="svelte-wiwy91"&&(t.textContent=l),i=D(f),s=g(f,"SMALL",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-1l4lgpr"&&(s.textContent=o),f.forEach(v),this.h()},h:function(){p(t,Be,147,8,3788),d(s,"class","svelte-1o9mh7m"),p(s,Be,148,8,3818),d(e,"class","empty-state svelte-1o9mh7m"),p(e,Be,146,6,3754)},m:function(u,f){Q(u,e,f),c(e,t),c(e,i),c(e,s)},p:$e,i:$e,o:$e,d:function(u){u&&v(e)}};return L("SvelteRegisterBlock",{block:a,id:Hr.name,type:"if",source:"(134:26) ",ctx:n}),a}function Ur(n){let e,t,l="No active session";const i={c:function(){e=_("div"),t=_("p"),t.textContent=l,this.h()},l:function(o){e=g(o,"DIV",{class:!0});var a=w(e);t=g(a,"P",{"data-svelte-h":!0}),$(t)!=="svelte-434jcj"&&(t.textContent=l),a.forEach(v),this.h()},h:function(){p(t,Be,143,8,3683),d(e,"class","empty-state svelte-1o9mh7m"),p(e,Be,142,6,3649)},m:function(o,a){Q(o,e,a),c(e,t)},p:$e,i:$e,o:$e,d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:Ur.name,type:"if",source:"(130:4) {#if !session}",ctx:n}),i}function di(n){let e=Math.round((n[20].endTime.getTime()-n[20].startTime.getTime())/6e4)+"",t,l;const i={c:function(){t=U(e),l=U("m")},l:function(o){t=H(o,e),l=H(o,"m")},m:function(o,a){Q(o,t,a),Q(o,l,a)},p:function(o,a){a&4&&e!==(e=Math.round((o[20].endTime.getTime()-o[20].startTime.getTime())/6e4)+"")&&le(t,e)},d:function(o){o&&(v(t),v(l))}};return L("SvelteRegisterBlock",{block:i,id:di.name,type:"if",source:"(164:20) {#if round.endTime}",ctx:n}),i}function hi(n,e){let t,l,i,s=e[26].type+"",o,a,r,u=Ps(e[26].timestamp)+"",f,h,m,b=e[26].content.substring(0,100)+"",k,y,I;const E={key:n,first:null,c:function(){t=_("div"),l=_("div"),i=_("div"),o=U(s),a=R(),r=_("span"),f=U(u),h=R(),m=_("div"),k=U(b),y=U("..."),I=R(),this.h()},l:function(C){t=g(C,"DIV",{class:!0});var P=w(t);l=g(P,"DIV",{class:!0});var A=w(l);i=g(A,"DIV",{class:!0,style:!0});var V=w(i);o=H(V,s),V.forEach(v),a=D(A),r=g(A,"SPAN",{class:!0});var z=w(r);f=H(z,u),z.forEach(v),A.forEach(v),h=D(P),m=g(P,"DIV",{class:!0});var T=w(m);k=H(T,b),y=H(T,"..."),T.forEach(v),I=D(P),P.forEach(v),this.h()},h:function(){d(i,"class","contribution-type svelte-1o9mh7m"),wn(i,"background-color",ki(e[26].type)),p(i,Be,185,24,5338),d(r,"class","timestamp svelte-1o9mh7m"),p(r,Be,191,24,5621),d(l,"class","contribution-header svelte-1o9mh7m"),p(l,Be,184,22,5280),d(m,"class","contribution-content svelte-1o9mh7m"),p(m,Be,195,22,5797),d(t,"class","contribution-item svelte-1o9mh7m"),p(t,Be,183,20,5226),this.first=t},m:function(C,P){Q(C,t,P),c(t,l),c(l,i),c(i,o),c(l,a),c(l,r),c(r,f),c(t,h),c(t,m),c(m,k),c(m,y),c(t,I)},p:function(C,P){e=C,P&4&&s!==(s=e[26].type+"")&&le(o,s),P&4&&wn(i,"background-color",ki(e[26].type)),P&4&&u!==(u=Ps(e[26].timestamp)+"")&&le(f,u),P&4&&b!==(b=e[26].content.substring(0,100)+"")&&le(k,b)},d:function(C){C&&v(t)}};return L("SvelteRegisterBlock",{block:E,id:hi.name,type:"each",source:"(171:18) {#each round.contributions as contribution (contribution.id)}",ctx:e}),E}function vi(n,e){let t,l,i,s=e[23].severity+"",o,a,r,u=Ps(e[23].timestamp)+"",f,h,m,b=e[23].content.substring(0,80)+"",k,y,I;const E={key:n,first:null,c:function(){t=_("div"),l=_("div"),i=_("div"),o=U(s),a=R(),r=_("span"),f=U(u),h=R(),m=_("div"),k=U(b),y=U("..."),I=R(),this.h()},l:function(C){t=g(C,"DIV",{class:!0});var P=w(t);l=g(P,"DIV",{class:!0});var A=w(l);i=g(A,"DIV",{class:!0,style:!0});var V=w(i);o=H(V,s),V.forEach(v),a=D(A),r=g(A,"SPAN",{class:!0});var z=w(r);f=H(z,u),z.forEach(v),A.forEach(v),h=D(P),m=g(P,"DIV",{class:!0});var T=w(m);k=H(T,b),y=H(T,"..."),T.forEach(v),I=D(P),P.forEach(v),this.h()},h:function(){d(i,"class","critique-severity svelte-1o9mh7m"),wn(i,"background-color",yi(e[23].severity)),p(i,Be,206,24,6244),d(r,"class","timestamp svelte-1o9mh7m"),p(r,Be,212,24,6519),d(l,"class","critique-header svelte-1o9mh7m"),p(l,Be,205,22,6190),d(m,"class","critique-content svelte-1o9mh7m"),p(m,Be,216,22,6691),d(t,"class","critique-item svelte-1o9mh7m"),p(t,Be,204,20,6140),this.first=t},m:function(C,P){Q(C,t,P),c(t,l),c(l,i),c(i,o),c(l,a),c(l,r),c(r,f),c(t,h),c(t,m),c(m,k),c(m,y),c(t,I)},p:function(C,P){e=C,P&4&&s!==(s=e[23].severity+"")&&le(o,s),P&4&&wn(i,"background-color",yi(e[23].severity)),P&4&&u!==(u=Ps(e[23].timestamp)+"")&&le(f,u),P&4&&b!==(b=e[23].content.substring(0,80)+"")&&le(k,b)},d:function(C){C&&v(t)}};return L("SvelteRegisterBlock",{block:E,id:vi.name,type:"each",source:"(192:18) {#each round.critiques as critique (critique.id)}",ctx:e}),E}function mi(n,e){let t,l,i,s,o=e[20].number+"",a,r,u,f,h,m=[],b=new Map,k,y,I=[],E=new Map,S,C=e[20].endTime&&di(e),P=Je(e[20].contributions);const A=N=>N[26].id;on(e,P,al,A);for(let N=0;N<P.length;N+=1){let q=al(e,P,N),O=A(q);b.set(O,m[N]=hi(O,q))}let V=Je(e[20].critiques);const z=N=>N[23].id;on(e,V,ol,z);for(let N=0;N<V.length;N+=1){let q=ol(e,V,N),O=z(q);E.set(O,I[N]=vi(O,q))}const T={key:n,first:null,c:function(){t=_("div"),l=_("div"),i=_("span"),s=U("Round "),a=U(o),r=R(),u=_("span"),C&&C.c(),f=R(),h=_("div");for(let q=0;q<m.length;q+=1)m[q].c();k=R(),y=_("div");for(let q=0;q<I.length;q+=1)I[q].c();S=R(),this.h()},l:function(q){t=g(q,"DIV",{class:!0});var O=w(t);l=g(O,"DIV",{class:!0});var M=w(l);i=g(M,"SPAN",{class:!0});var j=w(i);s=H(j,"Round "),a=H(j,o),j.forEach(v),r=D(M),u=g(M,"SPAN",{class:!0});var K=w(u);C&&C.l(K),K.forEach(v),M.forEach(v),f=D(O),h=g(O,"DIV",{class:!0});var F=w(h);for(let B=0;B<m.length;B+=1)m[B].l(F);F.forEach(v),k=D(O),y=g(O,"DIV",{class:!0});var Y=w(y);for(let B=0;B<I.length;B+=1)I[B].l(Y);Y.forEach(v),S=D(O),O.forEach(v),this.h()},h:function(){d(i,"class","round-number svelte-1o9mh7m"),p(i,Be,173,18,4742),d(u,"class","round-duration svelte-1o9mh7m"),p(u,Be,174,18,4815),d(l,"class","round-header svelte-1o9mh7m"),p(l,Be,172,16,4697),d(h,"class","round-contributions svelte-1o9mh7m"),p(h,Be,181,16,5092),d(y,"class","round-critiques svelte-1o9mh7m"),p(y,Be,202,16,6022),d(t,"class","round-item svelte-1o9mh7m"),p(t,Be,171,14,4656),this.first=t},m:function(q,O){Q(q,t,O),c(t,l),c(l,i),c(i,s),c(i,a),c(l,r),c(l,u),C&&C.m(u,null),c(t,f),c(t,h);for(let M=0;M<m.length;M+=1)m[M]&&m[M].m(h,null);c(t,k),c(t,y);for(let M=0;M<I.length;M+=1)I[M]&&I[M].m(y,null);c(t,S)},p:function(q,O){e=q,O&4&&o!==(o=e[20].number+"")&&le(a,o),e[20].endTime?C?C.p(e,O):(C=di(e),C.c(),C.m(u,null)):C&&(C.d(1),C=null),O&4&&(P=Je(e[20].contributions),on(e,P,al,A),m=$n(m,O,A,1,e,P,b,h,ws,hi,null,al)),O&4&&(V=Je(e[20].critiques),on(e,V,ol,z),I=$n(I,O,z,1,e,V,E,y,ws,vi,null,ol))},d:function(q){q&&v(t),C&&C.d();for(let O=0;O<m.length;O+=1)m[O].d();for(let O=0;O<I.length;O+=1)I[O].d()}};return L("SvelteRegisterBlock",{block:T,id:mi.name,type:"each",source:"(159:12) {#each completedRounds as round (round.id)}",ctx:e}),T}function pi(n){let e,t,l,i,s,o;t=new Ge({props:{name:"alert-triangle",size:14},$$inline:!0});const a={c:function(){e=_("div"),Ie(t.$$.fragment),l=R(),i=_("span"),s=U(n[4]),this.h()},l:function(u){e=g(u,"DIV",{class:!0});var f=w(e);Ee(t.$$.fragment,f),l=D(f),i=g(f,"SPAN",{});var h=w(i);s=H(h,n[4]),h.forEach(v),f.forEach(v),this.h()},h:function(){p(i,Be,240,14,7455),d(e,"class","export-error svelte-1o9mh7m"),p(e,Be,238,12,7359)},m:function(u,f){Q(u,e,f),Ce(t,e,null),c(e,l),c(e,i),c(i,s),o=!0},p:function(u,f){(!o||f&16)&&le(s,u[4])},i:function(u){o||(J(t.$$.fragment,u),o=!0)},o:function(u){ee(t.$$.fragment,u),o=!1},d:function(u){u&&v(e),Se(t)}};return L("SvelteRegisterBlock",{block:a,id:pi.name,type:"if",source:"(226:10) {#if exportError}",ctx:n}),a}function Qr(n){let e,t;e=new Ge({props:{name:n[17].icon,size:16},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},p:$e,i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:Qr.name,type:"else",source:"(244:18) {:else}",ctx:n}),l}function Kr(n){let e,t;e=new Rn({props:{size:14},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},p:$e,i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:Kr.name,type:"if",source:"(242:18) {#if isExporting}",ctx:n}),l}function gi(n){let e,t,l,i,s,o,a=n[17].label+"",r,u,f,h,m,b,k,y;const I=[Kr,Qr],E=[];function S(V,z){return V[3]?0:1}l=S(n),i=E[l]=I[l](n);function C(){return n[14](n[17])}h=new Ge({props:{name:"eye",size:14},$$inline:!0});function P(){return n[15](n[17])}const A={c:function(){e=_("div"),t=_("button"),i.c(),s=R(),o=_("span"),r=U(a),u=R(),f=_("button"),Ie(h.$$.fragment),m=R(),this.h()},l:function(z){e=g(z,"DIV",{class:!0});var T=w(e);t=g(T,"BUTTON",{class:!0,title:!0});var N=w(t);i.l(N),s=D(N),o=g(N,"SPAN",{});var q=w(o);r=H(q,a),q.forEach(v),N.forEach(v),u=D(T),f=g(T,"BUTTON",{class:!0,title:!0});var O=w(f);Ee(h.$$.fragment,O),O.forEach(v),m=D(T),T.forEach(v),this.h()},h:function(){p(o,Be,258,18,8098),d(t,"class","export-btn svelte-1o9mh7m"),t.disabled=n[3],d(t,"title","Download as "+n[17].label),p(t,Be,247,16,7675),d(f,"class","preview-btn svelte-1o9mh7m"),f.disabled=n[3],d(f,"title","Preview "+n[17].label),p(f,Be,260,16,8168),d(e,"class","export-button-group svelte-1o9mh7m"),p(e,Be,246,14,7625)},m:function(z,T){Q(z,e,T),c(e,t),E[l].m(t,null),c(t,s),c(t,o),c(o,r),c(e,u),c(e,f),Ce(h,f,null),c(e,m),b=!0,k||(y=[Re(t,"click",C,!1,!1,!1,!1),Re(f,"click",P,!1,!1,!1,!1)],k=!0)},p:function(z,T){n=z;let N=l;l=S(n),l===N?E[l].p(n,T):(ct(),ee(E[N],1,1,()=>{E[N]=null}),ut(),i=E[l],i?i.p(n,T):(i=E[l]=I[l](n),i.c()),J(i,1),i.m(t,s)),(!b||T&8)&&mn(t,"disabled",n[3]),(!b||T&8)&&mn(f,"disabled",n[3])},i:function(z){b||(J(i),J(h.$$.fragment,z),b=!0)},o:function(z){ee(i),ee(h.$$.fragment,z),b=!1},d:function(z){z&&v(e),E[l].d(),Se(h),k=!1,Dn(y)}};return L("SvelteRegisterBlock",{block:A,id:gi.name,type:"each",source:"(234:12) {#each outputFormats as format}",ctx:n}),A}function _i(n){let e,t,l,i,s,o=n[6].toUpperCase()+"",a,r,u,f,h,m,b,k,y,I,E,S,C="Close",P,A,V,z,T,N,q;f=new Ge({props:{name:"x",size:18},$$inline:!0}),V=new Ge({props:{name:"download",size:16},$$inline:!0});const O={c:function(){e=_("div"),t=_("div"),l=_("div"),i=_("h3"),s=U("Preview: "),a=U(o),r=R(),u=_("button"),Ie(f.$$.fragment),h=R(),m=_("div"),b=_("pre"),k=_("code"),y=U(n[5]),I=R(),E=_("div"),S=_("button"),S.textContent=C,P=R(),A=_("button"),Ie(V.$$.fragment),z=U(`
            Download`),this.h()},l:function(j){e=g(j,"DIV",{class:!0});var K=w(e);t=g(K,"DIV",{class:!0,role:!0,"aria-modal":!0});var F=w(t);l=g(F,"DIV",{class:!0});var Y=w(l);i=g(Y,"H3",{class:!0});var B=w(i);s=H(B,"Preview: "),a=H(B,o),B.forEach(v),r=D(Y),u=g(Y,"BUTTON",{class:!0,"aria-label":!0});var x=w(u);Ee(f.$$.fragment,x),x.forEach(v),Y.forEach(v),h=D(F),m=g(F,"DIV",{class:!0});var Z=w(m);b=g(Z,"PRE",{class:!0});var te=w(b);k=g(te,"CODE",{class:!0});var X=w(k);y=H(X,n[5]),X.forEach(v),te.forEach(v),Z.forEach(v),I=D(F),E=g(F,"DIV",{class:!0});var ne=w(E);S=g(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),$(S)!=="svelte-zlikrk"&&(S.textContent=C),P=D(ne),A=g(ne,"BUTTON",{class:!0});var se=w(A);Ee(V.$$.fragment,se),z=H(se,`
            Download`),se.forEach(v),ne.forEach(v),F.forEach(v),K.forEach(v),this.h()},h:function(){d(i,"class","svelte-1o9mh7m"),p(i,Be,283,10,9001),d(u,"class","close-btn svelte-1o9mh7m"),d(u,"aria-label","Close preview"),p(u,Be,284,10,9059),d(l,"class","preview-header svelte-1o9mh7m"),p(l,Be,282,8,8962),d(k,"class","svelte-1o9mh7m"),p(k,Be,289,15,9265),d(b,"class","svelte-1o9mh7m"),p(b,Be,289,10,9260),d(m,"class","preview-content svelte-1o9mh7m"),p(m,Be,288,8,9220),d(S,"class","btn-secondary svelte-1o9mh7m"),p(S,Be,292,10,9364),d(A,"class","btn-primary svelte-1o9mh7m"),p(A,Be,293,10,9443),d(E,"class","preview-actions svelte-1o9mh7m"),p(E,Be,291,8,9324),d(t,"class","preview-modal svelte-1o9mh7m"),d(t,"role","dialog"),d(t,"aria-modal","true"),p(t,Be,281,6,8858),d(e,"class","preview-overlay svelte-1o9mh7m"),p(e,Be,279,4,8699)},m:function(j,K){Q(j,e,K),c(e,t),c(t,l),c(l,i),c(i,s),c(i,a),c(l,r),c(l,u),Ce(f,u,null),c(t,h),c(t,m),c(m,b),c(b,k),c(k,y),c(t,I),c(t,E),c(E,S),c(E,P),c(E,A),Ce(V,A,null),c(A,z),T=!0,N||(q=[Re(u,"click",n[13],!1,!1,!1,!1),Re(S,"click",n[13],!1,!1,!1,!1),Re(A,"click",n[16],!1,!1,!1,!1),Re(t,"click",Hc(cu),!1,!1,!0,!1),Re(e,"click",n[13],!1,!1,!1,!1)],N=!0)},p:function(j,K){(!T||K&64)&&o!==(o=j[6].toUpperCase()+"")&&le(a,o),(!T||K&32)&&le(y,j[5])},i:function(j){T||(J(f.$$.fragment,j),J(V.$$.fragment,j),T=!0)},o:function(j){ee(f.$$.fragment,j),ee(V.$$.fragment,j),T=!1},d:function(j){j&&v(e),Se(f),Se(V),N=!1,Dn(q)}};return L("SvelteRegisterBlock",{block:O,id:_i.name,type:"if",source:"(266:2) {#if previewContent && previewFormat}",ctx:n}),O}function bi(n){let e,t,l,i="Session Results",s,o,a,r,u,f,h,m=n[0]&&fi(n);const b=[Ur,Hr,Wr],k=[];function y(S,C){return S[0]?S[9]?2:1:0}r=y(n),u=k[r]=b[r](n);let I=n[5]&&n[6]&&_i(n);const E={c:function(){e=_("div"),t=_("header"),l=_("h2"),l.textContent=i,s=R(),m&&m.c(),o=R(),a=_("div"),u.c(),f=R(),I&&I.c(),this.h()},l:function(C){e=g(C,"DIV",{class:!0});var P=w(e);t=g(P,"HEADER",{class:!0});var A=w(t);l=g(A,"H2",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-19yvgss"&&(l.textContent=i),s=D(A),m&&m.l(A),A.forEach(v),o=D(P),a=g(P,"DIV",{class:!0});var V=w(a);u.l(V),V.forEach(v),f=D(P),I&&I.l(P),P.forEach(v),this.h()},h:function(){d(l,"class","svelte-1o9mh7m"),p(l,Be,132,4,3401),d(t,"class","panel-header svelte-1o9mh7m"),p(t,Be,131,2,3367),d(a,"class","panel-content svelte-1o9mh7m"),p(a,Be,140,2,3596),d(e,"class","result-panel svelte-1o9mh7m"),Pe(e,"visible",n[1]),p(e,Be,130,0,3324)},m:function(C,P){Q(C,e,P),c(e,t),c(t,l),c(t,s),m&&m.m(t,null),c(e,o),c(e,a),k[r].m(a,null),c(e,f),I&&I.m(e,null),h=!0},p:function(C,[P]){C[0]?m?m.p(C,P):(m=fi(C),m.c(),m.m(t,null)):m&&(m.d(1),m=null);let A=r;r=y(C),r===A?k[r].p(C,P):(ct(),ee(k[A],1,1,()=>{k[A]=null}),ut(),u=k[r],u?u.p(C,P):(u=k[r]=b[r](C),u.c()),J(u,1),u.m(a,null)),C[5]&&C[6]?I?(I.p(C,P),P&96&&J(I,1)):(I=_i(C),I.c(),J(I,1),I.m(e,null)):I&&(ct(),ee(I,1,1,()=>{I=null}),ut()),(!h||P&2)&&Pe(e,"visible",C[1])},i:function(C){h||(J(u),J(I),h=!0)},o:function(C){ee(u),ee(I),h=!1},d:function(C){C&&v(e),m&&m.d(),k[r].d(),I&&I.d()}};return L("SvelteRegisterBlock",{block:E,id:bi.name,type:"component",source:"",ctx:n}),E}function va(n,e,t){const l=new Blob([n],{type:t}),i=URL.createObjectURL(l),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}function ma(n){return{markdown:"text/markdown",json:"application/json",yaml:"text/yaml",html:"text/html",plain:"text/plain",beads:"text/yaml"}[n]||"text/plain"}function Ps(n){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(n)}function ki(n){switch(n){case"proposal":return"#4a9eff";case"refinement":return"#f39c12";case"alternative":return"#e74c3c";default:return"#95a5a6"}}function yi(n){switch(n){case"critical":return"#e74c3c";case"concern":return"#f39c12";case"suggestion":return"#3498db";case"info":return"#95a5a6";default:return"#95a5a6"}}const cu=()=>{};function uu(n,e,t){let l,i,s,o,{$$slots:a={},$$scope:r}=e;en("ResultPanel",a,[]);let{session:u=null}=e,{visible:f=!1}=e,h=!1,m=null,b=null,k=null;const y=[{value:"markdown",label:"Markdown",icon:"file-text"},{value:"json",label:"JSON",icon:"code"},{value:"yaml",label:"YAML",icon:"file"},{value:"html",label:"HTML",icon:"globe"},{value:"beads",label:"Beads Issue",icon:"circle"}];async function I(z){if(u){t(3,h=!0),t(4,m=null);try{const T=await dn.generateOutput({sessionId:u.id,format:z,includeMetadata:!0,includeHistory:!0,includeMetrics:!0});va(T.content,T.filename,ma(z))}catch(T){t(4,m=T instanceof Error?T.message:"Export failed")}finally{t(3,h=!1)}}}async function E(z){if(u){t(3,h=!0),t(4,m=null);try{const T=await dn.generateOutput({sessionId:u.id,format:z,includeMetadata:!0});t(5,b=T.content),t(6,k=z)}catch(T){t(4,m=T instanceof Error?T.message:"Preview failed")}finally{t(3,h=!1)}}}function S(){t(5,b=null),t(6,k=null)}const C=["session","visible"];Object.keys(e).forEach(z=>{!~C.indexOf(z)&&z.slice(0,2)});const P=z=>I(z.value),A=z=>E(z.value),V=()=>k&&I(k);return n.$$set=z=>{"session"in z&&t(0,u=z.session),"visible"in z&&t(1,f=z.visible)},n.$capture_state=()=>({forgeService:dn,Icon:Ge,Spinner:Rn,session:u,visible:f,isExporting:h,exportError:m,previewContent:b,previewFormat:k,outputFormats:y,handleExport:I,handlePreview:E,closePreview:S,downloadFile:va,getMimeType:ma,formatTimestamp:Ps,getContributionTypeColor:ki,getCritiqueColor:yi,completedRounds:i,totalCritiques:o,totalContributions:s,hasResults:l}),n.$inject_state=z=>{"session"in z&&t(0,u=z.session),"visible"in z&&t(1,f=z.visible),"isExporting"in z&&t(3,h=z.isExporting),"exportError"in z&&t(4,m=z.exportError),"previewContent"in z&&t(5,b=z.previewContent),"previewFormat"in z&&t(6,k=z.previewFormat),"completedRounds"in z&&t(2,i=z.completedRounds),"totalCritiques"in z&&t(7,o=z.totalCritiques),"totalContributions"in z&&t(8,s=z.totalContributions),"hasResults"in z&&t(9,l=z.hasResults)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&t(9,l=u?.hasResults??!1),n.$$.dirty&1&&t(2,i=u?.rounds.filter(z=>z.status==="completed")??[]),n.$$.dirty&4&&t(8,s=i.reduce((z,T)=>z+T.contributions.length,0)),n.$$.dirty&4&&t(7,o=i.reduce((z,T)=>z+T.critiques.length,0))},[u,f,i,h,m,b,k,o,s,l,y,I,E,S,P,A,V]}class Yr extends $t{constructor(e){super(e),xt(this,e,uu,bi,Jt,{session:0,visible:1}),L("SvelteRegisterComponent",{component:this,tagName:"ResultPanel",options:e,id:bi.name})}get session(){throw new ll("<ResultPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set session(e){throw new ll("<ResultPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get visible(){throw new ll("<ResultPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set visible(e){throw new ll("<ResultPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ot="src/lib/components/forge/ForgeToolbar.svelte";function wi(n){let e,t=(n[2]?.name??"Session Active")+"",l;const i={c:function(){e=_("span"),l=U(t),this.h()},l:function(o){e=g(o,"SPAN",{class:!0});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){d(e,"class","session-indicator svelte-1ccaw87"),p(e,Ot,38,8,740)},m:function(o,a){Q(o,e,a),c(e,l)},p:function(o,a){a&4&&t!==(t=(o[2]?.name??"Session Active")+"")&&le(l,t)},d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:wi.name,type:"if",source:"(26:6) {#if sessionId}",ctx:n}),i}function Jr(n){let e,t,l,i="Idle";const s={c:function(){e=_("span"),t=R(),l=_("span"),l.textContent=i,this.h()},l:function(a){e=g(a,"SPAN",{class:!0,"aria-label":!0}),w(e).forEach(v),t=D(a),l=g(a,"SPAN",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-ajunu5"&&(l.textContent=i),this.h()},h:function(){d(e,"class","status-dot inactive svelte-1ccaw87"),d(e,"aria-label","No active session"),p(e,Ot,101,8,2864),d(l,"class","status-text svelte-1ccaw87"),p(l,Ot,102,8,2945)},m:function(a,r){Q(a,e,r),Q(a,t,r),Q(a,l,r)},d:function(a){a&&(v(e),v(t),v(l))}};return L("SvelteRegisterBlock",{block:s,id:Jr.name,type:"else",source:"(89:6) {:else}",ctx:n}),s}function Xr(n){let e,t,l,i="Active";const s={c:function(){e=_("span"),t=R(),l=_("span"),l.textContent=i,this.h()},l:function(a){e=g(a,"SPAN",{class:!0,"aria-label":!0}),w(e).forEach(v),t=D(a),l=g(a,"SPAN",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-bab8f9"&&(l.textContent=i),this.h()},h:function(){d(e,"class","status-dot active svelte-1ccaw87"),d(e,"aria-label","Session active"),p(e,Ot,98,8,2726),d(l,"class","status-text svelte-1ccaw87"),p(l,Ot,99,8,2802)},m:function(a,r){Q(a,e,r),Q(a,t,r),Q(a,l,r)},d:function(a){a&&(v(e),v(t),v(l))}};return L("SvelteRegisterBlock",{block:s,id:Xr.name,type:"if",source:"(86:6) {#if sessionId}",ctx:n}),s}function Si(n){let e,t,l,i,s,o,a,r,u,f,h,m,b,k,y,I,E,S,C,P,A,V,z,T,N,q,O,M,j,K,F,Y,B="New",x,Z,te,X=n[0]&&wi(n);function ne(W,G){return W[0]?Xr:Jr}let se=ne(n),_e=se(n);K=new Ge({props:{name:"zap",size:16},$$inline:!0});const ue={c:function(){e=_("header"),t=_("div"),l=_("h1"),i=U(`Think Tank
      `),X&&X.c(),s=R(),o=_("div"),a=_("nav"),r=_("button"),u=Gn("svg"),f=Gn("path"),h=U(`
        Sidebar`),b=R(),k=_("button"),y=Gn("svg"),I=Gn("path"),E=U(`
        Results`),C=R(),P=_("button"),A=Gn("svg"),V=Gn("path"),z=U(`
        Logs`),N=R(),q=_("div"),O=_("div"),_e.c(),M=R(),j=_("button"),Ie(K.$$.fragment),F=R(),Y=_("span"),Y.textContent=B,this.h()},l:function(G){e=g(G,"HEADER",{class:!0,role:!0});var he=w(e);t=g(he,"DIV",{class:!0});var ve=w(t);l=g(ve,"H1",{class:!0});var me=w(l);i=H(me,`Think Tank
      `),X&&X.l(me),me.forEach(v),ve.forEach(v),s=D(he),o=g(he,"DIV",{class:!0});var ke=w(o);a=g(ke,"NAV",{class:!0,role:!0,"aria-label":!0});var Fe=w(a);r=g(Fe,"BUTTON",{type:!0,class:!0,title:!0,"aria-label":!0,"aria-pressed":!0});var Te=w(r);u=qn(Te,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,"aria-hidden":!0,class:!0});var fe=w(u);f=qn(fe,"path",{d:!0}),w(f).forEach(v),fe.forEach(v),h=H(Te,`
        Sidebar`),Te.forEach(v),b=D(Fe),k=g(Fe,"BUTTON",{type:!0,class:!0,title:!0,"aria-label":!0,"aria-pressed":!0});var De=w(k);y=qn(De,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,"aria-hidden":!0,class:!0});var ae=w(y);I=qn(ae,"path",{d:!0}),w(I).forEach(v),ae.forEach(v),E=H(De,`
        Results`),De.forEach(v),C=D(Fe),P=g(Fe,"BUTTON",{type:!0,class:!0,title:!0,"aria-label":!0,"aria-pressed":!0});var Ve=w(P);A=qn(Ve,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,"aria-hidden":!0,class:!0});var rt=w(A);V=qn(rt,"path",{d:!0}),w(V).forEach(v),rt.forEach(v),z=H(Ve,`
        Logs`),Ve.forEach(v),Fe.forEach(v),ke.forEach(v),N=D(he),q=g(he,"DIV",{class:!0});var be=w(q);O=g(be,"DIV",{class:!0});var pe=w(O);_e.l(pe),pe.forEach(v),M=D(be),j=g(be,"BUTTON",{type:!0,class:!0,title:!0});var ie=w(j);Ee(K.$$.fragment,ie),F=D(ie),Y=g(ie,"SPAN",{class:!0,"data-svelte-h":!0}),$(Y)!=="svelte-nr5oww"&&(Y.textContent=B),ie.forEach(v),be.forEach(v),he.forEach(v),this.h()},h:function(){d(l,"class","forge-title svelte-1ccaw87"),p(l,Ot,35,4,668),d(t,"class","toolbar-section left svelte-1ccaw87"),p(t,Ot,34,2,629),d(f,"d","M2 2h4v12H2V2zm6 0h6v12H8V2z"),p(f,Ot,56,10,1427),d(u,"width","16"),d(u,"height","16"),d(u,"viewBox","0 0 16 16"),d(u,"fill","currentColor"),d(u,"aria-hidden","true"),d(u,"class","svelte-1ccaw87"),p(u,Ot,55,8,1329),d(r,"type","button"),d(r,"class","panel-toggle svelte-1ccaw87"),d(r,"title","Toggle left sidebar (Ctrl+B)"),d(r,"aria-label","Toggle left sidebar"),d(r,"aria-pressed",m=n[1].leftSidebarVisible),Pe(r,"active",n[1].leftSidebarVisible),p(r,Ot,45,6,978),d(I,"d","M2 2h6v12H2V2zm8 0h4v12h-4V2z"),p(I,Ot,72,10,1969),d(y,"width","16"),d(y,"height","16"),d(y,"viewBox","0 0 16 16"),d(y,"fill","currentColor"),d(y,"aria-hidden","true"),d(y,"class","svelte-1ccaw87"),p(y,Ot,71,8,1871),d(k,"type","button"),d(k,"class","panel-toggle svelte-1ccaw87"),d(k,"title","Toggle right panel (Ctrl+\\)"),d(k,"aria-label","Toggle right panel"),d(k,"aria-pressed",S=n[1].rightPanelVisible),Pe(k,"active",n[1].rightPanelVisible),p(k,Ot,61,6,1523),d(V,"d","M2 2h12v6H2V2zm0 8h12v4H2v-4z"),p(V,Ot,88,10,2517),d(A,"width","16"),d(A,"height","16"),d(A,"viewBox","0 0 16 16"),d(A,"fill","currentColor"),d(A,"aria-hidden","true"),d(A,"class","svelte-1ccaw87"),p(A,Ot,87,8,2419),d(P,"type","button"),d(P,"class","panel-toggle svelte-1ccaw87"),d(P,"title","Toggle bottom panel (Ctrl+J)"),d(P,"aria-label","Toggle bottom panel"),d(P,"aria-pressed",T=n[1].bottomPanelVisible),Pe(P,"active",n[1].bottomPanelVisible),p(P,Ot,77,6,2066),d(a,"class","panel-controls svelte-1ccaw87"),d(a,"role","navigation"),d(a,"aria-label","Panel controls"),p(a,Ot,44,4,897),d(o,"class","toolbar-section center svelte-1ccaw87"),p(o,Ot,43,2,856),d(O,"class","session-status svelte-1ccaw87"),p(O,Ot,96,4,2667),d(Y,"class","svelte-1ccaw87"),p(Y,Ot,108,6,3164),d(j,"type","button"),d(j,"class","new-session svelte-1ccaw87"),d(j,"title","Start a new Think Tank session"),p(j,Ot,106,4,3011),d(q,"class","toolbar-section right svelte-1ccaw87"),p(q,Ot,95,2,2627),d(e,"class","forge-toolbar svelte-1ccaw87"),d(e,"role","banner"),p(e,Ot,33,0,582)},m:function(G,he){Q(G,e,he),c(e,t),c(t,l),c(l,i),X&&X.m(l,null),c(e,s),c(e,o),c(o,a),c(a,r),c(r,u),c(u,f),c(r,h),c(a,b),c(a,k),c(k,y),c(y,I),c(k,E),c(a,C),c(a,P),c(P,A),c(A,V),c(P,z),c(e,N),c(e,q),c(q,O),_e.m(O,null),c(q,M),c(q,j),Ce(K,j,null),c(j,F),c(j,Y),x=!0,Z||(te=[Re(r,"click",n[5],!1,!1,!1,!1),Re(r,"keydown",hl,!1,!1,!1,!1),Re(k,"click",n[6],!1,!1,!1,!1),Re(k,"keydown",hl,!1,!1,!1,!1),Re(P,"click",n[7],!1,!1,!1,!1),Re(P,"keydown",hl,!1,!1,!1,!1),Re(j,"click",n[4],!1,!1,!1,!1)],Z=!0)},p:function(G,[he]){G[0]?X?X.p(G,he):(X=wi(G),X.c(),X.m(l,null)):X&&(X.d(1),X=null),(!x||he&2&&m!==(m=G[1].leftSidebarVisible))&&d(r,"aria-pressed",m),(!x||he&2)&&Pe(r,"active",G[1].leftSidebarVisible),(!x||he&2&&S!==(S=G[1].rightPanelVisible))&&d(k,"aria-pressed",S),(!x||he&2)&&Pe(k,"active",G[1].rightPanelVisible),(!x||he&2&&T!==(T=G[1].bottomPanelVisible))&&d(P,"aria-pressed",T),(!x||he&2)&&Pe(P,"active",G[1].bottomPanelVisible),se!==(se=ne(G))&&(_e.d(1),_e=se(G),_e&&(_e.c(),_e.m(O,null)))},i:function(G){x||(J(K.$$.fragment,G),x=!0)},o:function(G){ee(K.$$.fragment,G),x=!1},d:function(G){G&&v(e),X&&X.d(),_e.d(),Se(K),Z=!1,Dn(te)}};return L("SvelteRegisterBlock",{block:ue,id:Si.name,type:"component",source:"",ctx:n}),ue}function hl(n){(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),n.target.click())}function fu(n,e,t){let l;Wt(gs,"activeSession"),Ht(n,gs,y=>t(2,l=y));let{$$slots:i={},$$scope:s}=e;en("ForgeToolbar",i,[]);let{sessionId:o=null}=e,{layoutConfig:a}=e;const r=an();function u(y){r("togglePanel",y)}function f(){r("newSession")}n.$$.on_mount.push(function(){a===void 0&&("layoutConfig"in e||n.$$.bound[n.$$.props.layoutConfig])});const h=["sessionId","layoutConfig"];Object.keys(e).forEach(y=>{!~h.indexOf(y)&&y.slice(0,2)});const m=()=>u("left"),b=()=>u("right"),k=()=>u("bottom");return n.$$set=y=>{"sessionId"in y&&t(0,o=y.sessionId),"layoutConfig"in y&&t(1,a=y.layoutConfig)},n.$capture_state=()=>({createEventDispatcher:an,Icon:Ge,activeSession:gs,sessionId:o,layoutConfig:a,dispatch:r,togglePanel:u,requestNewSession:f,handleKeydown:hl,$activeSession:l}),n.$inject_state=y=>{"sessionId"in y&&t(0,o=y.sessionId),"layoutConfig"in y&&t(1,a=y.layoutConfig)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[o,a,l,u,f,m,b,k]}class Zr extends $t{constructor(e){super(e),xt(this,e,fu,Si,Jt,{sessionId:0,layoutConfig:1}),L("SvelteRegisterComponent",{component:this,tagName:"ForgeToolbar",options:e,id:Si.name})}get sessionId(){throw new Error("<ForgeToolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sessionId(e){throw new Error("<ForgeToolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get layoutConfig(){throw new Error("<ForgeToolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set layoutConfig(e){throw new Error("<ForgeToolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ut="src/lib/components/forge/LogPanel.svelte";function rl(n,e,t){const l=n.slice();return l[6]=e[t],l}function $r(n){let e,t="IPC";const l={c:function(){e=_("span"),e.textContent=t,this.h()},l:function(s){e=g(s,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1bin84c"&&(e.textContent=t),this.h()},h:function(){d(e,"class","chip chip-ok svelte-1x9910s"),p(e,Ut,27,8,733)},m:function(s,o){Q(s,e,o)},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:$r.name,type:"else",source:"(22:6) {:else}",ctx:n}),l}function xr(n){let e,t="Mock";const l={c:function(){e=_("span"),e.textContent=t,this.h()},l:function(s){e=g(s,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1okki8u"&&(e.textContent=t),this.h()},h:function(){d(e,"class","chip chip-warn svelte-1x9910s"),p(e,Ut,25,8,670)},m:function(s,o){Q(s,e,o)},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:xr.name,type:"if",source:"(20:6) {#if $forgeState.useMockMode}",ctx:n}),l}function Ci(n){let e,t="Running";const l={c:function(){e=_("span"),e.textContent=t,this.h()},l:function(s){e=g(s,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-ne6h0c"&&(e.textContent=t),this.h()},h:function(){d(e,"class","chip chip-run svelte-1x9910s"),p(e,Ut,30,8,830)},m:function(s,o){Q(s,e,o)},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Ci.name,type:"if",source:"(25:6) {#if $forgeState.isDeliberating}",ctx:n}),l}function Ei(n){let e,t="Error";const l={c:function(){e=_("span"),e.textContent=t,this.h()},l:function(s){e=g(s,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1p2qrml"&&(e.textContent=t),this.h()},h:function(){d(e,"class","chip chip-err svelte-1x9910s"),p(e,Ut,33,8,923)},m:function(s,o){Q(s,e,o)},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Ei.name,type:"if",source:"(28:6) {#if $forgeState.error}",ctx:n}),l}function Ii(n){let e,t,l,i,s=n[0].error+"",o,a;t=new Ge({props:{name:"alert-triangle",size:14},$$inline:!0});const r={c:function(){e=_("div"),Ie(t.$$.fragment),l=R(),i=_("span"),o=U(s),this.h()},l:function(f){e=g(f,"DIV",{class:!0});var h=w(e);Ee(t.$$.fragment,h),l=D(h),i=g(h,"SPAN",{});var m=w(i);o=H(m,s),m.forEach(v),h.forEach(v),this.h()},h:function(){p(i,Ut,42,8,1140),d(e,"class","error-row svelte-1x9910s"),p(e,Ut,40,6,1059)},m:function(f,h){Q(f,e,h),Ce(t,e,null),c(e,l),c(e,i),c(i,o),a=!0},p:function(f,h){(!a||h&1)&&s!==(s=f[0].error+"")&&le(o,s)},i:function(f){a||(J(t.$$.fragment,f),a=!0)},o:function(f){ee(t.$$.fragment,f),a=!1},d:function(f){f&&v(e),Se(t)}};return L("SvelteRegisterBlock",{block:r,id:Ii.name,type:"if",source:"(35:4) {#if $forgeState.error}",ctx:n}),r}function ec(n){let e,t=[],l=new Map,i=Je(n[1]);const s=a=>a[6].messageId;on(n,i,rl,s);for(let a=0;a<i.length;a+=1){let r=rl(n,i,a),u=s(r);l.set(u,t[a]=Pi(u,r))}const o={c:function(){e=_("ul");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l:function(r){e=g(r,"UL",{class:!0});var u=w(e);for(let f=0;f<t.length;f+=1)t[f].l(u);u.forEach(v),this.h()},h:function(){d(e,"class","log-list svelte-1x9910s"),p(e,Ut,52,6,1436)},m:function(r,u){Q(r,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null)},p:function(r,u){u&2&&(i=Je(r[1]),on(r,i,rl,s),t=$n(t,u,s,1,r,i,l,e,ws,Pi,null,rl))},d:function(r){r&&v(e);for(let u=0;u<t.length;u+=1)t[u].d()}};return L("SvelteRegisterBlock",{block:o,id:ec.name,type:"else",source:"(47:4) {:else}",ctx:n}),o}function tc(n){let e,t,l="No log events yet",i,s,o="Start a deliberation to see the raw event stream.";const a={c:function(){e=_("div"),t=_("div"),t.textContent=l,i=R(),s=_("div"),s.textContent=o,this.h()},l:function(u){e=g(u,"DIV",{class:!0});var f=w(e);t=g(f,"DIV",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1esunq5"&&(t.textContent=l),i=D(f),s=g(f,"DIV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-1g6tzpt"&&(s.textContent=o),f.forEach(v),this.h()},h:function(){d(t,"class","empty-title svelte-1x9910s"),p(t,Ut,48,8,1264),d(s,"class","empty-subtitle svelte-1x9910s"),p(s,Ut,49,8,1321),d(e,"class","empty svelte-1x9910s"),p(e,Ut,47,6,1236)},m:function(u,f){Q(u,e,f),c(e,t),c(e,i),c(e,s)},p:$e,d:function(u){u&&v(e)}};return L("SvelteRegisterBlock",{block:a,id:tc.name,type:"if",source:"(42:4) {#if $filtered.length === 0}",ctx:n}),a}function Pi(n,e){let t,l,i=new Date(e[6].timestamp).toLocaleTimeString()+"",s,o,a,r=e[6].participantName+"",u,f,h,m=e[6].type+"",b,k,y=e[6].status+"",I,E,S,C=(e[6].contentDelta??e[6].content??"").replaceAll(`
`," ").slice(0,160)+"",P,A;const V={key:n,first:null,c:function(){t=_("li"),l=_("span"),s=U(i),o=R(),a=_("span"),u=U(r),f=R(),h=_("span"),b=U(m),k=U("/"),I=U(y),E=R(),S=_("span"),P=U(C),A=R(),this.h()},l:function(T){t=g(T,"LI",{class:!0});var N=w(t);l=g(N,"SPAN",{class:!0});var q=w(l);s=H(q,i),q.forEach(v),o=D(N),a=g(N,"SPAN",{class:!0});var O=w(a);u=H(O,r),O.forEach(v),f=D(N),h=g(N,"SPAN",{class:!0});var M=w(h);b=H(M,m),k=H(M,"/"),I=H(M,y),M.forEach(v),E=D(N),S=g(N,"SPAN",{class:!0});var j=w(S);P=H(j,C),j.forEach(v),A=D(N),N.forEach(v),this.h()},h:function(){d(l,"class","ts svelte-1x9910s"),p(l,Ut,55,12,1547),d(a,"class","who svelte-1x9910s"),p(a,Ut,56,12,1628),d(h,"class","type svelte-1x9910s"),p(h,Ut,57,12,1685),d(S,"class","msg svelte-1x9910s"),p(S,Ut,58,12,1743),d(t,"class","log-item svelte-1x9910s"),p(t,Ut,54,10,1513),this.first=t},m:function(T,N){Q(T,t,N),c(t,l),c(l,s),c(t,o),c(t,a),c(a,u),c(t,f),c(t,h),c(h,b),c(h,k),c(h,I),c(t,E),c(t,S),c(S,P),c(t,A)},p:function(T,N){e=T,N&2&&i!==(i=new Date(e[6].timestamp).toLocaleTimeString()+"")&&le(s,i),N&2&&r!==(r=e[6].participantName+"")&&le(u,r),N&2&&m!==(m=e[6].type+"")&&le(b,m),N&2&&y!==(y=e[6].status+"")&&le(I,y),N&2&&C!==(C=(e[6].contentDelta??e[6].content??"").replaceAll(`
`," ").slice(0,160)+"")&&le(P,C)},d:function(T){T&&v(t)}};return L("SvelteRegisterBlock",{block:V,id:Pi.name,type:"each",source:"(49:8) {#each $filtered as m (m.messageId)}",ctx:e}),V}function Di(n){let e,t,l,i,s,o,a="Forge Logs",r,u,f,h,m,b,k,y;i=new Ge({props:{name:"terminal",size:16},$$inline:!0});function I(q,O){return q[0].useMockMode?xr:$r}let E=I(n),S=E(n),C=n[0].isDeliberating&&Ci(n),P=n[0].error&&Ei(n),A=n[0].error&&Ii(n);function V(q,O){return q[1].length===0?tc:ec}let z=V(n),T=z(n);const N={c:function(){e=_("div"),t=_("header"),l=_("div"),Ie(i.$$.fragment),s=R(),o=_("span"),o.textContent=a,r=R(),u=_("div"),S.c(),f=R(),C&&C.c(),h=R(),P&&P.c(),m=R(),b=_("div"),A&&A.c(),k=R(),T.c(),this.h()},l:function(O){e=g(O,"DIV",{class:!0});var M=w(e);t=g(M,"HEADER",{class:!0});var j=w(t);l=g(j,"DIV",{class:!0});var K=w(l);Ee(i.$$.fragment,K),s=D(K),o=g(K,"SPAN",{"data-svelte-h":!0}),$(o)!=="svelte-ot749g"&&(o.textContent=a),K.forEach(v),r=D(j),u=g(j,"DIV",{class:!0});var F=w(u);S.l(F),f=D(F),C&&C.l(F),h=D(F),P&&P.l(F),F.forEach(v),j.forEach(v),m=D(M),b=g(M,"DIV",{class:!0});var Y=w(b);A&&A.l(Y),k=D(Y),T.l(Y),Y.forEach(v),M.forEach(v),this.h()},h:function(){p(o,Ut,21,6,568),d(l,"class","title svelte-1x9910s"),p(l,Ut,19,4,501),d(u,"class","meta svelte-1x9910s"),p(u,Ut,23,4,607),d(t,"class","log-header svelte-1x9910s"),p(t,Ut,18,2,469),d(b,"class","log-body svelte-1x9910s"),p(b,Ut,38,2,1002),d(e,"class","log-panel svelte-1x9910s"),p(e,Ut,17,0,443)},m:function(O,M){Q(O,e,M),c(e,t),c(t,l),Ce(i,l,null),c(l,s),c(l,o),c(t,r),c(t,u),S.m(u,null),c(u,f),C&&C.m(u,null),c(u,h),P&&P.m(u,null),c(e,m),c(e,b),A&&A.m(b,null),c(b,k),T.m(b,null),y=!0},p:function(O,[M]){E!==(E=I(O))&&(S.d(1),S=E(O),S&&(S.c(),S.m(u,f))),O[0].isDeliberating?C||(C=Ci(O),C.c(),C.m(u,h)):C&&(C.d(1),C=null),O[0].error?P||(P=Ei(O),P.c(),P.m(u,null)):P&&(P.d(1),P=null),O[0].error?A?(A.p(O,M),M&1&&J(A,1)):(A=Ii(O),A.c(),J(A,1),A.m(b,k)):A&&(ct(),ee(A,1,1,()=>{A=null}),ut()),z===(z=V(O))&&T?T.p(O,M):(T.d(1),T=z(O),T&&(T.c(),T.m(b,null)))},i:function(O){y||(J(i.$$.fragment,O),J(A),y=!0)},o:function(O){ee(i.$$.fragment,O),ee(A),y=!1},d:function(O){O&&v(e),Se(i),S.d(),C&&C.d(),P&&P.d(),A&&A.d(),T.d()}};return L("SvelteRegisterBlock",{block:N,id:Di.name,type:"component",source:"",ctx:n}),N}function du(n,e,t){let l,i,{$$slots:s={},$$scope:o}=e;en("LogPanel",s,[]);let{session:a=null}=e;const r=dn.state;Wt(r,"forgeState"),Ht(n,r,m=>t(0,l=m));const u=dn.messages,f=Ln([u],([m])=>a?m.filter(b=>b.sessionId===a.id):m);Wt(f,"filtered"),Ht(n,f,m=>t(1,i=m));const h=["session"];return Object.keys(e).forEach(m=>{!~h.indexOf(m)&&m.slice(0,2)}),n.$$set=m=>{"session"in m&&t(4,a=m.session)},n.$capture_state=()=>({derived:Ln,Icon:Ge,forgeService:dn,session:a,forgeState:r,forgeMessages:u,filtered:f,$forgeState:l,$filtered:i}),n.$inject_state=m=>{"session"in m&&t(4,a=m.session)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[l,i,r,f,a]}class nc extends $t{constructor(e){super(e),xt(this,e,du,Di,Jt,{session:4}),L("SvelteRegisterComponent",{component:this,tagName:"LogPanel",options:e,id:Di.name})}get session(){throw new Error("<LogPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set session(e){throw new Error("<LogPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const hu={};function vu(){const n=La(hu,{key:"layout-preferences",storage:"localStorage",version:1});return{...n,async save(e,t){n.update(l=>({...l,[e]:t}))},async load(e){return new Promise(t=>{const l=n.subscribe(i=>{t(i[e]||null),l()})})}}}const zl=vu(),Zn="src/lib/components/forge/ForgeLayout.svelte",mu=n=>({}),pa=n=>({});function Ri(n){let e,t,l,i,s,o,a,r,u;t=new Ha({props:{sessionId:n[0]},$$inline:!0});let f=n[1].showParticipants&&Vi(n);const h={c:function(){e=_("aside"),Ie(t.$$.fragment),l=R(),f&&f.c(),i=R(),s=_("div"),this.h()},l:function(b){e=g(b,"ASIDE",{class:!0,style:!0,"aria-label":!0,"data-visible":!0});var k=w(e);Ee(t.$$.fragment,k),l=D(k),f&&f.l(k),i=D(k),s=g(k,"DIV",{class:!0,role:!0,"aria-orientation":!0,"aria-label":!0,tabindex:!0}),w(s).forEach(v),k.forEach(v),this.h()},h:function(){d(s,"class","resize-handle vertical svelte-1jg80m0"),d(s,"role","separator"),d(s,"aria-orientation","vertical"),d(s,"aria-label","Resize left sidebar"),d(s,"tabindex","0"),p(s,Zn,170,8,4887),d(e,"class","left-sidebar svelte-1jg80m0"),wn(e,"width",n[3].leftSidebarWidth+"px"),d(e,"aria-label","Session sidebar"),d(e,"data-visible",o=n[3].leftSidebarVisible),p(e,Zn,158,6,4511)},m:function(b,k){Q(b,e,k),Ce(t,e,null),c(e,l),f&&f.m(e,null),c(e,i),c(e,s),a=!0,r||(u=Re(s,"mousedown",n[10]("left"),!1,!1,!1,!1),r=!0)},p:function(b,k){const y={};k&1&&(y.sessionId=b[0]),t.$set(y),b[1].showParticipants?f?(f.p(b,k),k&2&&J(f,1)):(f=Vi(b),f.c(),J(f,1),f.m(e,i)):f&&(ct(),ee(f,1,1,()=>{f=null}),ut()),(!a||k&8)&&wn(e,"width",b[3].leftSidebarWidth+"px"),(!a||k&8&&o!==(o=b[3].leftSidebarVisible))&&d(e,"data-visible",o)},i:function(b){a||(J(t.$$.fragment,b),J(f),a=!0)},o:function(b){ee(t.$$.fragment,b),ee(f),a=!1},d:function(b){b&&v(e),Se(t),f&&f.d(),r=!1,u()}};return L("SvelteRegisterBlock",{block:h,id:Ri.name,type:"if",source:"(136:4) {#if $layoutConfig.leftSidebarVisible}",ctx:n}),h}function Vi(n){let e,t;e=new Za({props:{session:n[5].activeSession},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},p:function(s,o){const a={};o&32&&(a.session=s[5].activeSession),e.$set(a)},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:Vi.name,type:"if",source:"(145:8) {#if $panelStates.showParticipants}",ctx:n}),l}function Ai(n){let e,t,l,i,s,o;const a=n[14]["bottom-panel"],r=za(a,n,n[13],pa),u=r||sc(n),f={c:function(){e=_("div"),t=R(),l=_("div"),u&&u.c(),this.h()},l:function(m){e=g(m,"DIV",{class:!0,role:!0,"aria-orientation":!0,"aria-label":!0,tabindex:!0}),w(e).forEach(v),t=D(m),l=g(m,"DIV",{class:!0,style:!0,"aria-label":!0});var b=w(l);u&&u.l(b),b.forEach(v),this.h()},h:function(){d(e,"class","resize-handle horizontal svelte-1jg80m0"),d(e,"role","separator"),d(e,"aria-orientation","horizontal"),d(e,"aria-label","Resize bottom panel"),d(e,"tabindex","0"),p(e,Zn,189,8,5445),d(l,"class","bottom-panel svelte-1jg80m0"),wn(l,"height",n[3].bottomPanelHeight+"px"),d(l,"aria-label","Session logs"),p(l,Zn,197,8,5698)},m:function(m,b){Q(m,e,b),Q(m,t,b),Q(m,l,b),u&&u.m(l,null),i=!0,s||(o=Re(e,"mousedown",n[10]("bottom"),!1,!1,!1,!1),s=!0)},p:function(m,b){r?r.p&&(!i||b&8192)&&Ta(r,a,m,m[13],i?Ba(a,m[13],b,mu):Na(m[13]),pa):u&&u.p&&(!i||b&32)&&u.p(m,i?b:-1),(!i||b&8)&&wn(l,"height",m[3].bottomPanelHeight+"px")},i:function(m){i||(J(u,m),i=!0)},o:function(m){ee(u,m),i=!1},d:function(m){m&&(v(e),v(t),v(l)),u&&u.d(m),s=!1,o()}};return L("SvelteRegisterBlock",{block:f,id:Ai.name,type:"if",source:"(167:6) {#if $layoutConfig.bottomPanelVisible}",ctx:n}),f}function sc(n){let e,t;e=new nc({props:{session:n[5].activeSession},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},p:function(s,o){const a={};o&32&&(a.session=s[5].activeSession),e.$set(a)},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:sc.name,type:"fallback",source:"(181:36)              ",ctx:n}),l}function Mi(n){let e,t,l,i,s,o,a,r;i=new Yr({props:{session:n[5].activeSession,visible:n[1].showResults},$$inline:!0});const u={c:function(){e=_("aside"),t=_("div"),l=R(),Ie(i.$$.fragment),this.h()},l:function(h){e=g(h,"ASIDE",{class:!0,style:!0,"aria-label":!0,"data-visible":!0});var m=w(e);t=g(m,"DIV",{class:!0,role:!0,"aria-orientation":!0,"aria-label":!0,tabindex:!0}),w(t).forEach(v),l=D(m),Ee(i.$$.fragment,m),m.forEach(v),this.h()},h:function(){d(t,"class","resize-handle vertical svelte-1jg80m0"),d(t,"role","separator"),d(t,"aria-orientation","vertical"),d(t,"aria-label","Resize right panel"),d(t,"tabindex","0"),p(t,Zn,216,8,6251),d(e,"class","right-panel svelte-1jg80m0"),wn(e,"width",n[3].rightPanelWidth+"px"),d(e,"aria-label","Results panel"),d(e,"data-visible",s=n[3].rightPanelVisible),p(e,Zn,210,6,6053)},m:function(h,m){Q(h,e,m),c(e,t),c(e,l),Ce(i,e,null),o=!0,a||(r=Re(t,"mousedown",n[10]("right"),!1,!1,!1,!1),a=!0)},p:function(h,m){const b={};m&32&&(b.session=h[5].activeSession),m&2&&(b.visible=h[1].showResults),i.$set(b),(!o||m&8)&&wn(e,"width",h[3].rightPanelWidth+"px"),(!o||m&8&&s!==(s=h[3].rightPanelVisible))&&d(e,"data-visible",s)},i:function(h){o||(J(i.$$.fragment,h),o=!0)},o:function(h){ee(i.$$.fragment,h),o=!1},d:function(h){h&&v(e),Se(i),a=!1,r()}};return L("SvelteRegisterBlock",{block:u,id:Mi.name,type:"if",source:"(188:4) {#if $layoutConfig.rightPanelVisible}",ctx:n}),u}function zi(n){let e,t,l,i,s,o,a,r,u,f;t=new Zr({props:{sessionId:n[0],layoutConfig:n[3]},$$inline:!0}),t.$on("togglePanel",n[15]),t.$on("newSession",n[16]);let h=n[3].leftSidebarVisible&&Ri(n);a=new Fr({props:{sessionId:n[0],phase:n[1].sessionPhase},$$inline:!0}),a.$on("editSession",n[17]);let m=n[3].bottomPanelVisible&&Ai(n),b=n[3].rightPanelVisible&&Mi(n);const k={c:function(){e=_("div"),Ie(t.$$.fragment),l=R(),i=_("div"),h&&h.c(),s=R(),o=_("main"),Ie(a.$$.fragment),r=R(),m&&m.c(),u=R(),b&&b.c(),this.h()},l:function(I){e=g(I,"DIV",{class:!0,"data-testid":!0});var E=w(e);Ee(t.$$.fragment,E),l=D(E),i=g(E,"DIV",{class:!0});var S=w(i);h&&h.l(S),s=D(S),o=g(S,"MAIN",{class:!0,role:!0,"aria-label":!0});var C=w(o);Ee(a.$$.fragment,C),r=D(C),m&&m.l(C),C.forEach(v),u=D(S),b&&b.l(S),S.forEach(v),E.forEach(v),this.h()},h:function(){d(o,"class","main-content svelte-1jg80m0"),d(o,"role","main"),d(o,"aria-label","Forge session content"),p(o,Zn,181,4,5156),d(i,"class","forge-content svelte-1jg80m0"),p(i,Zn,156,2,4434),d(e,"class","forge-layout svelte-1jg80m0"),d(e,"data-testid","forge-layout"),Pe(e,"resizing",n[4]!==null),p(e,Zn,143,0,4136)},m:function(I,E){Q(I,e,E),Ce(t,e,null),c(e,l),c(e,i),h&&h.m(i,null),c(i,s),c(i,o),Ce(a,o,null),c(o,r),m&&m.m(o,null),c(i,u),b&&b.m(i,null),n[18](e),f=!0},p:function(I,[E]){const S={};E&1&&(S.sessionId=I[0]),E&8&&(S.layoutConfig=I[3]),t.$set(S),I[3].leftSidebarVisible?h?(h.p(I,E),E&8&&J(h,1)):(h=Ri(I),h.c(),J(h,1),h.m(i,s)):h&&(ct(),ee(h,1,1,()=>{h=null}),ut());const C={};E&1&&(C.sessionId=I[0]),E&2&&(C.phase=I[1].sessionPhase),a.$set(C),I[3].bottomPanelVisible?m?(m.p(I,E),E&8&&J(m,1)):(m=Ai(I),m.c(),J(m,1),m.m(o,null)):m&&(ct(),ee(m,1,1,()=>{m=null}),ut()),I[3].rightPanelVisible?b?(b.p(I,E),E&8&&J(b,1)):(b=Mi(I),b.c(),J(b,1),b.m(i,null)):b&&(ct(),ee(b,1,1,()=>{b=null}),ut()),(!f||E&16)&&Pe(e,"resizing",I[4]!==null)},i:function(I){f||(J(t.$$.fragment,I),J(h),J(a.$$.fragment,I),J(m),J(b),f=!0)},o:function(I){ee(t.$$.fragment,I),ee(h),ee(a.$$.fragment,I),ee(m),ee(b),f=!1},d:function(I){I&&v(e),Se(t),h&&h.d(),Se(a),m&&m.d(),b&&b.d(),n[18](null)}};return L("SvelteRegisterBlock",{block:k,id:zi.name,type:"component",source:"",ctx:n}),k}function pu(n,e,t){let l,i,s,o;Wt(Gt,"forgeSessionStore"),Ht(n,Gt,M=>t(5,o=M));let{$$slots:a={},$$scope:r}=e;en("ForgeLayout",a,["bottom-panel"]);let{sessionId:u=null}=e;const f=an(),h={leftSidebarWidth:280,rightPanelWidth:320,leftSidebarVisible:!0,rightPanelVisible:!0,bottomPanelVisible:!1,bottomPanelHeight:200};let m=fn(h);Wt(m,"layoutConfig"),Ht(n,m,M=>t(3,i=M));let b=fn(null);Wt(b,"isResizing"),Ht(n,b,M=>t(4,s=M));let k,y=!1;const I=Ln([m,Gt],([M,j])=>({hasActiveSession:!!j?.activeSession,showParticipants:M.leftSidebarVisible&&!!j?.activeSession,showResults:M.rightPanelVisible&&!!j?.activeSession,sessionPhase:j?.activeSession?.phase??"idle"}));Wt(I,"panelStates"),Ht(n,I,M=>t(1,l=M));function E(M){return j=>{j.preventDefault(),b.set(M),document.addEventListener("mousemove",S),document.addEventListener("mouseup",C)}}function S(M){const j=s;if(!j||!k)return;const K=k.getBoundingClientRect();m.update(F=>{if(j==="left"){const Y=Math.max(200,Math.min(400,M.clientX-K.left));return{...F,leftSidebarWidth:Y}}else if(j==="right"){const Y=Math.max(250,Math.min(500,K.right-M.clientX));return{...F,rightPanelWidth:Y}}else if(j==="bottom"){const Y=Math.max(150,Math.min(400,K.bottom-M.clientY));return{...F,bottomPanelHeight:Y}}return F})}function C(){b.set(null),document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",C),A()}function P(M){m.update(j=>{switch(M){case"left":return{...j,leftSidebarVisible:!j.leftSidebarVisible};case"right":return{...j,rightPanelVisible:!j.rightPanelVisible};case"bottom":return{...j,bottomPanelVisible:!j.bottomPanelVisible}}}),A()}function A(){zl.save("forge",i)}function V(M){if(M.ctrlKey||M.metaKey)switch(M.key){case"b":M.preventDefault(),P("left");break;case"\\":M.preventDefault(),P("right");break;case"j":M.preventDefault(),P("bottom");break}}ys(async()=>{const M=await zl.load("forge");M&&m.set({...h,...M}),window.addEventListener("keydown",V)}),pl(()=>{window.removeEventListener("keydown",V)});const z=["sessionId"];Object.keys(e).forEach(M=>{!~z.indexOf(M)&&M.slice(0,2)});const T=M=>P(M.detail),N=()=>f("newSession"),q=M=>f("editSession",M.detail);function O(M){ml[M?"unshift":"push"](()=>{k=M,t(2,k)})}return n.$$set=M=>{"sessionId"in M&&t(0,u=M.sessionId),"$$scope"in M&&t(13,r=M.$$scope)},n.$capture_state=()=>({createEventDispatcher:an,onMount:ys,onDestroy:pl,writable:fn,derived:Ln,SessionSidebar:Ha,ParticipantPanel:Za,MainContentArea:Fr,ResultPanel:Yr,ForgeToolbar:Zr,LogPanel:nc,forgeSessionStore:Gt,layoutPreferencesStore:zl,sessionId:u,dispatch:f,defaultConfig:h,layoutConfig:m,isResizing:b,containerRef:k,didAutoOpenRunPanels:y,panelStates:I,handleResizeStart:E,handleResizeMove:S,handleResizeEnd:C,togglePanel:P,saveLayoutPreferences:A,handleKeydown:V,$panelStates:l,$layoutConfig:i,$isResizing:s,$forgeSessionStore:o}),n.$inject_state=M=>{"sessionId"in M&&t(0,u=M.sessionId),"layoutConfig"in M&&t(7,m=M.layoutConfig),"isResizing"in M&&t(8,b=M.isResizing),"containerRef"in M&&t(2,k=M.containerRef),"didAutoOpenRunPanels"in M&&t(12,y=M.didAutoOpenRunPanels)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&4098&&!y&&l.sessionPhase==="drafting"&&(t(12,y=!0),m.update(M=>({...M,rightPanelVisible:!0,bottomPanelVisible:!0})))},[u,l,k,i,s,o,f,m,b,I,E,P,y,r,a,T,N,q,O]}class Tu extends $t{constructor(e){super(e),xt(this,e,pu,zi,Jt,{sessionId:0}),L("SvelteRegisterComponent",{component:this,tagName:"ForgeLayout",options:e,id:zi.name})}get sessionId(){throw new Error("<ForgeLayout>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sessionId(e){throw new Error("<ForgeLayout>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ga=[{pattern:/\b(repo|repository|repositories|git|code\s*base|codebase)\b/i,topic:"repositories",questions:["Which repository providers do you need to support? (GitHub, GitLab, Bitbucket, local file system, etc.)","Should this work with private repos that require authentication?","Do you need to track multiple branches, or just main/default?"]},{pattern:/\b(index|indexing|search|find|lookup)\b/i,topic:"indexing",questions:["What do you want to index? (file contents, symbols/functions, dependencies, commit history?)","How should search work - full text, semantic/meaning-based, or symbol lookup?","Should the index update automatically when code changes, or on-demand?"]},{pattern:/\b(connect|connection|sync|pull|fetch|clone)\b/i,topic:"connection",questions:["For remote connections, what authentication methods should be supported? (SSH keys, tokens, OAuth?)","Should it handle large repos efficiently, or is size not a concern?","Do you need offline support when remote is unavailable?"]},{pattern:/\b(local|remote|both)\b/i,topic:"locality",questions:["For local repos, should it scan for repos automatically or require manual paths?","Should local and remote repos be treated the same, or have different capabilities?"]},{pattern:/\b(api|endpoint|service|backend)\b/i,topic:"api",questions:["What kind of API - REST, GraphQL, or CLI commands?","Are there rate limits or quotas to consider?","Does it need to integrate with existing Tachikoma services?"]},{pattern:/\b(database|storage|persist|save|store)\b/i,topic:"storage",questions:["What storage backend - SQLite, PostgreSQL, file-based?","How much data are we talking about? Rough estimate of repo count/size?"]},{pattern:/\b(ui|interface|display|show|view|screen)\b/i,topic:"interface",questions:["Where should this appear in the Tachikoma UI?","Any specific interactions or workflows you envision?"]},{pattern:/\b(fast|performance|speed|efficient|scale)\b/i,topic:"performance",questions:["What scale are we dealing with? Number of repos, lines of code?","Are there specific performance targets to hit?"]},{pattern:/\b(config|configure|settings|options)\b/i,topic:"configuration",questions:["What should be configurable by the user vs hardcoded?","Should config be per-project, per-workspace, or global?"]}];function gu(n){const e=n.toLowerCase(),t=[],l=new Set,i=new Set;for(const{pattern:s,topic:o,questions:a}of ga)if(s.test(e)){i.add(o);for(const r of a)if(!l.has(r)&&t.length<4){l.add(r),t.push({category:o,question:r,priority:t.length===0?"high":"medium",filled:!1});break}}if(n.trim().length<50&&t.length===0&&t.unshift({category:"clarity",question:`You mentioned: "${n.trim()}"

Can you expand on this? What specifically are you trying to accomplish?`,priority:"high",filled:!1}),t.length<3&&i.size>0){for(const{pattern:s,topic:o,questions:a}of ga)if(s.test(e)&&i.has(o))for(const r of a)!l.has(r)&&t.length<4&&(l.add(r),t.push({category:o,question:r,priority:"low",filled:!1}))}return t.length===0&&t.push({category:"scope",question:`I want to make sure I understand correctly.

What's the main outcome you're looking for from this session? What would success look like?`,priority:"high",filled:!1}),t.slice(0,4)}function _u(n){const{initialGoal:e,exchanges:t}=n;let l=`## Objective
${e}`;if(t.length>0){l+=`

## Details
`;for(const{question:i,answer:s}of t){const o=i.split(`
`)[0].replace(/[?:]+$/,"").trim();l+=`
**${o}**
${s}
`}}return l}function bu(){const n=fn({isActive:!1,isStreaming:!1,initialGoal:"",contextGaps:[],currentGapIndex:0,refinedGoal:"",error:null}),e=fn([]),t=fn({initialGoal:"",exchanges:[]});function l(b){const k=gu(b);n.update(y=>({...y,isActive:!0,initialGoal:b,contextGaps:k,currentGapIndex:0,error:null})),e.set([]),t.set({initialGoal:b,exchanges:[]}),k.length>0?i(k[0].question):r("Your goal looks clear. Proceed when ready, or ask me to clarify anything.")}async function i(b){const k=a();await Is(200+Math.random()*150),n.update(y=>({...y,isStreaming:!0})),await u(k,b),n.update(y=>({...y,isStreaming:!1}))}async function s(b){const k=sn(n),y=k.contextGaps[k.currentGapIndex];e.update(S=>[...S,{id:`user-${Date.now()}`,role:"user",content:b,timestamp:new Date,status:"complete"}]),t.update(S=>({...S,exchanges:[...S.exchanges,{question:y?.question||"",answer:b}]})),n.update(S=>{const C=[...S.contextGaps];return C[S.currentGapIndex]&&(C[S.currentGapIndex].filled=!0),{...S,contextGaps:C}}),await Is(150);const I=sn(n),E=I.currentGapIndex+1;if(E<I.contextGaps.length){n.update(C=>({...C,currentGapIndex:E}));const S=I.contextGaps[E].question;await i(S)}else await o()}async function o(){const b=sn(t),k=a();await Is(300),n.update(E=>({...E,isStreaming:!0}));const y=_u(b);n.update(E=>({...E,refinedGoal:y}));const I=`Here's your refined goal:

---

${y}

---

Click **Apply to Goal** to use this, or keep chatting to refine further.`;await u(k,I),n.update(E=>({...E,isStreaming:!1}))}function a(){const b=`msg-${Date.now()}`;return e.update(k=>[...k,{id:b,role:"assistant",content:"",timestamp:new Date,status:"pending"}]),b}async function r(b){const k=a();await Is(150),n.update(y=>({...y,isStreaming:!0})),await u(k,b),n.update(y=>({...y,isStreaming:!1}))}async function u(b,k){const y=k.split(" ");let I="";e.update(E=>E.map(S=>S.id===b?{...S,status:"streaming"}:S));for(let E=0;E<y.length;E++)I+=(E>0?" ":"")+y[E],e.update(S=>S.map(C=>C.id===b?{...C,content:I}:C)),await Is(10+Math.random()*15);e.update(E=>E.map(S=>S.id===b?{...S,status:"complete"}:S))}function f(){return sn(n).refinedGoal}function h(){n.update(b=>({...b,isActive:!1,isStreaming:!1,error:null}))}function m(){n.set({isActive:!1,isStreaming:!1,initialGoal:"",contextGaps:[],currentGapIndex:0,refinedGoal:"",error:null}),e.set([]),t.set({initialGoal:"",exchanges:[]})}return{state:{subscribe:n.subscribe},messages:{subscribe:e.subscribe},startRefinement:l,submitAnswer:s,stopRefinement:h,getRefinedGoalMarkdown:f,reset:m}}function Is(n){return new Promise(e=>setTimeout(e,n))}const os=bu(),qt="src/lib/components/forge/GoalRefinementChat.svelte";function cl(n,e,t){const l=n.slice();return l[22]=e[t],l}function Ti(n){let e,t,l,i;const s={c:function(){e=_("div"),t=U(n[6]),l=U("/"),i=U(n[5]),this.h()},l:function(a){e=g(a,"DIV",{class:!0});var r=w(e);t=H(r,n[6]),l=H(r,"/"),i=H(r,n[5]),r.forEach(v),this.h()},h:function(){d(e,"class","progress-badge svelte-11tmy62"),p(e,qt,100,6,2201)},m:function(a,r){Q(a,e,r),c(e,t),c(e,l),c(e,i)},p:function(a,r){r&64&&le(t,a[6]),r&32&&le(i,a[5])},d:function(a){a&&v(e)}};return L("SvelteRegisterBlock",{block:s,id:Ti.name,type:"if",source:"(79:4) {#if totalGaps > 0}",ctx:n}),s}function Ni(n){let e,t;const l={c:function(){e=_("div"),t=_("div"),this.h()},l:function(s){e=g(s,"DIV",{class:!0});var o=w(e);t=g(o,"DIV",{class:!0,style:!0}),w(t).forEach(v),o.forEach(v),this.h()},h:function(){d(t,"class","progress-fill svelte-11tmy62"),wn(t,"width",n[6]/n[5]*100+"%"),p(t,qt,117,6,2554),d(e,"class","progress-track svelte-11tmy62"),p(e,qt,116,4,2519)},m:function(s,o){Q(s,e,o),c(e,t)},p:function(s,o){o&96&&wn(t,"width",s[6]/s[5]*100+"%")},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Ni.name,type:"if",source:"(95:2) {#if totalGaps > 0}",ctx:n}),l}function lc(n){let e,t;e=new Ge({props:{name:"user",size:14},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:lc.name,type:"else",source:"(108:10) {:else}",ctx:n}),l}function ic(n){let e,t;e=new Ge({props:{name:"cpu",size:14},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:ic.name,type:"if",source:"(106:10) {#if message.role === 'assistant'}",ctx:n}),l}function oc(n){let e,t,l=n[12](n[22].content)+"";const i={c:function(){e=_("div"),t=new hs(!1),this.h()},l:function(o){e=g(o,"DIV",{class:!0});var a=w(e);t=ds(a,!1),a.forEach(v),this.h()},h:function(){t.a=null,d(e,"class","message-text svelte-11tmy62"),p(e,qt,138,12,3318)},m:function(o,a){Q(o,e,a),t.m(l,e)},p:function(o,a){a&16&&l!==(l=o[12](o[22].content)+"")&&t.p(l)},d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:oc.name,type:"if",source:"(117:36) ",ctx:n}),i}function ac(n){let e,t,l,i;const s={c:function(){e=_("div"),t=_("span"),l=_("span"),i=_("span"),this.h()},l:function(a){e=g(a,"DIV",{class:!0});var r=w(e);t=g(r,"SPAN",{class:!0}),w(t).forEach(v),l=g(r,"SPAN",{class:!0}),w(l).forEach(v),i=g(r,"SPAN",{class:!0}),w(i).forEach(v),r.forEach(v),this.h()},h:function(){d(t,"class","svelte-11tmy62"),p(t,qt,135,14,3210),d(l,"class","svelte-11tmy62"),p(l,qt,135,27,3223),d(i,"class","svelte-11tmy62"),p(i,qt,135,40,3236),d(e,"class","typing-dots svelte-11tmy62"),p(e,qt,134,12,3170)},m:function(a,r){Q(a,e,r),c(e,t),c(e,l),c(e,i)},p:$e,d:function(a){a&&v(e)}};return L("SvelteRegisterBlock",{block:s,id:ac.name,type:"if",source:"(113:10) {#if message.status === 'pending'}",ctx:n}),s}function Bi(n,e){let t,l,i,s,o,a,r,u;const f=[ic,lc],h=[];function m(E,S){return E[22].role==="assistant"?0:1}i=m(e),s=h[i]=f[i](e);function b(E,S){if(E[22].status==="pending")return ac;if(E[22].content)return oc}let k=b(e),y=k&&k(e);const I={key:n,first:null,c:function(){t=_("div"),l=_("div"),s.c(),o=R(),a=_("div"),y&&y.c(),r=R(),this.h()},l:function(S){t=g(S,"DIV",{class:!0});var C=w(t);l=g(C,"DIV",{class:!0});var P=w(l);s.l(P),P.forEach(v),o=D(C),a=g(C,"DIV",{class:!0});var A=w(a);y&&y.l(A),A.forEach(v),r=D(C),C.forEach(v),this.h()},h:function(){d(l,"class","message-indicator svelte-11tmy62"),p(l,qt,125,8,2864),d(a,"class","message-content svelte-11tmy62"),p(a,qt,132,8,3083),d(t,"class","message svelte-11tmy62"),Pe(t,"is-user",e[22].role==="user"),p(t,qt,124,6,2794),this.first=t},m:function(S,C){Q(S,t,C),c(t,l),h[i].m(l,null),c(t,o),c(t,a),y&&y.m(a,null),c(t,r),u=!0},p:function(S,C){e=S;let P=i;i=m(e),i!==P&&(ct(),ee(h[P],1,1,()=>{h[P]=null}),ut(),s=h[i],s||(s=h[i]=f[i](e),s.c()),J(s,1),s.m(l,null)),k===(k=b(e))&&y?y.p(e,C):(y&&y.d(1),y=k&&k(e),y&&(y.c(),y.m(a,null))),(!u||C&16)&&Pe(t,"is-user",e[22].role==="user")},i:function(S){u||(J(s),u=!0)},o:function(S){ee(s),u=!1},d:function(S){S&&v(t),h[i].d(),y&&y.d()}};return L("SvelteRegisterBlock",{block:I,id:Bi.name,type:"each",source:"(103:4) {#each messages as message (message.id)}",ctx:e}),I}function ji(n){let e,t,l="Continue",i,s,o,a,r,u,f;o=new Ge({props:{name:"check",size:14},$$inline:!0});const h={c:function(){e=_("div"),t=_("button"),t.textContent=l,i=R(),s=_("button"),Ie(o.$$.fragment),a=U(`
        Apply to Goal`),this.h()},l:function(b){e=g(b,"DIV",{class:!0});var k=w(e);t=g(k,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(t)!=="svelte-fpbei8"&&(t.textContent=l),i=D(k),s=g(k,"BUTTON",{type:!0,class:!0});var y=w(s);Ee(o.$$.fragment,y),a=H(y,`
        Apply to Goal`),y.forEach(v),k.forEach(v),this.h()},h:function(){d(t,"type","button"),d(t,"class","btn-secondary svelte-11tmy62"),p(t,qt,173,6,4133),d(s,"type","button"),d(s,"class","btn-primary svelte-11tmy62"),p(s,qt,176,6,4256),d(e,"class","actions-bar svelte-11tmy62"),p(e,qt,172,4,4101)},m:function(b,k){Q(b,e,k),c(e,t),c(e,i),c(e,s),Ce(o,s,null),c(s,a),r=!0,u||(f=[Re(t,"click",n[17],!1,!1,!1,!1),Re(s,"click",n[11],!1,!1,!1,!1)],u=!0)},p:$e,i:function(b){r||(J(o.$$.fragment,b),r=!0)},o:function(b){ee(o.$$.fragment,b),r=!1},d:function(b){b&&v(e),Se(o),u=!1,Dn(f)}};return L("SvelteRegisterBlock",{block:h,id:ji.name,type:"if",source:"(151:2) {#if hasRefinedGoal}",ctx:n}),h}function Oi(n){let e,t,l,i,s,o,a="Q&A REFINEMENT",r,u,f,h,m,b,k,y=[],I=new Map,E,S,C,P,A,V,z,T,N,q,O,M;i=new Ge({props:{name:"message-circle",size:16},$$inline:!0});let j=n[5]>0&&Ti(n);h=new Ge({props:{name:"x",size:14},$$inline:!0});let K=n[5]>0&&Ni(n),F=Je(n[4]);const Y=Z=>Z[22].id;on(n,F,cl,Y);for(let Z=0;Z<F.length;Z+=1){let te=cl(n,F,Z),X=Y(te);I.set(X,y[Z]=Bi(X,te))}z=new Ge({props:{name:"send",size:14},$$inline:!0});let B=n[7]&&ji(n);const x={c:function(){e=_("div"),t=_("header"),l=_("div"),Ie(i.$$.fragment),s=R(),o=_("span"),o.textContent=a,r=R(),j&&j.c(),u=R(),f=_("button"),Ie(h.$$.fragment),m=R(),K&&K.c(),b=R(),k=_("div");for(let te=0;te<y.length;te+=1)y[te].c();E=R(),S=_("div"),C=_("input"),A=R(),V=_("button"),Ie(z.$$.fragment),N=R(),B&&B.c(),this.h()},l:function(te){e=g(te,"DIV",{class:!0,"data-testid":!0});var X=w(e);t=g(X,"HEADER",{class:!0});var ne=w(t);l=g(ne,"DIV",{class:!0});var se=w(l);Ee(i.$$.fragment,se),s=D(se),o=g(se,"SPAN",{"data-svelte-h":!0}),$(o)!=="svelte-66k735"&&(o.textContent=a),se.forEach(v),r=D(ne),j&&j.l(ne),u=D(ne),f=g(ne,"BUTTON",{type:!0,class:!0,"aria-label":!0});var _e=w(f);Ee(h.$$.fragment,_e),_e.forEach(v),ne.forEach(v),m=D(X),K&&K.l(X),b=D(X),k=g(X,"DIV",{class:!0});var ue=w(k);for(let he=0;he<y.length;he+=1)y[he].l(ue);ue.forEach(v),E=D(X),S=g(X,"DIV",{class:!0});var W=w(S);C=g(W,"INPUT",{type:!0,class:!0,placeholder:!0,"data-testid":!0}),A=D(W),V=g(W,"BUTTON",{type:!0,class:!0,"aria-label":!0});var G=w(V);Ee(z.$$.fragment,G),G.forEach(v),W.forEach(v),N=D(X),B&&B.l(X),X.forEach(v),this.h()},h:function(){p(o,qt,97,6,2132),d(l,"class","header-title svelte-11tmy62"),p(l,qt,95,4,2052),d(f,"type","button"),d(f,"class","close-btn svelte-11tmy62"),d(f,"aria-label","Close"),p(f,qt,104,4,2291),d(t,"class","panel-header svelte-11tmy62"),p(t,qt,94,2,2018),d(k,"class","messages-area svelte-11tmy62"),p(k,qt,122,2,2685),d(C,"type","text"),d(C,"class","chat-input svelte-11tmy62"),d(C,"placeholder","Type your response..."),C.disabled=P=n[0].isStreaming,d(C,"data-testid","refinement-input"),p(C,qt,149,4,3537),d(V,"type","button"),d(V,"class","send-btn svelte-11tmy62"),V.disabled=T=!n[1].trim()||n[0].isStreaming,d(V,"aria-label","Send"),p(V,qt,159,4,3816),d(S,"class","input-area svelte-11tmy62"),p(S,qt,148,2,3508),d(e,"class","refinement-panel svelte-11tmy62"),d(e,"data-testid","goal-refinement-chat"),p(e,qt,92,0,1926)},m:function(te,X){Q(te,e,X),c(e,t),c(t,l),Ce(i,l,null),c(l,s),c(l,o),c(t,r),j&&j.m(t,null),c(t,u),c(t,f),Ce(h,f,null),c(e,m),K&&K.m(e,null),c(e,b),c(e,k);for(let ne=0;ne<y.length;ne+=1)y[ne]&&y[ne].m(k,null);n[14](k),c(e,E),c(e,S),c(S,C),n[15](C),Yt(C,n[1]),c(S,A),c(S,V),Ce(z,V,null),c(e,N),B&&B.m(e,null),q=!0,O||(M=[Re(f,"click",n[10],!1,!1,!1,!1),Re(C,"input",n[16]),Re(C,"keydown",n[9],!1,!1,!1,!1),Re(V,"click",n[8],!1,!1,!1,!1)],O=!0)},p:function(te,[X]){te[5]>0?j?j.p(te,X):(j=Ti(te),j.c(),j.m(t,u)):j&&(j.d(1),j=null),te[5]>0?K?K.p(te,X):(K=Ni(te),K.c(),K.m(e,b)):K&&(K.d(1),K=null),X&4112&&(F=Je(te[4]),ct(),on(te,F,cl,Y),y=$n(y,X,Y,1,te,F,I,k,Ao,Bi,null,cl),ut()),(!q||X&1&&P!==(P=te[0].isStreaming))&&mn(C,"disabled",P),X&2&&C.value!==te[1]&&Yt(C,te[1]),(!q||X&3&&T!==(T=!te[1].trim()||te[0].isStreaming))&&mn(V,"disabled",T),te[7]?B?(B.p(te,X),X&128&&J(B,1)):(B=ji(te),B.c(),J(B,1),B.m(e,null)):B&&(ct(),ee(B,1,1,()=>{B=null}),ut())},i:function(te){if(!q){J(i.$$.fragment,te),J(h.$$.fragment,te);for(let X=0;X<F.length;X+=1)J(y[X]);J(z.$$.fragment,te),J(B),q=!0}},o:function(te){ee(i.$$.fragment,te),ee(h.$$.fragment,te);for(let X=0;X<y.length;X+=1)ee(y[X]);ee(z.$$.fragment,te),ee(B),q=!1},d:function(te){te&&v(e),Se(i),j&&j.d(),Se(h),K&&K.d();for(let X=0;X<y.length;X+=1)y[X].d();n[14](null),n[15](null),Se(z),B&&B.d(),O=!1,Dn(M)}};return L("SvelteRegisterBlock",{block:x,id:Oi.name,type:"component",source:"",ctx:n}),x}function ku(n,e,t){let l,i,s,{$$slots:o={},$$scope:a}=e;en("GoalRefinementChat",o,[]);let{currentGoal:r=""}=e;const u=an();let f="",h,m,b=[],k={isActive:!1,isStreaming:!1,initialGoal:"",contextGaps:[],currentGapIndex:0,refinedGoal:"",error:null};const y=os.messages.subscribe(M=>{t(4,b=M),setTimeout(E,50)}),I=os.state.subscribe(M=>{t(0,k=M)});ys(()=>{os.startRefinement(r),m?.focus()}),pl(()=>{y(),I(),os.reset()});function E(){h&&t(2,h.scrollTop=h.scrollHeight,h)}function S(){!f.trim()||k.isStreaming||(os.submitAnswer(f.trim()),t(1,f=""))}function C(M){M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),S())}function P(){os.stopRefinement(),u("close")}function A(){const M=os.getRefinedGoalMarkdown();u("applySuggestions",M)}function V(M){try{return Qn(M)}catch{return M}}const z=["currentGoal"];Object.keys(e).forEach(M=>{!~z.indexOf(M)&&M.slice(0,2)});function T(M){ml[M?"unshift":"push"](()=>{h=M,t(2,h)})}function N(M){ml[M?"unshift":"push"](()=>{m=M,t(3,m)})}function q(){f=this.value,t(1,f)}const O=()=>m?.focus();return n.$$set=M=>{"currentGoal"in M&&t(13,r=M.currentGoal)},n.$capture_state=()=>({createEventDispatcher:an,onMount:ys,onDestroy:pl,marked:Qn,goalRefinementStore:os,Icon:Ge,currentGoal:r,dispatch:u,inputValue:f,messagesContainer:h,inputElement:m,messages:b,refinementState:k,unsubMessages:y,unsubState:I,scrollToBottom:E,handleSubmit:S,handleKeydown:C,handleClose:P,handleApplySuggestions:A,renderMarkdown:V,totalGaps:s,filledCount:i,hasRefinedGoal:l}),n.$inject_state=M=>{"currentGoal"in M&&t(13,r=M.currentGoal),"inputValue"in M&&t(1,f=M.inputValue),"messagesContainer"in M&&t(2,h=M.messagesContainer),"inputElement"in M&&t(3,m=M.inputElement),"messages"in M&&t(4,b=M.messages),"refinementState"in M&&t(0,k=M.refinementState),"totalGaps"in M&&t(5,s=M.totalGaps),"filledCount"in M&&t(6,i=M.filledCount),"hasRefinedGoal"in M&&t(7,l=M.hasRefinedGoal)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&t(7,l=k.refinedGoal.length>0),n.$$.dirty&1&&t(6,i=k.contextGaps.filter(M=>M.filled).length),n.$$.dirty&1&&t(5,s=k.contextGaps.length)},[k,f,h,m,b,s,i,l,S,C,P,A,V,r,T,N,q,O]}class rc extends $t{constructor(e){super(e),xt(this,e,ku,Oi,Jt,{currentGoal:13}),L("SvelteRegisterComponent",{component:this,tagName:"GoalRefinementChat",options:e,id:Oi.name})}get currentGoal(){throw new Error("<GoalRefinementChat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentGoal(e){throw new Error("<GoalRefinementChat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const _t="src/lib/components/forge/GoalInput.svelte";function _a(n,e,t){const l=n.slice();return l[16]=e[t],l}function cc(n){let e,t,l;const i={c:function(){e=_("textarea"),this.h()},l:function(o){e=g(o,"TEXTAREA",{id:!0,class:!0,placeholder:!0,"data-testid":!0}),w(e).forEach(v),this.h()},h:function(){d(e,"id","session-goal"),d(e,"class","goal-textarea svelte-sj5maf"),d(e,"placeholder",`Describe your session goal in detail. You can use markdown formatting:

**Key Questions:**
- What decisions need to be made?
- What constraints should we consider?
- What are the success criteria?

**Background:**
Provide relevant context...

**Expected Outcomes:**
- Specific deliverables
- Action items
- Next steps`),d(e,"data-testid","goal-textarea"),p(e,_t,139,8,3220)},m:function(o,a){Q(o,e,a),Yt(e,n[0]),t||(l=[Re(e,"input",n[13]),Re(e,"input",n[6],!1,!1,!1,!1)],t=!0)},p:function(o,a){a&1&&Yt(e,o[0])},d:function(o){o&&v(e),t=!1,Dn(l)}};return L("SvelteRegisterBlock",{block:i,id:cc.name,type:"else",source:"(122:6) {:else}",ctx:n}),i}function uc(n){let e,t;const l={c:function(){e=_("div"),t=new hs(!1),this.h()},l:function(s){e=g(s,"DIV",{class:!0,"data-testid":!0});var o=w(e);t=ds(o,!1),o.forEach(v),this.h()},h:function(){t.a=null,d(e,"class","goal-preview svelte-sj5maf"),d(e,"data-testid","goal-preview"),p(e,_t,132,8,3068)},m:function(s,o){Q(s,e,o),t.m(n[5],e)},p:function(s,o){o&32&&t.p(s[5])},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:uc.name,type:"if",source:"(115:6) {#if showPreview}",ctx:n}),l}function qi(n){let e,t;e=new rc({props:{currentGoal:n[0]},$$inline:!0}),e.$on("close",n[10]),e.$on("applySuggestions",n[11]);const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},p:function(s,o){const a={};o&1&&(a.currentGoal=s[0]),e.$set(a)},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:qi.name,type:"if",source:"(153:2) {#if showRefinement}",ctx:n}),l}function Gi(n){let e,t=Je(n[2]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Li(_a(n,t,s));const i={c:function(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l:function(o){e=g(o,"DIV",{class:!0,role:!0});var a=w(e);for(let r=0;r<l.length;r+=1)l[r].l(a);a.forEach(v),this.h()},h:function(){d(e,"class","error-list svelte-sj5maf"),d(e,"role","alert"),p(e,_t,178,4,4150)},m:function(o,a){Q(o,e,a);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p:function(o,a){if(a&4){t=Je(o[2]);let r;for(r=0;r<t.length;r+=1){const u=_a(o,t,r);l[r]?l[r].p(u,a):(l[r]=Li(u),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d:function(o){o&&v(e),ln(l,o)}};return L("SvelteRegisterBlock",{block:i,id:Gi.name,type:"if",source:"(161:2) {#if errors.length > 0}",ctx:n}),i}function Li(n){let e,t,l="âš ï¸",i,s=n[16]+"",o,a;const r={c:function(){e=_("div"),t=_("span"),t.textContent=l,i=R(),o=U(s),a=R(),this.h()},l:function(f){e=g(f,"DIV",{class:!0});var h=w(e);t=g(h,"SPAN",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-afr8fm"&&(t.textContent=l),i=D(h),o=H(h,s),a=D(h),h.forEach(v),this.h()},h:function(){d(t,"class","error-icon svelte-sj5maf"),p(t,_t,181,10,4261),d(e,"class","error-item svelte-sj5maf"),p(e,_t,180,8,4226)},m:function(f,h){Q(f,e,h),c(e,t),c(e,i),c(e,o),c(e,a)},p:function(f,h){h&4&&s!==(s=f[16]+"")&&le(o,s)},d:function(f){f&&v(e)}};return L("SvelteRegisterBlock",{block:r,id:Li.name,type:"each",source:"(163:6) {#each errors as error}",ctx:n}),r}function Fi(n){let e,t,l,i="Define Session Goal",s,o,a="What do you want to achieve with this deliberation session? Be specific about your objectives, constraints, and success criteria.",r,u,f,h,m,b="*",k,y,I,E,S,C,P,A,V="*",z,T,N,q="ðŸ’¬ Q&A Mode",O,M,j=n[0].length+"",K,F,Y,B,x=n[3]?"Edit":"Preview",Z,te,X,ne,se,_e,ue="ðŸ’¡",W,G,he,ve,me,ke,Fe="ðŸ’¡ Tips for Writing Effective Goals",Te,fe,De,ae,Ve="Be Specific:",rt,be,pe,ie,Ae="Include Context:",lt,Ye,gt,ze,we="Define Success:",He,Xe,st,St,ht="Set Scope:",bt,tt,mt,We;function pt(wt,nt){return wt[3]?uc:cc}let xe=pt(n),Ze=xe(n),Ue=n[4]&&qi(n),et=n[2].length>0&&Gi(n);const ft={c:function(){e=_("div"),t=_("div"),l=_("h2"),l.textContent=i,s=R(),o=_("p"),o.textContent=a,r=R(),u=_("div"),f=_("label"),h=U(`Session Name
      `),m=_("span"),m.textContent=b,k=R(),y=_("input"),I=R(),E=_("div"),S=_("div"),C=_("label"),P=U(`Goal Description
        `),A=_("span"),A.textContent=V,z=R(),T=_("div"),N=_("button"),N.textContent=q,O=R(),M=_("span"),K=U(j),F=U("/5000"),Y=R(),B=_("button"),Z=U(x),te=R(),X=_("div"),Ze.c(),ne=R(),se=_("div"),_e=_("span"),_e.textContent=ue,W=U(`
      Supports Markdown formatting: **bold**, *italic*, lists, links, etc.`),G=R(),Ue&&Ue.c(),he=R(),et&&et.c(),ve=R(),me=_("div"),ke=_("h3"),ke.textContent=Fe,Te=R(),fe=_("ul"),De=_("li"),ae=_("strong"),ae.textContent=Ve,rt=U(" Clear, concrete objectives lead to better outcomes"),be=R(),pe=_("li"),ie=_("strong"),ie.textContent=Ae,lt=U(" Provide background information and constraints"),Ye=R(),gt=_("li"),ze=_("strong"),ze.textContent=we,He=U(" What would a successful session look like?"),Xe=R(),st=_("li"),St=_("strong"),St.textContent=ht,bt=U(" What's in scope vs. out of scope for this session?"),this.h()},l:function(nt){e=g(nt,"DIV",{class:!0,"data-testid":!0});var Ne=w(e);t=g(Ne,"DIV",{class:!0});var kt=w(t);l=g(kt,"H2",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-rupleo"&&(l.textContent=i),s=D(kt),o=g(kt,"P",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-vhengj"&&(o.textContent=a),kt.forEach(v),r=D(Ne),u=g(Ne,"DIV",{class:!0});var vt=w(u);f=g(vt,"LABEL",{for:!0,class:!0});var it=w(f);h=H(it,`Session Name
      `),m=g(it,"SPAN",{class:!0,"data-svelte-h":!0}),$(m)!=="svelte-1ttfsis"&&(m.textContent=b),it.forEach(v),k=D(vt),y=g(vt,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0,"data-testid":!0}),vt.forEach(v),I=D(Ne),E=g(Ne,"DIV",{class:!0});var ge=w(E);S=g(ge,"DIV",{class:!0});var je=w(S);C=g(je,"LABEL",{for:!0,class:!0});var dt=w(C);P=H(dt,`Goal Description
        `),A=g(dt,"SPAN",{class:!0,"data-svelte-h":!0}),$(A)!=="svelte-1ttfsis"&&(A.textContent=V),dt.forEach(v),z=D(je),T=g(je,"DIV",{class:!0});var Vt=w(T);N=g(Vt,"BUTTON",{type:!0,class:!0,"data-testid":!0,title:!0,"data-svelte-h":!0}),$(N)!=="svelte-dqs2vo"&&(N.textContent=q),O=D(Vt),M=g(Vt,"SPAN",{class:!0});var qe=w(M);K=H(qe,j),F=H(qe,"/5000"),qe.forEach(v),Y=D(Vt),B=g(Vt,"BUTTON",{type:!0,class:!0,"data-testid":!0});var oe=w(B);Z=H(oe,x),oe.forEach(v),Vt.forEach(v),je.forEach(v),te=D(ge),X=g(ge,"DIV",{class:!0});var Oe=w(X);Ze.l(Oe),Oe.forEach(v),ne=D(ge),se=g(ge,"DIV",{class:!0});var Ke=w(se);_e=g(Ke,"SPAN",{class:!0,"data-svelte-h":!0}),$(_e)!=="svelte-1mbn8iu"&&(_e.textContent=ue),W=H(Ke,`
      Supports Markdown formatting: **bold**, *italic*, lists, links, etc.`),Ke.forEach(v),ge.forEach(v),G=D(Ne),Ue&&Ue.l(Ne),he=D(Ne),et&&et.l(Ne),ve=D(Ne),me=g(Ne,"DIV",{class:!0});var re=w(me);ke=g(re,"H3",{class:!0,"data-svelte-h":!0}),$(ke)!=="svelte-1c4or30"&&(ke.textContent=Fe),Te=D(re),fe=g(re,"UL",{class:!0});var ot=w(fe);De=g(ot,"LI",{class:!0});var It=w(De);ae=g(It,"STRONG",{class:!0,"data-svelte-h":!0}),$(ae)!=="svelte-1tg9m6j"&&(ae.textContent=Ve),rt=H(It," Clear, concrete objectives lead to better outcomes"),It.forEach(v),be=D(ot),pe=g(ot,"LI",{class:!0});var At=w(pe);ie=g(At,"STRONG",{class:!0,"data-svelte-h":!0}),$(ie)!=="svelte-322p5f"&&(ie.textContent=Ae),lt=H(At," Provide background information and constraints"),At.forEach(v),Ye=D(ot),gt=g(ot,"LI",{class:!0});var Xt=w(gt);ze=g(Xt,"STRONG",{class:!0,"data-svelte-h":!0}),$(ze)!=="svelte-88b01k"&&(ze.textContent=we),He=H(Xt," What would a successful session look like?"),Xt.forEach(v),Xe=D(ot),st=g(ot,"LI",{class:!0});var Mt=w(st);St=g(Mt,"STRONG",{class:!0,"data-svelte-h":!0}),$(St)!=="svelte-lgjywe"&&(St.textContent=ht),bt=H(Mt," What's in scope vs. out of scope for this session?"),Mt.forEach(v),ot.forEach(v),re.forEach(v),Ne.forEach(v),this.h()},h:function(){d(l,"class","svelte-sj5maf"),p(l,_t,76,4,1486),d(o,"class","step-description svelte-sj5maf"),p(o,_t,77,4,1519),d(t,"class","step-header svelte-sj5maf"),p(t,_t,75,2,1456),d(m,"class","required svelte-sj5maf"),p(m,_t,85,6,1805),d(f,"for","session-name"),d(f,"class","form-label svelte-sj5maf"),p(f,_t,83,4,1734),d(y,"id","session-name"),d(y,"type","text"),d(y,"class","form-input svelte-sj5maf"),d(y,"placeholder","e.g., Q4 Product Strategy Session"),d(y,"data-testid","session-name-input"),p(y,_t,87,4,1854),d(u,"class","form-group svelte-sj5maf"),p(u,_t,82,2,1705),d(A,"class","required svelte-sj5maf"),p(A,_t,102,8,2237),d(C,"for","session-goal"),d(C,"class","form-label svelte-sj5maf"),p(C,_t,100,6,2158),d(N,"type","button"),d(N,"class","refine-toggle svelte-sj5maf"),d(N,"data-testid","refine-toggle"),d(N,"title","Guided Q&A to refine your goal"),Pe(N,"active",n[4]),p(N,_t,105,8,2326),d(M,"class","char-count svelte-sj5maf"),Pe(M,"warning",n[0].length>4500),p(M,_t,115,8,2613),d(B,"type","button"),d(B,"class","preview-toggle svelte-sj5maf"),d(B,"data-testid","preview-toggle"),Pe(B,"active",n[3]),p(B,_t,118,8,2729),d(T,"class","goal-controls svelte-sj5maf"),p(T,_t,104,6,2290),d(S,"class","goal-header svelte-sj5maf"),p(S,_t,99,4,2126),d(X,"class","goal-container svelte-sj5maf"),p(X,_t,130,4,3007),d(_e,"class","hint-icon svelte-sj5maf"),p(_e,_t,164,6,3811),d(se,"class","markdown-hint svelte-sj5maf"),p(se,_t,163,4,3777),d(E,"class","form-group svelte-sj5maf"),p(E,_t,98,2,2097),d(ke,"class","svelte-sj5maf"),p(ke,_t,189,4,4396),d(ae,"class","svelte-sj5maf"),p(ae,_t,191,10,4478),d(De,"class","svelte-sj5maf"),p(De,_t,191,6,4474),d(ie,"class","svelte-sj5maf"),p(ie,_t,192,10,4574),d(pe,"class","svelte-sj5maf"),p(pe,_t,192,6,4570),d(ze,"class","svelte-sj5maf"),p(ze,_t,193,10,4670),d(gt,"class","svelte-sj5maf"),p(gt,_t,193,6,4666),d(St,"class","svelte-sj5maf"),p(St,_t,194,10,4761),d(st,"class","svelte-sj5maf"),p(st,_t,194,6,4757),d(fe,"class","tips-list svelte-sj5maf"),p(fe,_t,190,4,4445),d(me,"class","tips-section svelte-sj5maf"),p(me,_t,188,2,4365),d(e,"class","goal-input-step svelte-sj5maf"),d(e,"data-testid","goal-input-step"),p(e,_t,74,0,1394)},m:function(nt,Ne){Q(nt,e,Ne),c(e,t),c(t,l),c(t,s),c(t,o),c(e,r),c(e,u),c(u,f),c(f,h),c(f,m),c(u,k),c(u,y),Yt(y,n[1]),c(e,I),c(e,E),c(E,S),c(S,C),c(C,P),c(C,A),c(S,z),c(S,T),c(T,N),c(T,O),c(T,M),c(M,K),c(M,F),c(T,Y),c(T,B),c(B,Z),c(E,te),c(E,X),Ze.m(X,null),c(E,ne),c(E,se),c(se,_e),c(se,W),c(e,G),Ue&&Ue.m(e,null),c(e,he),et&&et.m(e,null),c(e,ve),c(e,me),c(me,ke),c(me,Te),c(me,fe),c(fe,De),c(De,ae),c(De,rt),c(fe,be),c(fe,pe),c(pe,ie),c(pe,lt),c(fe,Ye),c(fe,gt),c(gt,ze),c(gt,He),c(fe,Xe),c(fe,st),c(st,St),c(st,bt),tt=!0,mt||(We=[Re(y,"input",n[12]),Re(y,"input",n[7],!1,!1,!1,!1),Re(N,"click",n[9],!1,!1,!1,!1),Re(B,"click",n[8],!1,!1,!1,!1)],mt=!0)},p:function(nt,[Ne]){Ne&2&&y.value!==nt[1]&&Yt(y,nt[1]),(!tt||Ne&16)&&Pe(N,"active",nt[4]),(!tt||Ne&1)&&j!==(j=nt[0].length+"")&&le(K,j),(!tt||Ne&1)&&Pe(M,"warning",nt[0].length>4500),(!tt||Ne&8)&&x!==(x=nt[3]?"Edit":"Preview")&&le(Z,x),(!tt||Ne&8)&&Pe(B,"active",nt[3]),xe===(xe=pt(nt))&&Ze?Ze.p(nt,Ne):(Ze.d(1),Ze=xe(nt),Ze&&(Ze.c(),Ze.m(X,null))),nt[4]?Ue?(Ue.p(nt,Ne),Ne&16&&J(Ue,1)):(Ue=qi(nt),Ue.c(),J(Ue,1),Ue.m(e,he)):Ue&&(ct(),ee(Ue,1,1,()=>{Ue=null}),ut()),nt[2].length>0?et?et.p(nt,Ne):(et=Gi(nt),et.c(),et.m(e,ve)):et&&(et.d(1),et=null)},i:function(nt){tt||(J(Ue),tt=!0)},o:function(nt){ee(Ue),tt=!1},d:function(nt){nt&&v(e),Ze.d(),Ue&&Ue.d(),et&&et.d(),mt=!1,Dn(We)}};return L("SvelteRegisterBlock",{block:ft,id:Fi.name,type:"component",source:"",ctx:n}),ft}function yu(n,e,t){let{$$slots:l={},$$scope:i}=e;en("GoalInput",l,[]);let{value:s=""}=e,{name:o=""}=e,{errors:a=[]}=e;const r=an();let u=!1,f=!1,h="";function m(V){const T=V.target.value;t(0,s=T),r("goalChange",T),S(T)}function b(V){const T=V.target.value;t(1,o=T),r("nameChange",T)}function k(){t(3,u=!u),u&&S(s)}function y(){t(4,f=!f),f&&u&&t(3,u=!1)}function I(){t(4,f=!1)}function E(V){const z=V.detail;t(0,s=z),r("goalChange",z),S(z),t(4,f=!1)}function S(V){V.trim()?t(5,h=Qn(V)):t(5,h="<p><em>No content to preview</em></p>")}s&&S(s);const C=["value","name","errors"];Object.keys(e).forEach(V=>{!~C.indexOf(V)&&V.slice(0,2)});function P(){o=this.value,t(1,o)}function A(){s=this.value,t(0,s)}return n.$$set=V=>{"value"in V&&t(0,s=V.value),"name"in V&&t(1,o=V.name),"errors"in V&&t(2,a=V.errors)},n.$capture_state=()=>({createEventDispatcher:an,marked:Qn,GoalRefinementChat:rc,value:s,name:o,errors:a,dispatch:r,showPreview:u,showRefinement:f,previewHtml:h,handleGoalInput:m,handleNameInput:b,togglePreview:k,toggleRefinement:y,handleRefinementClose:I,handleApplySuggestions:E,updatePreview:S}),n.$inject_state=V=>{"value"in V&&t(0,s=V.value),"name"in V&&t(1,o=V.name),"errors"in V&&t(2,a=V.errors),"showPreview"in V&&t(3,u=V.showPreview),"showRefinement"in V&&t(4,f=V.showRefinement),"previewHtml"in V&&t(5,h=V.previewHtml)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[s,o,a,u,f,h,m,b,k,y,I,E,P,A]}class fc extends $t{constructor(e){super(e),xt(this,e,yu,Fi,Jt,{value:0,name:1,errors:2}),L("SvelteRegisterComponent",{component:this,tagName:"GoalInput",options:e,id:Fi.name})}get value(){throw new Error("<GoalInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<GoalInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get name(){throw new Error("<GoalInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<GoalInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get errors(){throw new Error("<GoalInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set errors(e){throw new Error("<GoalInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Qe="src/lib/components/forge/ParticipantSelect.svelte";function ba(n,e,t){const l=n.slice();return l[25]=e[t],l}function ul(n,e,t){const l=n.slice();l[28]=e[t];const i=zo(l[28].avatar);return l[29]=i,l}function fl(n,e,t){const l=n.slice();l[28]=e[t];const i=zo(l[28].avatar);return l[29]=i,l}function ka(n,e,t){const l=n.slice();return l[34]=e[t],l}function dc(n){let e,t,l="ðŸ‘¥",i,s,o="No participants selected yet",a,r,u="Choose from the available participants below";const f={c:function(){e=_("div"),t=_("div"),t.textContent=l,i=R(),s=_("p"),s.textContent=o,a=R(),r=_("p"),r.textContent=u,this.h()},l:function(m){e=g(m,"DIV",{class:!0});var b=w(e);t=g(b,"DIV",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1c531lc"&&(t.textContent=l),i=D(b),s=g(b,"P",{"data-svelte-h":!0}),$(s)!=="svelte-1lpx1ua"&&(s.textContent=o),a=D(b),r=g(b,"P",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-1de3v2y"&&(r.textContent=u),b.forEach(v),this.h()},h:function(){d(t,"class","empty-icon svelte-170dqjv"),p(t,Qe,270,8,8082),p(s,Qe,271,8,8123),d(r,"class","empty-hint svelte-170dqjv"),p(r,Qe,272,8,8167),d(e,"class","empty-state svelte-170dqjv"),p(e,Qe,269,6,8048)},m:function(m,b){Q(m,e,b),c(e,t),c(e,i),c(e,s),c(e,a),c(e,r)},p:$e,d:function(m){m&&v(e)}};return L("SvelteRegisterBlock",{block:f,id:dc.name,type:"else",source:"(243:4) {:else}",ctx:n}),f}function hc(n){let e,t=[],l=new Map,i,s=Je(n[0]);const o=u=>u[28].id;on(n,s,fl,o);for(let u=0;u<s.length;u+=1){let f=fl(n,s,u),h=o(f);l.set(h,t[u]=Qi(h,f))}let a=n[4]>0&&Ki(n);const r={c:function(){e=_("div");for(let f=0;f<t.length;f+=1)t[f].c();i=R(),a&&a.c(),this.h()},l:function(f){e=g(f,"DIV",{class:!0});var h=w(e);for(let m=0;m<t.length;m+=1)t[m].l(h);i=D(h),a&&a.l(h),h.forEach(v),this.h()},h:function(){d(e,"class","selected-list svelte-170dqjv"),p(e,Qe,211,6,5650)},m:function(f,h){Q(f,e,h);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);c(e,i),a&&a.m(e,null)},p:function(f,h){h[0]&7041&&(s=Je(f[0]),on(f,s,fl,o),t=$n(t,h,o,1,f,s,l,e,ws,Qi,i,fl)),f[4]>0?a?a.p(f,h):(a=Ki(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d:function(f){f&&v(e);for(let h=0;h<t.length;h+=1)t[h].d();a&&a.d()}};return L("SvelteRegisterBlock",{block:r,id:hc.name,type:"if",source:"(185:4) {#if selected.length > 0}",ctx:n}),r}function vc(n){let e,t=(n[29].emoji||"ðŸ‘¤")+"",l;const i={c:function(){e=_("span"),l=U(t),this.h()},l:function(o){e=g(o,"SPAN",{class:!0,"aria-hidden":!0});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){d(e,"class","avatar-emoji svelte-170dqjv"),d(e,"aria-hidden","true"),p(e,Qe,223,16,6192)},m:function(o,a){Q(o,e,a),c(e,l)},p:function(o,a){a[0]&1&&t!==(t=(o[29].emoji||"ðŸ‘¤")+"")&&le(l,t)},d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:vc.name,type:"else",source:"(197:14) {:else}",ctx:n}),i}function mc(n){let e,t,l,i;function s(){return n[14](n[28])}const o={c:function(){e=_("img"),this.h()},l:function(r){e=g(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Mn(e.src,t=n[29].src)||d(e,"src",t),d(e,"alt",""),d(e,"class","svelte-170dqjv"),p(e,Qe,217,16,6007)},m:function(r,u){Q(r,e,u),l||(i=Re(e,"error",s,!1,!1,!1,!1),l=!0)},p:function(r,u){n=r,u[0]&513&&!Mn(e.src,t=n[29].src)&&d(e,"src",t)},d:function(r){r&&v(e),l=!1,i()}};return L("SvelteRegisterBlock",{block:o,id:mc.name,type:"if",source:"(191:14) {#if a.src && !brokenAvatarIds.has(participant.id)}",ctx:n}),o}function Wi(n){let e,t,l,i,s,o=Je(n[9]),a=[];for(let f=0;f<o.length;f+=1)a[f]=Hi(ka(n,o,f));function r(...f){return n[15](n[28],...f)}const u={c:function(){e=_("select");for(let h=0;h<a.length;h+=1)a[h].c();this.h()},l:function(h){e=g(h,"SELECT",{class:!0,"aria-label":!0});var m=w(e);for(let b=0;b<a.length;b+=1)a[b].l(m);m.forEach(v),this.h()},h:function(){d(e,"class","model-select svelte-170dqjv"),d(e,"aria-label",l="Model for "+n[28].name),p(e,Qe,235,16,6804)},m:function(h,m){Q(h,e,m);for(let b=0;b<a.length;b+=1)a[b]&&a[b].m(e,null);yn(e,n[28].modelId||"claude-sonnet-4-20250514"),i||(s=Re(e,"change",r,!1,!1,!1,!1),i=!0)},p:function(h,m){if(n=h,m[0]&512){o=Je(n[9]);let b;for(b=0;b<o.length;b+=1){const k=ka(n,o,b);a[b]?a[b].p(k,m):(a[b]=Hi(k),a[b].c(),a[b].m(e,null))}for(;b<a.length;b+=1)a[b].d(1);a.length=o.length}m[0]&513&&t!==(t=n[28].modelId||"claude-sonnet-4-20250514")&&yn(e,n[28].modelId||"claude-sonnet-4-20250514"),m[0]&513&&l!==(l="Model for "+n[28].name)&&d(e,"aria-label",l)},d:function(h){h&&v(e),ln(a,h),i=!1,s()}};return L("SvelteRegisterBlock",{block:u,id:Wi.name,type:"if",source:"(209:14) {#if participant.type === 'ai'}",ctx:n}),u}function Hi(n){let e,t=n[34].label+"",l;const i={c:function(){e=_("option"),l=U(t),this.h()},l:function(o){e=g(o,"OPTION",{});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){e.__value=n[34].id,Yt(e,e.__value),p(e,Qe,242,20,7167)},m:function(o,a){Q(o,e,a),c(e,l)},p:$e,d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:Hi.name,type:"each",source:"(216:18) {#each modelOptions as opt}",ctx:n}),i}function Ui(n){let e,t,l=n[28].estimatedCostPerRound.toFixed(3)+"",i,s;const o={c:function(){e=_("span"),t=U("$"),i=U(l),s=U("/round"),this.h()},l:function(r){e=g(r,"SPAN",{class:!0});var u=w(e);t=H(u,"$"),i=H(u,l),s=H(u,"/round"),u.forEach(v),this.h()},h:function(){d(e,"class","participant-cost svelte-170dqjv"),p(e,Qe,247,16,7353)},m:function(r,u){Q(r,e,u),c(e,t),c(e,i),c(e,s)},p:function(r,u){u[0]&1&&l!==(l=r[28].estimatedCostPerRound.toFixed(3)+"")&&le(i,l)},d:function(r){r&&v(e)}};return L("SvelteRegisterBlock",{block:o,id:Ui.name,type:"if",source:"(221:14) {#if participant.estimatedCostPerRound}",ctx:n}),o}function Qi(n,e){let t,l,i,s,o,a,r=e[28].name+"",u,f,h,m=e[28].role+"",b,k,y,I,E=e[28].type.toUpperCase()+"",S,C,P,A,V,z,T,N,q,O;function M(Z,te){return te[0]&1&&(i=null),i==null&&(i=!!(Z[29].src&&!Z[7].has(Z[28].id))),i?mc:vc}let j=M(e,[-1,-1]),K=j(e),F=e[28].type==="ai"&&Wi(e),Y=e[28].estimatedCostPerRound&&Ui(e);function B(){return e[16](e[28])}const x={key:n,first:null,c:function(){t=_("div"),l=_("div"),K.c(),s=R(),o=_("div"),a=_("div"),u=U(r),f=R(),h=_("div"),b=U(m),k=R(),y=_("div"),I=_("span"),S=U(E),C=R(),F&&F.c(),P=R(),Y&&Y.c(),A=R(),V=_("button"),z=U("Ã—"),this.h()},l:function(te){t=g(te,"DIV",{class:!0,"data-testid":!0});var X=w(t);l=g(X,"DIV",{class:!0});var ne=w(l);K.l(ne),ne.forEach(v),s=D(X),o=g(X,"DIV",{class:!0});var se=w(o);a=g(se,"DIV",{class:!0});var _e=w(a);u=H(_e,r),_e.forEach(v),f=D(se),h=g(se,"DIV",{class:!0});var ue=w(h);b=H(ue,m),ue.forEach(v),se.forEach(v),k=D(X),y=g(X,"DIV",{class:!0});var W=w(y);I=g(W,"SPAN",{class:!0});var G=w(I);S=H(G,E),G.forEach(v),C=D(W),F&&F.l(W),P=D(W),Y&&Y.l(W),W.forEach(v),A=D(X),V=g(X,"BUTTON",{type:!0,class:!0,"aria-label":!0});var he=w(V);z=H(he,"Ã—"),he.forEach(v),X.forEach(v),this.h()},h:function(){d(l,"class","participant-avatar svelte-170dqjv"),p(l,Qe,215,12,5892),d(a,"class","participant-name svelte-170dqjv"),p(a,Qe,227,14,6359),d(h,"class","participant-role svelte-170dqjv"),p(h,Qe,228,14,6428),d(o,"class","participant-info svelte-170dqjv"),p(o,Qe,226,12,6314),d(I,"class","participant-type svelte-170dqjv"),Pe(I,"human",e[28].type==="human"),Pe(I,"ai",e[28].type==="ai"),p(I,Qe,231,14,6559),d(y,"class","participant-meta svelte-170dqjv"),p(y,Qe,230,12,6514),d(V,"type","button"),d(V,"class","remove-btn svelte-170dqjv"),d(V,"aria-label",T="Remove "+e[28].name),p(V,Qe,250,12,7496),d(t,"class","selected-item svelte-170dqjv"),d(t,"data-testid",N="selected-participant-"+e[28].id),p(t,Qe,214,10,5800),this.first=t},m:function(te,X){Q(te,t,X),c(t,l),K.m(l,null),c(t,s),c(t,o),c(o,a),c(a,u),c(o,f),c(o,h),c(h,b),c(t,k),c(t,y),c(y,I),c(I,S),c(y,C),F&&F.m(y,null),c(y,P),Y&&Y.m(y,null),c(t,A),c(t,V),c(V,z),q||(O=Re(V,"click",B,!1,!1,!1,!1),q=!0)},p:function(te,X){e=te,j===(j=M(e,X))&&K?K.p(e,X):(K.d(1),K=j(e),K&&(K.c(),K.m(l,null))),X[0]&1&&r!==(r=e[28].name+"")&&le(u,r),X[0]&1&&m!==(m=e[28].role+"")&&le(b,m),X[0]&1&&E!==(E=e[28].type.toUpperCase()+"")&&le(S,E),X[0]&1&&Pe(I,"human",e[28].type==="human"),X[0]&1&&Pe(I,"ai",e[28].type==="ai"),e[28].type==="ai"?F?F.p(e,X):(F=Wi(e),F.c(),F.m(y,P)):F&&(F.d(1),F=null),e[28].estimatedCostPerRound?Y?Y.p(e,X):(Y=Ui(e),Y.c(),Y.m(y,null)):Y&&(Y.d(1),Y=null),X[0]&513&&T!==(T="Remove "+e[28].name)&&d(V,"aria-label",T),X[0]&513&&N!==(N="selected-participant-"+e[28].id)&&d(t,"data-testid",N)},d:function(te){te&&v(t),K.d(),F&&F.d(),Y&&Y.d(),q=!1,O()}};return L("SvelteRegisterBlock",{block:x,id:Qi.name,type:"each",source:"(187:8) {#each selected as participant (participant.id)}",ctx:e}),x}function Ki(n){let e,t,l="Total estimated cost per round:",i,s,o,a=n[4].toFixed(3)+"",r;const u={c:function(){e=_("div"),t=_("span"),t.textContent=l,i=R(),s=_("span"),o=U("$"),r=U(a),this.h()},l:function(h){e=g(h,"DIV",{class:!0});var m=w(e);t=g(m,"SPAN",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1pcrwab"&&(t.textContent=l),i=D(m),s=g(m,"SPAN",{class:!0});var b=w(s);o=H(b,"$"),r=H(b,a),b.forEach(v),m.forEach(v),this.h()},h:function(){d(t,"class","cost-label svelte-170dqjv"),p(t,Qe,263,12,7854),d(s,"class","cost-value svelte-170dqjv"),p(s,Qe,264,12,7930),d(e,"class","cost-summary svelte-170dqjv"),p(e,Qe,262,10,7815)},m:function(h,m){Q(h,e,m),c(e,t),c(e,i),c(e,s),c(s,o),c(s,r)},p:function(h,m){m[0]&16&&a!==(a=h[4].toFixed(3)+"")&&le(r,a)},d:function(h){h&&v(e)}};return L("SvelteRegisterBlock",{block:u,id:Ki.name,type:"if",source:"(236:8) {#if totalCost > 0}",ctx:n}),u}function Yi(n){let e,t="Ã—",l,i;const s={c:function(){e=_("button"),e.textContent=t,this.h()},l:function(a){e=g(a,"BUTTON",{type:!0,class:!0,"aria-label":!0,"data-svelte-h":!0}),$(e)!=="svelte-1if8oty"&&(e.textContent=t),this.h()},h:function(){d(e,"type","button"),d(e,"class","search-clear svelte-170dqjv"),d(e,"aria-label","Clear search"),p(e,Qe,288,10,8635)},m:function(a,r){Q(a,e,r),l||(i=Re(e,"click",n[13],!1,!1,!1,!1),l=!0)},p:$e,d:function(a){a&&v(e),l=!1,i()}};return L("SvelteRegisterBlock",{block:s,id:Yi.name,type:"if",source:"(262:8) {#if searchQuery}",ctx:n}),s}function pc(n){let e,t,l="ðŸ”",i,s,o="No participants found",a,r,u="Try adjusting your search or filter";const f={c:function(){e=_("div"),t=_("div"),t.textContent=l,i=R(),s=_("p"),s.textContent=o,a=R(),r=_("p"),r.textContent=u,this.h()},l:function(m){e=g(m,"DIV",{class:!0});var b=w(e);t=g(b,"DIV",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-10mpzpl"&&(t.textContent=l),i=D(b),s=g(b,"P",{"data-svelte-h":!0}),$(s)!=="svelte-ntuytn"&&(s.textContent=o),a=D(b),r=g(b,"P",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-16fokzv"&&(r.textContent=u),b.forEach(v),this.h()},h:function(){d(t,"class","no-results-icon svelte-170dqjv"),p(t,Qe,372,8,11366),p(s,Qe,373,8,11412),d(r,"class","no-results-hint svelte-170dqjv"),p(r,Qe,374,8,11449),d(e,"class","no-results svelte-170dqjv"),p(e,Qe,371,6,11333)},m:function(m,b){Q(m,e,b),c(e,t),c(e,i),c(e,s),c(e,a),c(e,r)},p:$e,d:function(m){m&&v(e)}};return L("SvelteRegisterBlock",{block:f,id:pc.name,type:"else",source:"(345:4) {:else}",ctx:n}),f}function gc(n){let e,t=[],l=new Map,i=Je(n[6]);const s=a=>a[28].id;on(n,i,ul,s);for(let a=0;a<i.length;a+=1){let r=ul(n,i,a),u=s(r);l.set(u,t[a]=Zi(u,r))}const o={c:function(){e=_("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l:function(r){e=g(r,"DIV",{class:!0});var u=w(e);for(let f=0;f<t.length;f+=1)t[f].l(u);u.forEach(v),this.h()},h:function(){d(e,"class","participant-grid svelte-170dqjv"),p(e,Qe,331,6,9651)},m:function(r,u){Q(r,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null)},p:function(r,u){u[0]&1504&&(i=Je(r[6]),on(r,i,ul,s),t=$n(t,u,s,1,r,i,l,e,ws,Zi,null,ul))},d:function(r){r&&v(e);for(let u=0;u<t.length;u+=1)t[u].d()}};return L("SvelteRegisterBlock",{block:o,id:gc.name,type:"if",source:"(305:4) {#if filteredParticipants.length > 0}",ctx:n}),o}function _c(n){let e,t=(n[29].emoji||"ðŸ‘¤")+"",l;const i={c:function(){e=_("span"),l=U(t),this.h()},l:function(o){e=g(o,"SPAN",{class:!0,"aria-hidden":!0});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){d(e,"class","avatar-emoji svelte-170dqjv"),d(e,"aria-hidden","true"),p(e,Qe,350,18,10443)},m:function(o,a){Q(o,e,a),c(e,l)},p:function(o,a){a[0]&64&&t!==(t=(o[29].emoji||"ðŸ‘¤")+"")&&le(l,t)},d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:_c.name,type:"else",source:"(324:16) {:else}",ctx:n}),i}function bc(n){let e,t,l,i;function s(){return n[21](n[28])}const o={c:function(){e=_("img"),this.h()},l:function(r){e=g(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Mn(e.src,t=n[29].src)||d(e,"src",t),d(e,"alt",""),d(e,"class","svelte-170dqjv"),p(e,Qe,344,18,10246)},m:function(r,u){Q(r,e,u),l||(i=Re(e,"error",s,!1,!1,!1,!1),l=!0)},p:function(r,u){n=r,u[0]&64&&!Mn(e.src,t=n[29].src)&&d(e,"src",t)},d:function(r){r&&v(e),l=!1,i()}};return L("SvelteRegisterBlock",{block:o,id:bc.name,type:"if",source:"(318:16) {#if a.src && !brokenAvatarIds.has(participant.id)}",ctx:n}),o}function Ji(n){let e,t,l=n[28].estimatedCostPerRound.toFixed(3)+"",i,s;const o={c:function(){e=_("div"),t=U("$"),i=U(l),s=U("/round"),this.h()},l:function(r){e=g(r,"DIV",{class:!0});var u=w(e);t=H(u,"$"),i=H(u,l),s=H(u,"/round"),u.forEach(v),this.h()},h:function(){d(e,"class","participant-cost svelte-170dqjv"),p(e,Qe,361,16,11015)},m:function(r,u){Q(r,e,u),c(e,t),c(e,i),c(e,s)},p:function(r,u){u[0]&64&&l!==(l=r[28].estimatedCostPerRound.toFixed(3)+"")&&le(i,l)},d:function(r){r&&v(e)}};return L("SvelteRegisterBlock",{block:o,id:Ji.name,type:"if",source:"(335:14) {#if participant.estimatedCostPerRound}",ctx:n}),o}function Xi(n){let e,t="âœ“";const l={c:function(){e=_("div"),e.textContent=t,this.h()},l:function(s){e=g(s,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-zf432j"&&(e.textContent=t),this.h()},h:function(){d(e,"class","selected-indicator svelte-170dqjv"),p(e,Qe,365,14,11208)},m:function(s,o){Q(s,e,o)},d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Xi.name,type:"if",source:"(339:12) {#if selectedIds.has(participant.id)}",ctx:n}),l}function Zi(n,e){let t,l,i,s,o,a,r=e[28].type.toUpperCase()+"",u,f,h,m,b=e[28].name+"",k,y,I,E=e[28].role+"",S,C,P,A=e[5].has(e[28].id),V,z,T,N;function q(B,x){return x[0]&64&&(s=null),s==null&&(s=!!(B[29].src&&!B[7].has(B[28].id))),s?bc:_c}let O=q(e,[-1,-1]),M=O(e),j=e[28].estimatedCostPerRound&&Ji(e),K=A&&Xi(e);function F(){return e[22](e[28])}const Y={key:n,first:null,c:function(){t=_("button"),l=_("div"),i=_("div"),M.c(),o=R(),a=_("div"),u=U(r),f=R(),h=_("div"),m=_("div"),k=U(b),y=R(),I=_("div"),S=U(E),C=R(),j&&j.c(),P=R(),K&&K.c(),V=R(),this.h()},l:function(x){t=g(x,"BUTTON",{type:!0,class:!0,"data-testid":!0});var Z=w(t);l=g(Z,"DIV",{class:!0});var te=w(l);i=g(te,"DIV",{class:!0});var X=w(i);M.l(X),X.forEach(v),o=D(te),a=g(te,"DIV",{class:!0});var ne=w(a);u=H(ne,r),ne.forEach(v),te.forEach(v),f=D(Z),h=g(Z,"DIV",{class:!0});var se=w(h);m=g(se,"DIV",{class:!0});var _e=w(m);k=H(_e,b),_e.forEach(v),y=D(se),I=g(se,"DIV",{class:!0});var ue=w(I);S=H(ue,E),ue.forEach(v),C=D(se),j&&j.l(se),se.forEach(v),P=D(Z),K&&K.l(Z),V=D(Z),Z.forEach(v),this.h()},h:function(){d(i,"class","participant-avatar svelte-170dqjv"),p(i,Qe,342,14,10127),d(a,"class","participant-type svelte-170dqjv"),Pe(a,"human",e[28].type==="human"),Pe(a,"ai",e[28].type==="ai"),p(a,Qe,353,14,10571),d(l,"class","card-header svelte-170dqjv"),p(l,Qe,341,12,10087),d(m,"class","participant-name svelte-170dqjv"),p(m,Qe,358,14,10821),d(I,"class","participant-role svelte-170dqjv"),p(I,Qe,359,14,10890),d(h,"class","card-body svelte-170dqjv"),p(h,Qe,357,12,10783),d(t,"type","button"),d(t,"class","participant-card svelte-170dqjv"),d(t,"data-testid",z="participant-"+e[28].id),Pe(t,"selected",e[5].has(e[28].id)),p(t,Qe,334,10,9816),this.first=t},m:function(x,Z){Q(x,t,Z),c(t,l),c(l,i),M.m(i,null),c(l,o),c(l,a),c(a,u),c(t,f),c(t,h),c(h,m),c(m,k),c(h,y),c(h,I),c(I,S),c(h,C),j&&j.m(h,null),c(t,P),K&&K.m(t,null),c(t,V),T||(N=Re(t,"click",F,!1,!1,!1,!1),T=!0)},p:function(x,Z){e=x,O===(O=q(e,Z))&&M?M.p(e,Z):(M.d(1),M=O(e),M&&(M.c(),M.m(i,null))),Z[0]&64&&r!==(r=e[28].type.toUpperCase()+"")&&le(u,r),Z[0]&64&&Pe(a,"human",e[28].type==="human"),Z[0]&64&&Pe(a,"ai",e[28].type==="ai"),Z[0]&64&&b!==(b=e[28].name+"")&&le(k,b),Z[0]&64&&E!==(E=e[28].role+"")&&le(S,E),e[28].estimatedCostPerRound?j?j.p(e,Z):(j=Ji(e),j.c(),j.m(h,null)):j&&(j.d(1),j=null),Z[0]&96&&(A=e[5].has(e[28].id)),A?K||(K=Xi(e),K.c(),K.m(t,V)):K&&(K.d(1),K=null),Z[0]&64&&z!==(z="participant-"+e[28].id)&&d(t,"data-testid",z),Z[0]&96&&Pe(t,"selected",e[5].has(e[28].id))},d:function(x){x&&v(t),M.d(),j&&j.d(),K&&K.d(),T=!1,N()}};return L("SvelteRegisterBlock",{block:Y,id:Zi.name,type:"each",source:"(307:8) {#each filteredParticipants as participant (participant.id)}",ctx:e}),Y}function $i(n){let e,t=Je(n[1]),l=[];for(let s=0;s<t.length;s+=1)l[s]=xi(ba(n,t,s));const i={c:function(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l:function(o){e=g(o,"DIV",{class:!0,role:!0});var a=w(e);for(let r=0;r<l.length;r+=1)l[r].l(a);a.forEach(v),this.h()},h:function(){d(e,"class","error-list svelte-170dqjv"),d(e,"role","alert"),p(e,Qe,380,4,11579)},m:function(o,a){Q(o,e,a);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p:function(o,a){if(a[0]&2){t=Je(o[1]);let r;for(r=0;r<t.length;r+=1){const u=ba(o,t,r);l[r]?l[r].p(u,a):(l[r]=xi(u),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d:function(o){o&&v(e),ln(l,o)}};return L("SvelteRegisterBlock",{block:i,id:$i.name,type:"if",source:"(354:2) {#if errors.length > 0}",ctx:n}),i}function xi(n){let e,t,l="âš ï¸",i,s=n[25]+"",o,a;const r={c:function(){e=_("div"),t=_("span"),t.textContent=l,i=R(),o=U(s),a=R(),this.h()},l:function(f){e=g(f,"DIV",{class:!0});var h=w(e);t=g(h,"SPAN",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-afr8fm"&&(t.textContent=l),i=D(h),o=H(h,s),a=D(h),h.forEach(v),this.h()},h:function(){d(t,"class","error-icon svelte-170dqjv"),p(t,Qe,383,10,11690),d(e,"class","error-item svelte-170dqjv"),p(e,Qe,382,8,11655)},m:function(f,h){Q(f,e,h),c(e,t),c(e,i),c(e,o),c(e,a)},p:function(f,h){h[0]&2&&s!==(s=f[25]+"")&&le(o,s)},d:function(f){f&&v(e)}};return L("SvelteRegisterBlock",{block:r,id:xi.name,type:"each",source:"(356:6) {#each errors as error}",ctx:n}),r}function eo(n){let e,t,l,i="Select Participants",s,o,a="Choose who will participate in this deliberation session. You need at least 2 participants for meaningful discussion.",r,u,f,h,m=n[0].length+"",b,k,y,I,E,S,C,P,A,V,z,T,N="All",q,O,M="Human",j,K,F="AI",Y,B,x,Z="Available Participants",te,X,ne,se;function _e(Te,fe){return Te[0].length>0?hc:dc}let ue=_e(n),W=ue(n),G=n[2]&&Yi(n);function he(Te,fe){return Te[6].length>0?gc:pc}let ve=he(n),me=ve(n),ke=n[1].length>0&&$i(n);const Fe={c:function(){e=_("div"),t=_("div"),l=_("h2"),l.textContent=i,s=R(),o=_("p"),o.textContent=a,r=R(),u=_("div"),f=_("h3"),h=U("Selected Participants ("),b=U(m),k=U(")"),y=R(),W.c(),I=R(),E=_("div"),S=_("div"),C=_("div"),P=_("input"),A=R(),G&&G.c(),V=R(),z=_("div"),T=_("button"),T.textContent=N,q=R(),O=_("button"),O.textContent=M,j=R(),K=_("button"),K.textContent=F,Y=R(),B=_("div"),x=_("h3"),x.textContent=Z,te=R(),me.c(),X=R(),ke&&ke.c(),this.h()},l:function(fe){e=g(fe,"DIV",{class:!0,"data-testid":!0});var De=w(e);t=g(De,"DIV",{class:!0});var ae=w(t);l=g(ae,"H2",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-1nf5hws"&&(l.textContent=i),s=D(ae),o=g(ae,"P",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-1wu18es"&&(o.textContent=a),ae.forEach(v),r=D(De),u=g(De,"DIV",{class:!0});var Ve=w(u);f=g(Ve,"H3",{class:!0});var rt=w(f);h=H(rt,"Selected Participants ("),b=H(rt,m),k=H(rt,")"),rt.forEach(v),y=D(Ve),W.l(Ve),Ve.forEach(v),I=D(De),E=g(De,"DIV",{class:!0});var be=w(E);S=g(be,"DIV",{class:!0});var pe=w(S);C=g(pe,"DIV",{class:!0});var ie=w(C);P=g(ie,"INPUT",{type:!0,class:!0,placeholder:!0,"data-testid":!0}),A=D(ie),G&&G.l(ie),ie.forEach(v),V=D(pe),z=g(pe,"DIV",{class:!0});var Ae=w(z);T=g(Ae,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(T)!=="svelte-1ewpc01"&&(T.textContent=N),q=D(Ae),O=g(Ae,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(O)!=="svelte-ymhvwn"&&(O.textContent=M),j=D(Ae),K=g(Ae,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(K)!=="svelte-11f5o3y"&&(K.textContent=F),Ae.forEach(v),pe.forEach(v),be.forEach(v),Y=D(De),B=g(De,"DIV",{class:!0});var lt=w(B);x=g(lt,"H3",{class:!0,"data-svelte-h":!0}),$(x)!=="svelte-ihhyqj"&&(x.textContent=Z),te=D(lt),me.l(lt),lt.forEach(v),X=D(De),ke&&ke.l(De),De.forEach(v),this.h()},h:function(){d(l,"class","svelte-170dqjv"),p(l,Qe,202,4,5321),d(o,"class","step-description svelte-170dqjv"),p(o,Qe,203,4,5354),d(t,"class","step-header svelte-170dqjv"),p(t,Qe,201,2,5291),d(f,"class","svelte-170dqjv"),p(f,Qe,209,4,5563),d(u,"class","selected-section svelte-170dqjv"),p(u,Qe,208,2,5528),d(P,"type","text"),d(P,"class","search-input svelte-170dqjv"),d(P,"placeholder","Search participants by name or role..."),d(P,"data-testid","participant-search"),p(P,Qe,280,8,8387),d(C,"class","search-input-container svelte-170dqjv"),p(C,Qe,279,6,8342),d(T,"type","button"),d(T,"class","filter-btn svelte-170dqjv"),Pe(T,"active",n[3]==="all"),p(T,Qe,300,8,8895),d(O,"type","button"),d(O,"class","filter-btn svelte-170dqjv"),Pe(O,"active",n[3]==="human"),p(O,Qe,308,8,9098),d(K,"type","button"),d(K,"class","filter-btn svelte-170dqjv"),Pe(K,"active",n[3]==="ai"),p(K,Qe,316,8,9307),d(z,"class","filter-controls svelte-170dqjv"),p(z,Qe,299,6,8857),d(S,"class","search-controls svelte-170dqjv"),p(S,Qe,278,4,8306),d(E,"class","search-section svelte-170dqjv"),p(E,Qe,277,2,8273),d(x,"class","svelte-170dqjv"),p(x,Qe,329,4,9571),d(B,"class","available-section svelte-170dqjv"),p(B,Qe,328,2,9535),d(e,"class","participant-select-step svelte-170dqjv"),d(e,"data-testid","participant-select-step"),p(e,Qe,200,0,5213)},m:function(fe,De){Q(fe,e,De),c(e,t),c(t,l),c(t,s),c(t,o),c(e,r),c(e,u),c(u,f),c(f,h),c(f,b),c(f,k),c(u,y),W.m(u,null),c(e,I),c(e,E),c(E,S),c(S,C),c(C,P),Yt(P,n[2]),c(C,A),G&&G.m(C,null),c(S,V),c(S,z),c(z,T),c(z,q),c(z,O),c(z,j),c(z,K),c(e,Y),c(e,B),c(B,x),c(B,te),me.m(B,null),c(e,X),ke&&ke.m(e,null),ne||(se=[Re(P,"input",n[17]),Re(T,"click",n[18],!1,!1,!1,!1),Re(O,"click",n[19],!1,!1,!1,!1),Re(K,"click",n[20],!1,!1,!1,!1)],ne=!0)},p:function(fe,De){De[0]&1&&m!==(m=fe[0].length+"")&&le(b,m),ue===(ue=_e(fe))&&W?W.p(fe,De):(W.d(1),W=ue(fe),W&&(W.c(),W.m(u,null))),De[0]&4&&P.value!==fe[2]&&Yt(P,fe[2]),fe[2]?G?G.p(fe,De):(G=Yi(fe),G.c(),G.m(C,null)):G&&(G.d(1),G=null),De[0]&8&&Pe(T,"active",fe[3]==="all"),De[0]&8&&Pe(O,"active",fe[3]==="human"),De[0]&8&&Pe(K,"active",fe[3]==="ai"),ve===(ve=he(fe))&&me?me.p(fe,De):(me.d(1),me=ve(fe),me&&(me.c(),me.m(B,null))),fe[1].length>0?ke?ke.p(fe,De):(ke=$i(fe),ke.c(),ke.m(e,null)):ke&&(ke.d(1),ke=null)},i:$e,o:$e,d:function(fe){fe&&v(e),W.d(),G&&G.d(),me.d(),ke&&ke.d(),ne=!1,Dn(se)}};return L("SvelteRegisterBlock",{block:Fe,id:eo.name,type:"component",source:"",ctx:n}),Fe}function zo(n){if(!n)return{};if(n.startsWith("asset:")){const e=n.slice(6),[t,l]=e.split("|");return{src:t,emoji:l}}return n.startsWith("/")||n.startsWith("http")?{src:n}:{emoji:n}}function wu(n,e,t){let l,i,s,{$$slots:o={},$$scope:a}=e;en("ParticipantSelect",o,[]);let{selected:r=[]}=e,{errors:u=[]}=e;const f=an(),h=new Set;function m(F){h.add(F)}const b=[{id:"claude-sonnet-4-20250514",label:"Claude Sonnet 4"},{id:"claude-3-5-sonnet-20241022",label:"Claude 3.5 Sonnet"},{id:"gpt-4-turbo",label:"GPT-4 Turbo"},{id:"ollama/llama3:latest",label:"Ollama Llama 3"}],k=[{id:"human-kusanagi",name:"Major Motoko Kusanagi",type:"human",role:"Visionary / Systems Architect",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Motoko-Kusanagi.32.png|ðŸ•¶ï¸",estimatedCostPerRound:0},{id:"human-batou",name:"Batou",type:"human",role:"Deployment Specialist / Reliability",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Bateau.32.png|ðŸ¦¾",estimatedCostPerRound:0},{id:"human-togusa",name:"Togusa",type:"human",role:"QA Lead / Product Critic",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Togusa.32.png|ðŸ•µï¸",estimatedCostPerRound:0},{id:"human-aramaki",name:"Daisuke Aramaki",type:"human",role:"Stakeholder / Strategy & Risk",status:"active",avatar:"ðŸŽ–ï¸",estimatedCostPerRound:0},{id:"human-ishikawa",name:"Ishikawa",type:"human",role:"Observability / Telemetry",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Ishikawa.32.png|ðŸ“¡",estimatedCostPerRound:0},{id:"human-saito",name:"Saito",type:"human",role:"Security / Threat Modeling",status:"active",avatar:"ðŸŽ¯",estimatedCostPerRound:0},{id:"ai-fuchikoma-blue",name:"Fuchikoma Blue",type:"ai",role:"Implementation Agent",status:"active",modelId:"claude-sonnet-4-20250514",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Blue.32.png|ðŸ•·ï¸",estimatedCostPerRound:.03},{id:"ai-fuchikoma-red",name:"Fuchikoma Red",type:"ai",role:"Testing & Validation Agent",status:"active",modelId:"gpt-4-turbo",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Red.32.png|ðŸ”´",estimatedCostPerRound:.03},{id:"ai-fuchikoma-purple",name:"Fuchikoma Purple",type:"ai",role:"Research & Analysis Agent",status:"active",modelId:"ollama/llama3:latest",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Purple.32.png|ðŸŸ£",estimatedCostPerRound:.03},{id:"ai-arakone",name:"Arakone Unit",type:"ai",role:"Heavy Processing / Synthesis",status:"active",modelId:"claude-3-5-sonnet-20241022",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Arakone-Unit.32.png|ðŸ¦‚",estimatedCostPerRound:.06},{id:"ai-laughing-man",name:"Laughing Man",type:"ai",role:"Adversarial Reviewer",status:"active",modelId:"gpt-4-turbo",avatar:"ðŸŒ€",estimatedCostPerRound:.06},{id:"ai-puppet-master",name:"Puppet Master",type:"ai",role:"Orchestration & Arbitration",status:"active",modelId:"claude-sonnet-4-20250514",avatar:"ðŸ§¬",estimatedCostPerRound:.08}];let y="",I="all";function E(F){let Y;i.has(F.id)?Y=r.filter(B=>B.id!==F.id):Y=[...r,F],f("change",Y)}function S(F){const Y=r.filter(B=>B.id!==F);f("change",Y)}function C(F,Y){const B=r.map(x=>x.id===F?{...x,modelId:Y}:x);f("change",B)}function P(){t(2,y="")}const A=["selected","errors"];Object.keys(e).forEach(F=>{!~A.indexOf(F)&&F.slice(0,2)});const V=F=>m(F.id),z=(F,Y)=>C(F.id,Y.currentTarget.value),T=F=>S(F.id);function N(){y=this.value,t(2,y)}const q=()=>t(3,I="all"),O=()=>t(3,I="human"),M=()=>t(3,I="ai"),j=F=>m(F.id),K=F=>E(F);return n.$$set=F=>{"selected"in F&&t(0,r=F.selected),"errors"in F&&t(1,u=F.errors)},n.$capture_state=()=>({createEventDispatcher:an,selected:r,errors:u,dispatch:f,brokenAvatarIds:h,parseAvatar:zo,markAvatarBroken:m,modelOptions:b,availableParticipants:k,searchQuery:y,filterType:I,toggleParticipant:E,removeParticipant:S,setParticipantModel:C,clearSearch:P,totalCost:s,selectedIds:i,filteredParticipants:l}),n.$inject_state=F=>{"selected"in F&&t(0,r=F.selected),"errors"in F&&t(1,u=F.errors),"searchQuery"in F&&t(2,y=F.searchQuery),"filterType"in F&&t(3,I=F.filterType),"totalCost"in F&&t(4,s=F.totalCost),"selectedIds"in F&&t(5,i=F.selectedIds),"filteredParticipants"in F&&t(6,l=F.filteredParticipants)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty[0]&12&&t(6,l=k.filter(F=>{const Y=F.name.toLowerCase().includes(y.toLowerCase())||F.role.toLowerCase().includes(y.toLowerCase()),B=I==="all"||F.type===I;return Y&&B})),n.$$.dirty[0]&1&&t(5,i=new Set(r.map(F=>F.id))),n.$$.dirty[0]&1&&t(4,s=r.reduce((F,Y)=>F+(Y.estimatedCostPerRound||0),0))},[r,u,y,I,s,i,l,h,m,b,E,S,C,P,V,z,T,N,q,O,M,j,K]}class kc extends $t{constructor(e){super(e),xt(this,e,wu,eo,Jt,{selected:0,errors:1},null,[-1,-1]),L("SvelteRegisterComponent",{component:this,tagName:"ParticipantSelect",options:e,id:eo.name})}get selected(){throw new Error("<ParticipantSelect>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set selected(e){throw new Error("<ParticipantSelect>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get errors(){throw new Error("<ParticipantSelect>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set errors(e){throw new Error("<ParticipantSelect>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Me="src/lib/components/forge/OracleConfigPanel.svelte";function ya(n,e,t){const l=n.slice();return l[27]=e[t],l}function wa(n,e,t){const l=n.slice();return l[27]=e[t],l}function Sa(n,e,t){const l=n.slice();return l[32]=e[t],l}function Ca(n,e,t){const l=n.slice();return l[27]=e[t],l}function Ea(n,e,t){const l=n.slice();return l[37]=e[t],l}function Ia(n,e,t){const l=n.slice();return l[37]=e[t],l}function Pa(n,e,t){const l=n.slice();return l[42]=e[t],l}function to(n){let e,t,l,i;t=new Ge({props:{name:"alert-triangle",size:16},$$inline:!0});let s=Je(n[2]),o=[];for(let r=0;r<s.length;r+=1)o[r]=no(Pa(n,s,r));const a={c:function(){e=_("div"),Ie(t.$$.fragment),l=R();for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l:function(u){e=g(u,"DIV",{class:!0,role:!0});var f=w(e);Ee(t.$$.fragment,f),l=D(f);for(let h=0;h<o.length;h+=1)o[h].l(f);f.forEach(v),this.h()},h:function(){d(e,"class","error-banner svelte-1ky0rb1"),d(e,"role","alert"),p(e,Me,165,4,4064)},m:function(u,f){Q(u,e,f),Ce(t,e,null),c(e,l);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(e,null);i=!0},p:function(u,f){if(f[0]&4){s=Je(u[2]);let h;for(h=0;h<s.length;h+=1){const m=Pa(u,s,h);o[h]?o[h].p(m,f):(o[h]=no(m),o[h].c(),o[h].m(e,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=s.length}},i:function(u){i||(J(t.$$.fragment,u),i=!0)},o:function(u){ee(t.$$.fragment,u),i=!1},d:function(u){u&&v(e),Se(t),ln(o,u)}};return L("SvelteRegisterBlock",{block:a,id:to.name,type:"if",source:"(141:2) {#if errors.length > 0}",ctx:n}),a}function no(n){let e,t=n[42]+"",l;const i={c:function(){e=_("span"),l=U(t),this.h()},l:function(o){e=g(o,"SPAN",{});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){p(e,Me,168,8,4189)},m:function(o,a){Q(o,e,a),c(e,l)},p:function(o,a){a[0]&4&&t!==(t=o[42]+"")&&le(l,t)},d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:no.name,type:"each",source:"(144:6) {#each errors as error}",ctx:n}),i}function so(n){let e,t=n[37].name+"",l,i,s=n[37].type+"",o,a,r;const u={c:function(){e=_("option"),l=U(t),i=U(" ("),o=U(s),a=U(`)
            `),this.h()},l:function(h){e=g(h,"OPTION",{});var m=w(e);l=H(m,t),i=H(m," ("),o=H(m,s),a=H(m,`)
            `),m.forEach(v),this.h()},h:function(){e.__value=r=n[37].id,Yt(e,e.__value),p(e,Me,194,12,5008)},m:function(h,m){Q(h,e,m),c(e,l),c(e,i),c(e,o),c(e,a)},p:function(h,m){m[0]&64&&t!==(t=h[37].name+"")&&le(l,t),m[0]&64&&s!==(s=h[37].type+"")&&le(o,s),m[0]&64&&r!==(r=h[37].id)&&(mn(e,"__value",r),Yt(e,e.__value))},d:function(h){h&&v(e)}};return L("SvelteRegisterBlock",{block:u,id:so.name,type:"each",source:"(170:10) {#each sortedOracles as oracle}",ctx:n}),u}function lo(n){let e,t,l="Temperature",i,s,o,a,r,u,f=n[3].toFixed(1)+"",h,m,b,k,y,I,E,S="Precise",C,P,A="Creative",V,z;const T={c:function(){e=_("div"),t=_("label"),t.textContent=l,i=R(),s=_("div"),o=_("input"),a=R(),r=_("div"),u=_("span"),h=U(f),m=R(),b=_("span"),k=U(n[5]),y=R(),I=_("div"),E=_("span"),E.textContent=S,C=R(),P=_("span"),P.textContent=A,this.h()},l:function(q){e=g(q,"DIV",{class:!0});var O=w(e);t=g(O,"LABEL",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-waxw41"&&(t.textContent=l),i=D(O),s=g(O,"DIV",{class:!0});var M=w(s);o=g(M,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),a=D(M),r=g(M,"DIV",{class:!0});var j=w(r);u=g(j,"SPAN",{class:!0});var K=w(u);h=H(K,f),K.forEach(v),m=D(j),b=g(j,"SPAN",{class:!0});var F=w(b);k=H(F,n[5]),F.forEach(v),j.forEach(v),M.forEach(v),y=D(O),I=g(O,"DIV",{class:!0});var Y=w(I);E=g(Y,"SPAN",{"data-svelte-h":!0}),$(E)!=="svelte-170ef9t"&&(E.textContent=S),C=D(Y),P=g(Y,"SPAN",{"data-svelte-h":!0}),$(P)!=="svelte-108qqx7"&&(P.textContent=A),Y.forEach(v),O.forEach(v),this.h()},h:function(){d(t,"class","compact-label svelte-1ky0rb1"),p(t,Me,204,10,5352),d(o,"type","range"),d(o,"min","0"),d(o,"max","1"),d(o,"step","0.1"),o.value=n[3],d(o,"class","vertical-slider svelte-1ky0rb1"),p(o,Me,206,12,5457),d(u,"class","temp-value svelte-1ky0rb1"),p(u,Me,216,14,5801),d(b,"class","temp-label svelte-1ky0rb1"),p(b,Me,217,14,5878),d(r,"class","temperature-info svelte-1ky0rb1"),p(r,Me,215,12,5756),d(s,"class","temperature-control svelte-1ky0rb1"),p(s,Me,205,10,5411),p(E,Me,221,12,6015),p(P,Me,222,12,6048),d(I,"class","slider-labels svelte-1ky0rb1"),p(I,Me,220,10,5975),d(e,"class","compact-group svelte-1ky0rb1"),p(e,Me,203,8,5314)},m:function(q,O){Q(q,e,O),c(e,t),c(e,i),c(e,s),c(s,o),c(s,a),c(s,r),c(r,u),c(u,h),c(r,m),c(r,b),c(b,k),c(e,y),c(e,I),c(I,E),c(I,C),c(I,P),V||(z=Re(o,"input",n[16],!1,!1,!1,!1),V=!0)},p:function(q,O){O[0]&8&&mn(o,"value",q[3]),O[0]&8&&f!==(f=q[3].toFixed(1)+"")&&le(h,f),O[0]&32&&le(k,q[5])},d:function(q){q&&v(e),V=!1,z()}};return L("SvelteRegisterBlock",{block:T,id:lo.name,type:"if",source:"(179:6) {#if selectedOracle && (selectedOracle.type === 'llm' || selectedOracle.type === 'hybrid')}",ctx:n}),T}function io(n){let e,t,l,i,s,o=(n[0].estimatedCostPerRound?.toFixed(3)||"0.00")+"",a,r,u;t=new Ge({props:{name:"dollar-sign",size:14},$$inline:!0});const f={c:function(){e=_("div"),Ie(t.$$.fragment),l=R(),i=_("span"),s=U("~$"),a=U(o),r=U("/round"),this.h()},l:function(m){e=g(m,"DIV",{class:!0});var b=w(e);Ee(t.$$.fragment,b),l=D(b),i=g(b,"SPAN",{});var k=w(i);s=H(k,"~$"),a=H(k,o),r=H(k,"/round"),k.forEach(v),b.forEach(v),this.h()},h:function(){p(i,Me,231,10,6264),d(e,"class","cost-display svelte-1ky0rb1"),p(e,Me,229,8,6179)},m:function(m,b){Q(m,e,b),Ce(t,e,null),c(e,l),c(e,i),c(i,s),c(i,a),c(i,r),u=!0},p:function(m,b){(!u||b[0]&1)&&o!==(o=(m[0].estimatedCostPerRound?.toFixed(3)||"0.00")+"")&&le(a,o)},i:function(m){u||(J(t.$$.fragment,m),u=!0)},o:function(m){ee(t.$$.fragment,m),u=!1},d:function(m){m&&v(e),Se(t)}};return L("SvelteRegisterBlock",{block:f,id:io.name,type:"if",source:"(205:6) {#if selectedOracle}",ctx:n}),f}function oo(n){let e,t,l,i,s=n[37].type+"",o,a,r,u,f;t=new Ge({props:{name:mo(n[37].type),size:14},$$inline:!0});function h(){return n[17](n[37])}const m={c:function(){e=_("button"),Ie(t.$$.fragment),l=R(),i=_("span"),o=U(s),a=R(),this.h()},l:function(k){e=g(k,"BUTTON",{type:!0,class:!0,style:!0});var y=w(e);Ee(t.$$.fragment,y),l=D(y),i=g(y,"SPAN",{class:!0});var I=w(i);o=H(I,s),I.forEach(v),a=D(y),y.forEach(v),this.h()},h:function(){d(i,"class","chip-label"),p(i,Me,246,12,6855),d(e,"type","button"),d(e,"class","oracle-chip svelte-1ky0rb1"),wn(e,"--oracle-accent",po(n[37].type)),Pe(e,"selected",n[0]?.id===n[37].id),p(e,Me,238,10,6514)},m:function(k,y){Q(k,e,y),Ce(t,e,null),c(e,l),c(e,i),c(i,o),c(e,a),r=!0,u||(f=Re(e,"click",h,!1,!1,!1,!1),u=!0)},p:function(k,y){n=k;const I={};y[0]&64&&(I.name=mo(n[37].type)),t.$set(I),(!r||y[0]&64)&&s!==(s=n[37].type+"")&&le(o,s),(!r||y[0]&64)&&wn(e,"--oracle-accent",po(n[37].type)),(!r||y[0]&65)&&Pe(e,"selected",n[0]?.id===n[37].id)},i:function(k){r||(J(t.$$.fragment,k),r=!0)},o:function(k){ee(t.$$.fragment,k),r=!1},d:function(k){k&&v(e),Se(t),u=!1,f()}};return L("SvelteRegisterBlock",{block:m,id:oo.name,type:"each",source:"(214:8) {#each sortedOracles as oracle}",ctx:n}),m}function ao(n){let e,t=n[27]+"",l;const i={c:function(){e=_("option"),l=U(t),this.h()},l:function(o){e=g(o,"OPTION",{});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){e.__value=n[27],Yt(e,e.__value),p(e,Me,268,12,7555)},m:function(o,a){Q(o,e,a),c(e,l)},p:$e,d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:ao.name,type:"each",source:"(244:10) {#each maxRoundsOptions as opt}",ctx:n}),i}function ro(n){let e,t=n[32].label+"",l,i,s,o;function a(){return n[19](n[32])}const r={c:function(){e=_("button"),l=U(t),i=R(),this.h()},l:function(f){e=g(f,"BUTTON",{type:!0,class:!0});var h=w(e);l=H(h,t),i=D(h),h.forEach(v),this.h()},h:function(){d(e,"type","button"),d(e,"class","preset-btn svelte-1ky0rb1"),Pe(e,"active",n[1].convergenceThreshold===n[32].value),p(e,Me,278,12,7877)},m:function(f,h){Q(f,e,h),c(e,l),c(e,i),s||(o=Re(e,"click",a,!1,!1,!1,!1),s=!0)},p:function(f,h){n=f,h[0]&130&&Pe(e,"active",n[1].convergenceThreshold===n[32].value)},d:function(f){f&&v(e),s=!1,o()}};return L("SvelteRegisterBlock",{block:r,id:ro.name,type:"each",source:"(254:10) {#each convergencePresets as preset}",ctx:n}),r}function co(n){let e,t=n[27].label+"",l;const i={c:function(){e=_("option"),l=U(t),this.h()},l:function(o){e=g(o,"OPTION",{});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){e.__value=n[27].value,Yt(e,e.__value),p(e,Me,299,12,8587)},m:function(o,a){Q(o,e,a),c(e,l)},p:$e,d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:co.name,type:"each",source:"(275:10) {#each timeoutOptions as opt}",ctx:n}),i}function uo(n){let e,t,l,i,s,o,a="Human Intervention",r,u,f,h="Auto-save",m,b,k,y,I,E,S,C=Je(n[10]),P=[];for(let V=0;V<C.length;V+=1)P[V]=fo(ya(n,C,V));const A={c:function(){e=_("div"),t=_("label"),l=_("input"),s=R(),o=_("span"),o.textContent=a,r=R(),u=_("div"),f=_("label"),f.textContent=h,m=R(),b=_("select");for(let z=0;z<P.length;z+=1)P[z].c();this.h()},l:function(z){e=g(z,"DIV",{class:!0});var T=w(e);t=g(T,"LABEL",{class:!0});var N=w(t);l=g(N,"INPUT",{type:!0,class:!0}),s=D(N),o=g(N,"SPAN",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-1sq08yp"&&(o.textContent=a),N.forEach(v),r=D(T),u=g(T,"DIV",{class:!0});var q=w(u);f=g(q,"LABEL",{class:!0,"data-svelte-h":!0}),$(f)!=="svelte-11pg5ss"&&(f.textContent=h),m=D(q),b=g(q,"SELECT",{class:!0});var O=w(b);for(let M=0;M<P.length;M+=1)P[M].l(O);O.forEach(v),q.forEach(v),T.forEach(v),this.h()},h:function(){d(l,"type","checkbox"),l.checked=i=n[1].allowHumanIntervention,d(l,"class","svelte-1ky0rb1"),p(l,Me,319,12,9219),d(o,"class","checkbox-label svelte-1ky0rb1"),p(o,Me,324,12,9434),d(t,"class","checkbox-group svelte-1ky0rb1"),p(t,Me,318,10,9176),d(f,"class","compact-label svelte-1ky0rb1"),p(f,Me,329,12,9610),d(b,"class","compact-select small svelte-1ky0rb1"),p(b,Me,330,12,9669),d(u,"class","compact-group inline-group svelte-1ky0rb1"),p(u,Me,328,10,9557),d(e,"class","advanced-options svelte-1ky0rb1"),p(e,Me,316,8,9060)},m:function(z,T){Q(z,e,T),c(e,t),c(t,l),c(t,s),c(t,o),c(e,r),c(e,u),c(u,f),c(u,m),c(u,b);for(let N=0;N<P.length;N+=1)P[N]&&P[N].m(b,null);yn(b,n[1].autoSaveInterval),I=!0,E||(S=[Re(l,"change",n[22],!1,!1,!1,!1),Re(b,"change",n[23],!1,!1,!1,!1)],E=!0)},p:function(z,T){if((!I||T[0]&258&&i!==(i=z[1].allowHumanIntervention))&&mn(l,"checked",i),T[0]&1024){C=Je(z[10]);let N;for(N=0;N<C.length;N+=1){const q=ya(z,C,N);P[N]?P[N].p(q,T):(P[N]=fo(q),P[N].c(),P[N].m(b,null))}for(;N<P.length;N+=1)P[N].d(1);P.length=C.length}(!I||T[0]&258&&k!==(k=z[1].autoSaveInterval))&&yn(b,z[1].autoSaveInterval)},i:function(z){I||(z&&Oa(()=>{I&&(y||(y=sa(e,Tl,{duration:200},!0)),y.run(1))}),I=!0)},o:function(z){z&&(y||(y=sa(e,Tl,{duration:200},!1)),y.run(0)),I=!1},d:function(z){z&&v(e),ln(P,z),z&&y&&y.end(),E=!1,Dn(S)}};return L("SvelteRegisterBlock",{block:A,id:uo.name,type:"if",source:"(292:6) {#if showAdvanced}",ctx:n}),A}function fo(n){let e,t=n[27].label+"",l;const i={c:function(){e=_("option"),l=U(t),this.h()},l:function(o){e=g(o,"OPTION",{});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){e.__value=n[27].value,Yt(e,e.__value),p(e,Me,336,16,9940)},m:function(o,a){Q(o,e,a),c(e,l)},p:$e,d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:fo.name,type:"each",source:"(312:14) {#each autoSaveOptions as opt}",ctx:n}),i}function ho(n){let e,t,l,i,s,o=n[0].name+"",a,r,u,f="â€¢",h,m,b,k=n[1].maxRounds+"",y,I,E,S,C="â€¢",P,A,V,z=Math.round(n[1].convergenceThreshold*100)+"",T,N,q,O,M="â€¢",j,K,F,Y=n[1].timeoutMinutes+"",B,x,Z;l=new Ge({props:{name:"brain",size:14},$$inline:!0});const te={c:function(){e=_("div"),t=_("div"),Ie(l.$$.fragment),i=R(),s=_("span"),a=U(o),r=R(),u=_("div"),u.textContent=f,h=R(),m=_("div"),b=_("span"),y=U(k),I=U(" rounds"),E=R(),S=_("div"),S.textContent=C,P=R(),A=_("div"),V=_("span"),T=U(z),N=U("% threshold"),q=R(),O=_("div"),O.textContent=M,j=R(),K=_("div"),F=_("span"),B=U(Y),x=U("m timeout"),this.h()},l:function(ne){e=g(ne,"DIV",{class:!0});var se=w(e);t=g(se,"DIV",{class:!0});var _e=w(t);Ee(l.$$.fragment,_e),i=D(_e),s=g(_e,"SPAN",{});var ue=w(s);a=H(ue,o),ue.forEach(v),_e.forEach(v),r=D(se),u=g(se,"DIV",{class:!0,"data-svelte-h":!0}),$(u)!=="svelte-1tglz4p"&&(u.textContent=f),h=D(se),m=g(se,"DIV",{class:!0});var W=w(m);b=g(W,"SPAN",{});var G=w(b);y=H(G,k),I=H(G," rounds"),G.forEach(v),W.forEach(v),E=D(se),S=g(se,"DIV",{class:!0,"data-svelte-h":!0}),$(S)!=="svelte-1tglz4p"&&(S.textContent=C),P=D(se),A=g(se,"DIV",{class:!0});var he=w(A);V=g(he,"SPAN",{});var ve=w(V);T=H(ve,z),N=H(ve,"% threshold"),ve.forEach(v),he.forEach(v),q=D(se),O=g(se,"DIV",{class:!0,"data-svelte-h":!0}),$(O)!=="svelte-1tglz4p"&&(O.textContent=M),j=D(se),K=g(se,"DIV",{class:!0});var me=w(K);F=g(me,"SPAN",{});var ke=w(F);B=H(ke,Y),x=H(ke,"m timeout"),ke.forEach(v),me.forEach(v),se.forEach(v),this.h()},h:function(){p(s,Me,350,8,10269),d(t,"class","summary-item svelte-1ky0rb1"),p(t,Me,348,6,10194),d(u,"class","summary-divider svelte-1ky0rb1"),p(u,Me,352,6,10323),p(b,Me,354,8,10401),d(m,"class","summary-item svelte-1ky0rb1"),p(m,Me,353,6,10366),d(S,"class","summary-divider svelte-1ky0rb1"),p(S,Me,356,6,10459),p(V,Me,358,8,10537),d(A,"class","summary-item svelte-1ky0rb1"),p(A,Me,357,6,10502),d(O,"class","summary-divider svelte-1ky0rb1"),p(O,Me,360,6,10628),p(F,Me,362,8,10706),d(K,"class","summary-item svelte-1ky0rb1"),p(K,Me,361,6,10671),d(e,"class","summary-bar svelte-1ky0rb1"),p(e,Me,347,4,10162)},m:function(ne,se){Q(ne,e,se),c(e,t),Ce(l,t,null),c(t,i),c(t,s),c(s,a),c(e,r),c(e,u),c(e,h),c(e,m),c(m,b),c(b,y),c(b,I),c(e,E),c(e,S),c(e,P),c(e,A),c(A,V),c(V,T),c(V,N),c(e,q),c(e,O),c(e,j),c(e,K),c(K,F),c(F,B),c(F,x),Z=!0},p:function(ne,se){(!Z||se[0]&1)&&o!==(o=ne[0].name+"")&&le(a,o),(!Z||se[0]&2)&&k!==(k=ne[1].maxRounds+"")&&le(y,k),(!Z||se[0]&2)&&z!==(z=Math.round(ne[1].convergenceThreshold*100)+"")&&le(T,z),(!Z||se[0]&2)&&Y!==(Y=ne[1].timeoutMinutes+"")&&le(B,Y)},i:function(ne){Z||(J(l.$$.fragment,ne),Z=!0)},o:function(ne){ee(l.$$.fragment,ne),Z=!1},d:function(ne){ne&&v(e),Se(l)}};return L("SvelteRegisterBlock",{block:te,id:ho.name,type:"if",source:"(323:2) {#if selectedOracle}",ctx:n}),te}function vo(n){let e,t,l,i,s,o,a,r="Oracle & Session Configuration",u,f,h="Configure the AI orchestrator and session parameters",m,b,k,y,I,E,S,C,P="Oracle",A,V,z,T="Model",N,q,O,M="Select an oracle...",j,K,F,Y,B,x,Z,te,X,ne,se,_e="Session Parameters",ue,W,G,he="Max Rounds",ve,me,ke,Fe,Te,fe,De="Convergence",ae,Ve,rt,be,pe,ie="Timeout",Ae,lt,Ye,gt,ze,we,He,Xe,st="Advanced Options",St,ht,bt,tt,mt;i=new Ge({props:{name:"sliders",size:18,glow:!0},$$inline:!0});let We=n[2].length>0&&to(n);E=new Ge({props:{name:"brain",size:16,glow:!0},$$inline:!0});let pt=Je(n[6]),xe=[];for(let qe=0;qe<pt.length;qe+=1)xe[qe]=so(Ia(n,pt,qe));let Ze=n[0]&&(n[0].type==="llm"||n[0].type==="hybrid")&&lo(n),Ue=n[0]&&io(n),et=Je(n[6]),ft=[];for(let qe=0;qe<et.length;qe+=1)ft[qe]=oo(Ea(n,et,qe));const wt=qe=>ee(ft[qe],1,1,()=>{ft[qe]=null});X=new Ge({props:{name:"settings",size:16,glow:!0},$$inline:!0});let nt=Je(n[8]),Ne=[];for(let qe=0;qe<nt.length;qe+=1)Ne[qe]=ao(Ca(n,nt,qe));let kt=Je(n[7]),vt=[];for(let qe=0;qe<kt.length;qe+=1)vt[qe]=ro(Sa(n,kt,qe));let it=Je(n[9]),ge=[];for(let qe=0;qe<it.length;qe+=1)ge[qe]=co(wa(n,it,qe));we=new Ge({props:{name:n[4]?"chevron-down":"chevron-right",size:14},$$inline:!0});let je=n[4]&&uo(n),dt=n[0]&&ho(n);const Vt={c:function(){e=_("div"),t=_("div"),l=_("div"),Ie(i.$$.fragment),s=R(),o=_("div"),a=_("h2"),a.textContent=r,u=R(),f=_("p"),f.textContent=h,m=R(),We&&We.c(),b=R(),k=_("div"),y=_("div"),I=_("div"),Ie(E.$$.fragment),S=R(),C=_("span"),C.textContent=P,A=R(),V=_("div"),z=_("label"),z.textContent=T,N=R(),q=_("select"),O=_("option"),O.textContent=M;for(let oe=0;oe<xe.length;oe+=1)xe[oe].c();K=R(),Ze&&Ze.c(),F=R(),Ue&&Ue.c(),Y=R(),B=_("div");for(let oe=0;oe<ft.length;oe+=1)ft[oe].c();x=R(),Z=_("div"),te=_("div"),Ie(X.$$.fragment),ne=R(),se=_("span"),se.textContent=_e,ue=R(),W=_("div"),G=_("label"),G.textContent=he,ve=R(),me=_("select");for(let oe=0;oe<Ne.length;oe+=1)Ne[oe].c();Fe=R(),Te=_("div"),fe=_("label"),fe.textContent=De,ae=R(),Ve=_("div");for(let oe=0;oe<vt.length;oe+=1)vt[oe].c();rt=R(),be=_("div"),pe=_("label"),pe.textContent=ie,Ae=R(),lt=_("select");for(let oe=0;oe<ge.length;oe+=1)ge[oe].c();gt=R(),ze=_("button"),Ie(we.$$.fragment),He=R(),Xe=_("span"),Xe.textContent=st,St=R(),je&&je.c(),ht=R(),dt&&dt.c(),this.h()},l:function(oe){e=g(oe,"DIV",{class:!0,"data-testid":!0});var Oe=w(e);t=g(Oe,"DIV",{class:!0});var Ke=w(t);l=g(Ke,"DIV",{class:!0});var re=w(l);Ee(i.$$.fragment,re),re.forEach(v),s=D(Ke),o=g(Ke,"DIV",{class:!0});var ot=w(o);a=g(ot,"H2",{class:!0,"data-svelte-h":!0}),$(a)!=="svelte-cim1bw"&&(a.textContent=r),u=D(ot),f=g(ot,"P",{class:!0,"data-svelte-h":!0}),$(f)!=="svelte-3uxn9c"&&(f.textContent=h),ot.forEach(v),Ke.forEach(v),m=D(Oe),We&&We.l(Oe),b=D(Oe),k=g(Oe,"DIV",{class:!0});var It=w(k);y=g(It,"DIV",{class:!0});var At=w(y);I=g(At,"DIV",{class:!0});var Xt=w(I);Ee(E.$$.fragment,Xt),S=D(Xt),C=g(Xt,"SPAN",{"data-svelte-h":!0}),$(C)!=="svelte-1w9qgvc"&&(C.textContent=P),Xt.forEach(v),A=D(At),V=g(At,"DIV",{class:!0});var Mt=w(V);z=g(Mt,"LABEL",{class:!0,"data-svelte-h":!0}),$(z)!=="svelte-ellq4q"&&(z.textContent=T),N=D(Mt),q=g(Mt,"SELECT",{class:!0});var Pt=w(q);O=g(Pt,"OPTION",{"data-svelte-h":!0}),$(O)!=="svelte-pu11o3"&&(O.textContent=M);for(let at=0;at<xe.length;at+=1)xe[at].l(Pt);Pt.forEach(v),Mt.forEach(v),K=D(At),Ze&&Ze.l(At),F=D(At),Ue&&Ue.l(At),Y=D(At),B=g(At,"DIV",{class:!0});var Sn=w(B);for(let at=0;at<ft.length;at+=1)ft[at].l(Sn);Sn.forEach(v),At.forEach(v),x=D(It),Z=g(It,"DIV",{class:!0});var zt=w(Z);te=g(zt,"DIV",{class:!0});var Ct=w(te);Ee(X.$$.fragment,Ct),ne=D(Ct),se=g(Ct,"SPAN",{"data-svelte-h":!0}),$(se)!=="svelte-ui8uje"&&(se.textContent=_e),Ct.forEach(v),ue=D(zt),W=g(zt,"DIV",{class:!0});var tn=w(W);G=g(tn,"LABEL",{class:!0,"data-svelte-h":!0}),$(G)!=="svelte-r0j276"&&(G.textContent=he),ve=D(tn),me=g(tn,"SELECT",{class:!0});var cn=w(me);for(let at=0;at<Ne.length;at+=1)Ne[at].l(cn);cn.forEach(v),tn.forEach(v),Fe=D(zt),Te=g(zt,"DIV",{class:!0});var Qt=w(Te);fe=g(Qt,"LABEL",{class:!0,"data-svelte-h":!0}),$(fe)!=="svelte-1yci98e"&&(fe.textContent=De),ae=D(Qt),Ve=g(Qt,"DIV",{class:!0});var Kn=w(Ve);for(let at=0;at<vt.length;at+=1)vt[at].l(Kn);Kn.forEach(v),Qt.forEach(v),rt=D(zt),be=g(zt,"DIV",{class:!0});var Zt=w(be);pe=g(Zt,"LABEL",{class:!0,"data-svelte-h":!0}),$(pe)!=="svelte-d73llc"&&(pe.textContent=ie),Ae=D(Zt),lt=g(Zt,"SELECT",{class:!0});var jt=w(lt);for(let at=0;at<ge.length;at+=1)ge[at].l(jt);jt.forEach(v),Zt.forEach(v),gt=D(zt),ze=g(zt,"BUTTON",{type:!0,class:!0,"aria-expanded":!0});var Dt=w(ze);Ee(we.$$.fragment,Dt),He=D(Dt),Xe=g(Dt,"SPAN",{"data-svelte-h":!0}),$(Xe)!=="svelte-1sd8g1q"&&(Xe.textContent=st),Dt.forEach(v),St=D(zt),je&&je.l(zt),zt.forEach(v),It.forEach(v),ht=D(Oe),dt&&dt.l(Oe),Oe.forEach(v),this.h()},h:function(){d(l,"class","header-icon svelte-1ky0rb1"),p(l,Me,155,4,3789),d(a,"class","svelte-1ky0rb1"),p(a,Me,159,6,3907),d(f,"class","svelte-1ky0rb1"),p(f,Me,160,6,3953),d(o,"class","header-text svelte-1ky0rb1"),p(o,Me,158,4,3875),d(t,"class","panel-header svelte-1ky0rb1"),p(t,Me,154,2,3758),p(C,Me,178,8,4448),d(I,"class","section-header svelte-1ky0rb1"),p(I,Me,176,6,4366),d(z,"class","compact-label svelte-1ky0rb1"),p(z,Me,183,8,4565),O.__value="",Yt(O,O.__value),O.disabled=!0,p(O,Me,192,10,4899),d(q,"class","compact-select svelte-1ky0rb1"),p(q,Me,184,8,4616),d(V,"class","compact-group svelte-1ky0rb1"),p(V,Me,182,6,4529),d(B,"class","oracle-types svelte-1ky0rb1"),p(B,Me,236,6,6437),d(y,"class","column oracle-column svelte-1ky0rb1"),p(y,Me,175,4,4325),p(se,Me,256,8,7138),d(te,"class","section-header svelte-1ky0rb1"),p(te,Me,254,6,7053),d(G,"class","compact-label svelte-1ky0rb1"),p(G,Me,261,8,7265),d(me,"class","compact-select small svelte-1ky0rb1"),p(me,Me,262,8,7321),d(W,"class","compact-group inline-group svelte-1ky0rb1"),p(W,Me,260,6,7216),d(fe,"class","compact-label svelte-1ky0rb1"),p(fe,Me,275,8,7732),d(Ve,"class","preset-buttons svelte-1ky0rb1"),p(Ve,Me,276,8,7789),d(Te,"class","compact-group svelte-1ky0rb1"),p(Te,Me,274,6,7696),d(pe,"class","compact-label svelte-1ky0rb1"),p(pe,Me,292,8,8292),d(lt,"class","compact-select small svelte-1ky0rb1"),p(lt,Me,293,8,8345),d(be,"class","compact-group inline-group svelte-1ky0rb1"),p(be,Me,291,6,8243),p(Xe,Me,312,8,8980),d(ze,"type","button"),d(ze,"class","advanced-toggle svelte-1ky0rb1"),d(ze,"aria-expanded",n[4]),p(ze,Me,305,6,8729),d(Z,"class","column config-column svelte-1ky0rb1"),p(Z,Me,253,4,7012),d(k,"class","two-column-layout svelte-1ky0rb1"),p(k,Me,173,2,4246),d(e,"class","oracle-config-panel svelte-1ky0rb1"),d(e,"data-testid","oracle-config-panel"),p(e,Me,153,0,3688)},m:function(oe,Oe){Q(oe,e,Oe),c(e,t),c(t,l),Ce(i,l,null),c(t,s),c(t,o),c(o,a),c(o,u),c(o,f),c(e,m),We&&We.m(e,null),c(e,b),c(e,k),c(k,y),c(y,I),Ce(E,I,null),c(I,S),c(I,C),c(y,A),c(y,V),c(V,z),c(V,N),c(V,q),c(q,O);for(let Ke=0;Ke<xe.length;Ke+=1)xe[Ke]&&xe[Ke].m(q,null);yn(q,n[0]?.id||""),c(y,K),Ze&&Ze.m(y,null),c(y,F),Ue&&Ue.m(y,null),c(y,Y),c(y,B);for(let Ke=0;Ke<ft.length;Ke+=1)ft[Ke]&&ft[Ke].m(B,null);c(k,x),c(k,Z),c(Z,te),Ce(X,te,null),c(te,ne),c(te,se),c(Z,ue),c(Z,W),c(W,G),c(W,ve),c(W,me);for(let Ke=0;Ke<Ne.length;Ke+=1)Ne[Ke]&&Ne[Ke].m(me,null);yn(me,n[1].maxRounds),c(Z,Fe),c(Z,Te),c(Te,fe),c(Te,ae),c(Te,Ve);for(let Ke=0;Ke<vt.length;Ke+=1)vt[Ke]&&vt[Ke].m(Ve,null);c(Z,rt),c(Z,be),c(be,pe),c(be,Ae),c(be,lt);for(let Ke=0;Ke<ge.length;Ke+=1)ge[Ke]&&ge[Ke].m(lt,null);yn(lt,n[1].timeoutMinutes),c(Z,gt),c(Z,ze),Ce(we,ze,null),c(ze,He),c(ze,Xe),c(Z,St),je&&je.m(Z,null),c(e,ht),dt&&dt.m(e,null),bt=!0,tt||(mt=[Re(q,"change",n[15],!1,!1,!1,!1),Re(me,"change",n[18],!1,!1,!1,!1),Re(lt,"change",n[20],!1,!1,!1,!1),Re(ze,"click",n[21],!1,!1,!1,!1)],tt=!0)},p:function(oe,Oe){if(oe[2].length>0?We?(We.p(oe,Oe),Oe[0]&4&&J(We,1)):(We=to(oe),We.c(),J(We,1),We.m(e,b)):We&&(ct(),ee(We,1,1,()=>{We=null}),ut()),Oe[0]&64){pt=Je(oe[6]);let re;for(re=0;re<pt.length;re+=1){const ot=Ia(oe,pt,re);xe[re]?xe[re].p(ot,Oe):(xe[re]=so(ot),xe[re].c(),xe[re].m(q,null))}for(;re<xe.length;re+=1)xe[re].d(1);xe.length=pt.length}if((!bt||Oe[0]&65&&j!==(j=oe[0]?.id||""))&&yn(q,oe[0]?.id||""),oe[0]&&(oe[0].type==="llm"||oe[0].type==="hybrid")?Ze?Ze.p(oe,Oe):(Ze=lo(oe),Ze.c(),Ze.m(y,F)):Ze&&(Ze.d(1),Ze=null),oe[0]?Ue?(Ue.p(oe,Oe),Oe[0]&1&&J(Ue,1)):(Ue=io(oe),Ue.c(),J(Ue,1),Ue.m(y,Y)):Ue&&(ct(),ee(Ue,1,1,()=>{Ue=null}),ut()),Oe[0]&2113){et=Je(oe[6]);let re;for(re=0;re<et.length;re+=1){const ot=Ea(oe,et,re);ft[re]?(ft[re].p(ot,Oe),J(ft[re],1)):(ft[re]=oo(ot),ft[re].c(),J(ft[re],1),ft[re].m(B,null))}for(ct(),re=et.length;re<ft.length;re+=1)wt(re);ut()}if(Oe[0]&256){nt=Je(oe[8]);let re;for(re=0;re<nt.length;re+=1){const ot=Ca(oe,nt,re);Ne[re]?Ne[re].p(ot,Oe):(Ne[re]=ao(ot),Ne[re].c(),Ne[re].m(me,null))}for(;re<Ne.length;re+=1)Ne[re].d(1);Ne.length=nt.length}if((!bt||Oe[0]&258&&ke!==(ke=oe[1].maxRounds))&&yn(me,oe[1].maxRounds),Oe[0]&8322){kt=Je(oe[7]);let re;for(re=0;re<kt.length;re+=1){const ot=Sa(oe,kt,re);vt[re]?vt[re].p(ot,Oe):(vt[re]=ro(ot),vt[re].c(),vt[re].m(Ve,null))}for(;re<vt.length;re+=1)vt[re].d(1);vt.length=kt.length}if(Oe[0]&512){it=Je(oe[9]);let re;for(re=0;re<it.length;re+=1){const ot=wa(oe,it,re);ge[re]?ge[re].p(ot,Oe):(ge[re]=co(ot),ge[re].c(),ge[re].m(lt,null))}for(;re<ge.length;re+=1)ge[re].d(1);ge.length=it.length}(!bt||Oe[0]&258&&Ye!==(Ye=oe[1].timeoutMinutes))&&yn(lt,oe[1].timeoutMinutes);const Ke={};Oe[0]&16&&(Ke.name=oe[4]?"chevron-down":"chevron-right"),we.$set(Ke),(!bt||Oe[0]&16)&&d(ze,"aria-expanded",oe[4]),oe[4]?je?(je.p(oe,Oe),Oe[0]&16&&J(je,1)):(je=uo(oe),je.c(),J(je,1),je.m(Z,null)):je&&(ct(),ee(je,1,1,()=>{je=null}),ut()),oe[0]?dt?(dt.p(oe,Oe),Oe[0]&1&&J(dt,1)):(dt=ho(oe),dt.c(),J(dt,1),dt.m(e,null)):dt&&(ct(),ee(dt,1,1,()=>{dt=null}),ut())},i:function(oe){if(!bt){J(i.$$.fragment,oe),J(We),J(E.$$.fragment,oe),J(Ue);for(let Oe=0;Oe<et.length;Oe+=1)J(ft[Oe]);J(X.$$.fragment,oe),J(we.$$.fragment,oe),J(je),J(dt),bt=!0}},o:function(oe){ee(i.$$.fragment,oe),ee(We),ee(E.$$.fragment,oe),ee(Ue),ft=ft.filter(Boolean);for(let Oe=0;Oe<ft.length;Oe+=1)ee(ft[Oe]);ee(X.$$.fragment,oe),ee(we.$$.fragment,oe),ee(je),ee(dt),bt=!1},d:function(oe){oe&&v(e),Se(i),We&&We.d(),Se(E),ln(xe,oe),Ze&&Ze.d(),Ue&&Ue.d(),ln(ft,oe),Se(X),ln(Ne,oe),ln(vt,oe),ln(ge,oe),Se(we),je&&je.d(),dt&&dt.d(),tt=!1,Dn(mt)}};return L("SvelteRegisterBlock",{block:Vt,id:vo.name,type:"component",source:"",ctx:n}),Vt}function mo(n){switch(n){case"llm":return"brain";case"consensus":return"check-circle";case"hybrid":return"refresh-cw";default:return"cpu"}}function po(n){switch(n){case"llm":return"rgba(88, 166, 255, 0.9)";case"consensus":return"rgba(63, 185, 80, 0.9)";case"hybrid":return"rgba(78, 205, 196, 0.9)";default:return"rgba(139, 92, 246, 0.9)"}}function Su(n,e,t){let l,i,{$$slots:s={},$$scope:o}=e;en("OracleConfigPanel",s,[]);let{selectedOracle:a=null}=e,{participants:r=[]}=e,{config:u}=e,{errors:f=[]}=e;const h=an();let m=!1;const b=[{id:"consensus-oracle-1",name:"Consensus Oracle",type:"consensus",config:{threshold:.8,method:"weighted_voting"},estimatedCostPerRound:.005},{id:"gpt4-oracle-1",name:"LLM Oracle (Analyst)",type:"llm",config:{model:"gpt-4",temperature:.3},estimatedCostPerRound:.02},{id:"claude-oracle-1",name:"LLM Oracle (Architect)",type:"llm",config:{model:"claude-3-sonnet",temperature:.2},estimatedCostPerRound:.015},{id:"hybrid-oracle-1",name:"Hybrid Oracle",type:"hybrid",config:{llm_weight:.6,consensus_weight:.4},estimatedCostPerRound:.012}];let k=.3;const y=[{value:.7,label:"70%"},{value:.8,label:"80%"},{value:.9,label:"90%"}],I=[3,5,7,10,15,20],E=[{value:15,label:"15 min"},{value:30,label:"30 min"},{value:60,label:"1 hr"},{value:120,label:"2 hr"},{value:240,label:"4 hr"},{value:480,label:"8 hr"}],S=[{value:15e3,label:"15s"},{value:3e4,label:"30s"},{value:6e4,label:"1m"},{value:3e5,label:"5m"},{value:0,label:"Off"}];function C(B){t(0,a=B),B.config.temperature!==void 0&&t(3,k=B.config.temperature),h("oracleChange",B)}function P(B){if(t(3,k=B),a){const x={...a,config:{...a.config,temperature:B}};t(0,a=x),h("oracleChange",x)}}function A(B,x){const Z={...u,[B]:x};t(1,u=Z),h("configChange",Z)}function V(B){const x=r.filter(te=>te.type==="ai").length,Z=r.filter(te=>te.type==="human").length;switch(B.type){case"consensus":return Math.min(.9,.6+r.length*.05);case"llm":return Math.min(.95,.7+x*.1);case"hybrid":return Math.min(.9,.8+Math.min(x,Z)*.05);default:return .5}}n.$$.on_mount.push(function(){u===void 0&&("config"in e||n.$$.bound[n.$$.props.config])});const z=["selectedOracle","participants","config","errors"];Object.keys(e).forEach(B=>{!~z.indexOf(B)&&B.slice(0,2)});const T=B=>{const x=l.find(Z=>Z.id===B.currentTarget.value);x&&C(x)},N=B=>P(parseFloat(B.currentTarget.value)),q=B=>C(B),O=B=>A("maxRounds",parseInt(B.currentTarget.value)),M=B=>A("convergenceThreshold",B.value),j=B=>A("timeoutMinutes",parseInt(B.currentTarget.value)),K=()=>t(4,m=!m),F=B=>A("allowHumanIntervention",B.currentTarget.checked),Y=B=>A("autoSaveInterval",parseInt(B.currentTarget.value));return n.$$set=B=>{"selectedOracle"in B&&t(0,a=B.selectedOracle),"participants"in B&&t(14,r=B.participants),"config"in B&&t(1,u=B.config),"errors"in B&&t(2,f=B.errors)},n.$capture_state=()=>({createEventDispatcher:an,slide:Tl,Icon:Ge,selectedOracle:a,participants:r,config:u,errors:f,dispatch:h,showAdvanced:m,availableOracles:b,oracleTemperature:k,convergencePresets:y,maxRoundsOptions:I,timeoutOptions:E,autoSaveOptions:S,handleOracleSelect:C,handleTemperatureChange:P,updateConfig:A,getCompatibilityScore:V,getOracleIcon:mo,getOracleAccent:po,temperatureLabel:i,sortedOracles:l}),n.$inject_state=B=>{"selectedOracle"in B&&t(0,a=B.selectedOracle),"participants"in B&&t(14,r=B.participants),"config"in B&&t(1,u=B.config),"errors"in B&&t(2,f=B.errors),"showAdvanced"in B&&t(4,m=B.showAdvanced),"oracleTemperature"in B&&t(3,k=B.oracleTemperature),"temperatureLabel"in B&&t(5,i=B.temperatureLabel),"sortedOracles"in B&&t(6,l=B.sortedOracles)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty[0]&8&&t(5,i=k<=.3?"Precise":k>=.7?"Creative":"Balanced")},t(6,l=b.map(B=>({...B,compatibility:V(B)})).sort((B,x)=>x.compatibility-B.compatibility)),[a,u,f,k,m,i,l,y,I,E,S,C,P,A,r,T,N,q,O,M,j,K,F,Y]}class yc extends $t{constructor(e){super(e),xt(this,e,Su,vo,Jt,{selectedOracle:0,participants:14,config:1,errors:2},null,[-1,-1]),L("SvelteRegisterComponent",{component:this,tagName:"OracleConfigPanel",options:e,id:vo.name})}get selectedOracle(){throw new Error("<OracleConfigPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set selectedOracle(e){throw new Error("<OracleConfigPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get participants(){throw new Error("<OracleConfigPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set participants(e){throw new Error("<OracleConfigPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get config(){throw new Error("<OracleConfigPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set config(e){throw new Error("<OracleConfigPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get errors(){throw new Error("<OracleConfigPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set errors(e){throw new Error("<OracleConfigPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Object:Cu}=gl,de="src/lib/components/forge/SessionReview.svelte";function Da(n,e,t){const l=n.slice();l[9]=e[t];const i=Pc(l[9].avatar);return l[10]=i,l}function Ra(n,e,t){const l=n.slice();return l[13]=e[t],l}function go(n){let e,t,l,i,s,o="Issues Found",a,r,u="Please resolve the following issues before starting your session:",f,h,m;l=new Ge({props:{name:"alert-triangle",size:20},$$inline:!0});let b=Je(n[3]),k=[];for(let I=0;I<b.length;I+=1)k[I]=_o(Ra(n,b,I));const y={c:function(){e=_("div"),t=_("div"),Ie(l.$$.fragment),i=R(),s=_("h3"),s.textContent=o,a=R(),r=_("p"),r.textContent=u,f=R(),h=_("ul");for(let E=0;E<k.length;E+=1)k[E].c();this.h()},l:function(E){e=g(E,"DIV",{class:!0,role:!0});var S=w(e);t=g(S,"DIV",{class:!0});var C=w(t);Ee(l.$$.fragment,C),i=D(C),s=g(C,"H3",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-1ocv15g"&&(s.textContent=o),C.forEach(v),a=D(S),r=g(S,"P",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-s43dsc"&&(r.textContent=u),f=D(S),h=g(S,"UL",{class:!0});var P=w(h);for(let A=0;A<k.length;A+=1)k[A].l(P);P.forEach(v),S.forEach(v),this.h()},h:function(){d(s,"class","svelte-1p7vh86"),p(s,de,45,8,1232),d(t,"class","error-header svelte-1p7vh86"),p(t,de,43,6,1148),d(r,"class","svelte-1p7vh86"),p(r,de,47,6,1273),d(h,"class","error-list svelte-1p7vh86"),p(h,de,48,6,1352),d(e,"class","error-summary svelte-1p7vh86"),d(e,"role","alert"),p(e,de,42,4,1101)},m:function(E,S){Q(E,e,S),c(e,t),Ce(l,t,null),c(t,i),c(t,s),c(e,a),c(e,r),c(e,f),c(e,h);for(let C=0;C<k.length;C+=1)k[C]&&k[C].m(h,null);m=!0},p:function(E,S){if(S&8){b=Je(E[3]);let C;for(C=0;C<b.length;C+=1){const P=Ra(E,b,C);k[C]?k[C].p(P,S):(k[C]=_o(P),k[C].c(),k[C].m(h,null))}for(;C<k.length;C+=1)k[C].d(1);k.length=b.length}},i:function(E){m||(J(l.$$.fragment,E),m=!0)},o:function(E){ee(l.$$.fragment,E),m=!1},d:function(E){E&&v(e),Se(l),ln(k,E)}};return L("SvelteRegisterBlock",{block:y,id:go.name,type:"if",source:"(35:2) {#if hasErrors}",ctx:n}),y}function _o(n){let e,t=n[13]+"",l;const i={c:function(){e=_("li"),l=U(t),this.h()},l:function(o){e=g(o,"LI",{class:!0});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){d(e,"class","svelte-1p7vh86"),p(e,de,50,10,1421)},m:function(o,a){Q(o,e,a),c(e,l)},p:function(o,a){a&8&&t!==(t=o[13]+"")&&le(l,t)},d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:_o.name,type:"each",source:"(43:8) {#each allErrors as error}",ctx:n}),i}function wc(n){let e,t=n[9].name.charAt(0).toUpperCase()+"",l;const i={c:function(){e=_("span"),l=U(t),this.h()},l:function(o){e=g(o,"SPAN",{class:!0});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){d(e,"class","avatar-letter svelte-1p7vh86"),p(e,de,102,18,3233)},m:function(o,a){Q(o,e,a),c(e,l)},p:function(o,a){a&1&&t!==(t=o[9].name.charAt(0).toUpperCase()+"")&&le(l,t)},d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:wc.name,type:"else",source:"(95:16) {:else}",ctx:n}),i}function Sc(n){let e,t=n[10].emoji+"",l;const i={c:function(){e=_("span"),l=U(t),this.h()},l:function(o){e=g(o,"SPAN",{class:!0});var a=w(e);l=H(a,t),a.forEach(v),this.h()},h:function(){d(e,"class","avatar-emoji svelte-1p7vh86"),p(e,de,100,18,3142)},m:function(o,a){Q(o,e,a),c(e,l)},p:function(o,a){a&1&&t!==(t=o[10].emoji+"")&&le(l,t)},d:function(o){o&&v(e)}};return L("SvelteRegisterBlock",{block:i,id:Sc.name,type:"if",source:"(93:39) ",ctx:n}),i}function Cc(n){let e,t,l,i;function s(){return n[8](n[9])}const o={c:function(){e=_("img"),this.h()},l:function(r){e=g(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Mn(e.src,t=n[10].src)||d(e,"src",t),d(e,"alt",""),d(e,"class","svelte-1p7vh86"),p(e,de,94,18,2924)},m:function(r,u){Q(r,e,u),l||(i=Re(e,"error",s,!1,!1,!1,!1),l=!0)},p:function(r,u){n=r,u&1&&!Mn(e.src,t=n[10].src)&&d(e,"src",t)},d:function(r){r&&v(e),l=!1,i()}};return L("SvelteRegisterBlock",{block:o,id:Cc.name,type:"if",source:"(87:16) {#if avatar.src && !brokenAvatarIds.has(participant.id)}",ctx:n}),o}function bo(n){let e,t,l=n[9].estimatedCostPerRound.toFixed(4)+"",i,s;const o={c:function(){e=_("span"),t=U("$"),i=U(l),s=U("/round"),this.h()},l:function(r){e=g(r,"SPAN",{class:!0});var u=w(e);t=H(u,"$"),i=H(u,l),s=H(u,"/round"),u.forEach(v),this.h()},h:function(){d(e,"class","cost-badge svelte-1p7vh86"),p(e,de,113,20,3826)},m:function(r,u){Q(r,e,u),c(e,t),c(e,i),c(e,s)},p:function(r,u){u&1&&l!==(l=r[9].estimatedCostPerRound.toFixed(4)+"")&&le(i,l)},d:function(r){r&&v(e)}};return L("SvelteRegisterBlock",{block:o,id:bo.name,type:"if",source:"(106:18) {#if participant.estimatedCostPerRound}",ctx:n}),o}function ko(n){let e,t,l,i,s,o,a=n[9].name+"",r,u,f,h=n[9].role+"",m,b,k,y,I=n[9].type.toUpperCase()+"",E,S,C,P;function A(q,O){return O&5&&(l=null),l==null&&(l=!!(q[10].src&&!q[2].has(q[9].id))),l?Cc:q[10].emoji?Sc:wc}let V=A(n,-1),z=V(n),T=n[9].estimatedCostPerRound&&bo(n);const N={c:function(){e=_("div"),t=_("div"),z.c(),i=R(),s=_("div"),o=_("div"),r=U(a),u=R(),f=_("div"),m=U(h),b=R(),k=_("div"),y=_("span"),E=U(I),S=R(),T&&T.c(),C=R(),this.h()},l:function(O){e=g(O,"DIV",{class:!0,"data-testid":!0});var M=w(e);t=g(M,"DIV",{class:!0});var j=w(t);z.l(j),j.forEach(v),i=D(M),s=g(M,"DIV",{class:!0});var K=w(s);o=g(K,"DIV",{class:!0});var F=w(o);r=H(F,a),F.forEach(v),u=D(K),f=g(K,"DIV",{class:!0});var Y=w(f);m=H(Y,h),Y.forEach(v),b=D(K),k=g(K,"DIV",{class:!0});var B=w(k);y=g(B,"SPAN",{class:!0});var x=w(y);E=H(x,I),x.forEach(v),S=D(B),T&&T.l(B),B.forEach(v),K.forEach(v),C=D(M),M.forEach(v),this.h()},h:function(){d(t,"class","participant-avatar svelte-1p7vh86"),Pe(t,"ai",n[9].type==="ai"),p(t,de,92,14,2763),d(o,"class","participant-name svelte-1p7vh86"),p(o,de,106,16,3415),d(f,"class","participant-role svelte-1p7vh86"),p(f,de,107,16,3486),d(y,"class","type-badge svelte-1p7vh86"),Pe(y,"ai",n[9].type==="ai"),p(y,de,109,18,3606),d(k,"class","participant-meta svelte-1p7vh86"),p(k,de,108,16,3557),d(s,"class","participant-info svelte-1p7vh86"),p(s,de,105,14,3368),d(e,"class","participant-card svelte-1p7vh86"),d(e,"data-testid",P="participant-"+n[9].id),p(e,de,91,12,2675)},m:function(O,M){Q(O,e,M),c(e,t),z.m(t,null),c(e,i),c(e,s),c(s,o),c(o,r),c(s,u),c(s,f),c(f,m),c(s,b),c(s,k),c(k,y),c(y,E),c(k,S),T&&T.m(k,null),c(e,C)},p:function(O,M){V===(V=A(O,M))&&z?z.p(O,M):(z.d(1),z=V(O),z&&(z.c(),z.m(t,null))),M&1&&Pe(t,"ai",O[9].type==="ai"),M&1&&a!==(a=O[9].name+"")&&le(r,a),M&1&&h!==(h=O[9].role+"")&&le(m,h),M&1&&I!==(I=O[9].type.toUpperCase()+"")&&le(E,I),M&1&&Pe(y,"ai",O[9].type==="ai"),O[9].estimatedCostPerRound?T?T.p(O,M):(T=bo(O),T.c(),T.m(k,null)):T&&(T.d(1),T=null),M&1&&P!==(P="participant-"+O[9].id)&&d(e,"data-testid",P)},d:function(O){O&&v(e),z.d(),T&&T.d()}};return L("SvelteRegisterBlock",{block:N,id:ko.name,type:"each",source:"(83:10) {#each draft.participants as participant}",ctx:n}),N}function Ec(n){let e,t="No oracle selected";const l={c:function(){e=_("div"),e.textContent=t,this.h()},l:function(s){e=g(s,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-8q5abq"&&(e.textContent=t),this.h()},h:function(){d(e,"class","empty-state svelte-1p7vh86"),p(e,de,149,10,5135)},m:function(s,o){Q(s,e,o)},p:$e,d:function(s){s&&v(e)}};return L("SvelteRegisterBlock",{block:l,id:Ec.name,type:"else",source:"(142:8) {:else}",ctx:n}),l}function Ic(n){let e,t,l,i=n[0].oracle.name+"",s,o,a,r=n[0].oracle.type+"",u,f,h,m=n[0].oracle.config&&Object.keys(n[0].oracle.config).length>0,b=n[0].oracle.estimatedCostPerRound&&yo(n),k=m&&wo(n);const y={c:function(){e=_("div"),t=_("div"),l=_("div"),s=U(i),o=R(),a=_("div"),u=U(r),f=R(),b&&b.c(),h=R(),k&&k.c(),this.h()},l:function(E){e=g(E,"DIV",{class:!0});var S=w(e);t=g(S,"DIV",{class:!0});var C=w(t);l=g(C,"DIV",{class:!0});var P=w(l);s=H(P,i),P.forEach(v),o=D(C),a=g(C,"DIV",{class:!0});var A=w(a);u=H(A,r),A.forEach(v),f=D(C),b&&b.l(C),C.forEach(v),h=D(S),k&&k.l(S),S.forEach(v),this.h()},h:function(){d(l,"class","oracle-name svelte-1p7vh86"),p(l,de,135,14,4441),d(a,"class","oracle-type svelte-1p7vh86"),p(a,de,136,14,4506),d(t,"class","oracle-main svelte-1p7vh86"),p(t,de,134,12,4401),d(e,"class","oracle-card svelte-1p7vh86"),p(e,de,133,10,4363)},m:function(E,S){Q(E,e,S),c(e,t),c(t,l),c(l,s),c(t,o),c(t,a),c(a,u),c(t,f),b&&b.m(t,null),c(e,h),k&&k.m(e,null)},p:function(E,S){S&1&&i!==(i=E[0].oracle.name+"")&&le(s,i),S&1&&r!==(r=E[0].oracle.type+"")&&le(u,r),E[0].oracle.estimatedCostPerRound?b?b.p(E,S):(b=yo(E),b.c(),b.m(t,null)):b&&(b.d(1),b=null),S&1&&(m=E[0].oracle.config&&Object.keys(E[0].oracle.config).length>0),m?k?k.p(E,S):(k=wo(E),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},d:function(E){E&&v(e),b&&b.d(),k&&k.d()}};return L("SvelteRegisterBlock",{block:y,id:Ic.name,type:"if",source:"(126:8) {#if draft.oracle}",ctx:n}),y}function yo(n){let e,t,l=n[0].oracle.estimatedCostPerRound.toFixed(4)+"",i,s;const o={c:function(){e=_("div"),t=U("$"),i=U(l),s=U("/round"),this.h()},l:function(r){e=g(r,"DIV",{class:!0});var u=w(e);t=H(u,"$"),i=H(u,l),s=H(u,"/round"),u.forEach(v),this.h()},h:function(){d(e,"class","oracle-cost svelte-1p7vh86"),p(e,de,138,16,4628)},m:function(r,u){Q(r,e,u),c(e,t),c(e,i),c(e,s)},p:function(r,u){u&1&&l!==(l=r[0].oracle.estimatedCostPerRound.toFixed(4)+"")&&le(i,l)},d:function(r){r&&v(e)}};return L("SvelteRegisterBlock",{block:o,id:yo.name,type:"if",source:"(131:14) {#if draft.oracle.estimatedCostPerRound}",ctx:n}),o}function wo(n){let e,t,l="Configuration",i,s,o=JSON.stringify(n[0].oracle.config,null,2)+"",a;const r={c:function(){e=_("details"),t=_("summary"),t.textContent=l,i=R(),s=_("pre"),a=U(o),this.h()},l:function(f){e=g(f,"DETAILS",{class:!0});var h=w(e);t=g(h,"SUMMARY",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1l9ghmw"&&(t.textContent=l),i=D(h),s=g(h,"PRE",{class:!0});var m=w(s);a=H(m,o),m.forEach(v),h.forEach(v),this.h()},h:function(){d(t,"class","config-toggle svelte-1p7vh86"),p(t,de,143,16,4900),d(s,"class","config-code svelte-1p7vh86"),p(s,de,144,16,4971),d(e,"class","oracle-config svelte-1p7vh86"),p(e,de,142,14,4852)},m:function(f,h){Q(f,e,h),c(e,t),c(e,i),c(e,s),c(s,a)},p:function(f,h){h&1&&o!==(o=JSON.stringify(f[0].oracle.config,null,2)+"")&&le(a,o)},d:function(f){f&&v(e)}};return L("SvelteRegisterBlock",{block:r,id:wo.name,type:"if",source:"(135:12) {#if draft.oracle.config && Object.keys(draft.oracle.config).length > 0}",ctx:n}),r}function So(n){let e,t,l,i="Review & Start Session",s,o,a="Review your session configuration before starting the deliberation. Make sure all details are correct.",r,u,f,h,m,b,k,y="ðŸ“‹",I,E,S="Session Details",C,P,A,V,z="Session Name",T,N,q=(n[0].name||"Untitled Session")+"",O,M,j,K,F="Goal",Y,B,x,Z,te,X,ne,se,_e="ðŸ‘¥",ue,W,G,he=n[0].participants.length+"",ve,me,ke,Fe,Te,fe,De,ae,Ve,rt,be="ðŸ§ ",pe,ie,Ae="Oracle",lt,Ye,gt,ze,we,He,Xe,st="âš™ï¸",St,ht,bt="Session Configuration",tt,mt,We,pt,xe,Ze="Maximum Rounds:",Ue,et,ft=n[0].config.maxRounds+"",wt,nt,Ne,kt,vt="Convergence Threshold:",it,ge,je=(n[0].config.convergenceThreshold*100).toFixed(0)+"",dt,Vt,qe,oe,Oe,Ke="Human Intervention:",re,ot,It=n[0].config.allowHumanIntervention?"Allowed":"Disabled",At,Xt,Mt,Pt,Sn="Auto-save Interval:",zt,Ct,tn=n[0].config.autoSaveInterval/1e3+"",cn,Qt,Kn,Zt,jt,Dt="Timeout:",at,zn,Tt=n[0].config.timeoutMinutes+"",Le,Et,Vn,pn,Fn,gn,Tn,hn="ðŸ’°",xn,Cn,as="Cost Estimate",vs,nn,un,_n,En,Ss="Estimated Total Cost:",Wn,In,Hn,es=n[1].estimated.toFixed(4)+"",rs,ts,bn,Nn,cs="Cost per Round:",ns,Bn,_l,Cs=n[1].perRound.toFixed(4)+"",Ds,bl,Yn,ss,To="Maximum Possible Cost:",kl,ls,yl,Es=n[1].maximum.toFixed(4)+"",Rs,wl,Jn,is,No="ðŸ’¡",Sl,us,Bo="Estimated cost assumes ~70% of maximum rounds. Actual cost may vary based on convergence.",vn,Kt=n[4]&&go(n),ms=Je(n[0].participants),rn=[];for(let kn=0;kn<ms.length;kn+=1)rn[kn]=ko(Da(n,ms,kn));function jo(kn,yt){return kn[0].oracle?Ic:Ec}let Vs=jo(n),jn=Vs(n);const Oo={c:function(){e=_("div"),t=_("div"),l=_("h2"),l.textContent=i,s=R(),o=_("p"),o.textContent=a,r=R(),Kt&&Kt.c(),u=R(),f=_("div"),h=_("section"),m=_("div"),b=_("div"),k=_("span"),k.textContent=y,I=R(),E=_("h3"),E.textContent=S,C=R(),P=_("div"),A=_("div"),V=_("span"),V.textContent=z,T=R(),N=_("span"),O=U(q),M=R(),j=_("div"),K=_("span"),K.textContent=F,Y=R(),B=_("div"),x=new hs(!1),Z=R(),te=_("section"),X=_("div"),ne=_("div"),se=_("span"),se.textContent=_e,ue=R(),W=_("h3"),G=U("Participants ("),ve=U(he),me=U(")"),ke=R(),Fe=_("div"),Te=_("div");for(let yt=0;yt<rn.length;yt+=1)rn[yt].c();fe=R(),De=_("section"),ae=_("div"),Ve=_("div"),rt=_("span"),rt.textContent=be,pe=R(),ie=_("h3"),ie.textContent=Ae,lt=R(),Ye=_("div"),jn.c(),gt=R(),ze=_("section"),we=_("div"),He=_("div"),Xe=_("span"),Xe.textContent=st,St=R(),ht=_("h3"),ht.textContent=bt,tt=R(),mt=_("div"),We=_("div"),pt=_("div"),xe=_("span"),xe.textContent=Ze,Ue=R(),et=_("span"),wt=U(ft),nt=R(),Ne=_("div"),kt=_("span"),kt.textContent=vt,it=R(),ge=_("span"),dt=U(je),Vt=U("%"),qe=R(),oe=_("div"),Oe=_("span"),Oe.textContent=Ke,re=R(),ot=_("span"),At=U(It),Xt=R(),Mt=_("div"),Pt=_("span"),Pt.textContent=Sn,zt=R(),Ct=_("span"),cn=U(tn),Qt=U("s"),Kn=R(),Zt=_("div"),jt=_("span"),jt.textContent=Dt,at=R(),zn=_("span"),Le=U(Tt),Et=U(" minutes"),Vn=R(),pn=_("section"),Fn=_("div"),gn=_("div"),Tn=_("span"),Tn.textContent=hn,xn=R(),Cn=_("h3"),Cn.textContent=as,vs=R(),nn=_("div"),un=_("div"),_n=_("div"),En=_("span"),En.textContent=Ss,Wn=R(),In=_("span"),Hn=U("$"),rs=U(es),ts=R(),bn=_("div"),Nn=_("span"),Nn.textContent=cs,ns=R(),Bn=_("span"),_l=U("$"),Ds=U(Cs),bl=R(),Yn=_("div"),ss=_("span"),ss.textContent=To,kl=R(),ls=_("span"),yl=U("$"),Rs=U(Es),wl=R(),Jn=_("div"),is=_("span"),is.textContent=No,Sl=R(),us=_("span"),us.textContent=Bo,this.h()},l:function(yt){e=g(yt,"DIV",{class:!0,"data-testid":!0});var Nt=w(e);t=g(Nt,"DIV",{class:!0});var Lt=w(t);l=g(Lt,"H2",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-1l619mw"&&(l.textContent=i),s=D(Lt),o=g(Lt,"P",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-17zrgv9"&&(o.textContent=a),Lt.forEach(v),r=D(Nt),Kt&&Kt.l(Nt),u=D(Nt),f=g(Nt,"DIV",{class:!0});var Pn=w(f);h=g(Pn,"SECTION",{class:!0});var As=w(h);m=g(As,"DIV",{class:!0});var qo=w(m);b=g(qo,"DIV",{class:!0});var Ms=w(b);k=g(Ms,"SPAN",{class:!0,"data-svelte-h":!0}),$(k)!=="svelte-bgh96c"&&(k.textContent=y),I=D(Ms),E=g(Ms,"H3",{class:!0,"data-svelte-h":!0}),$(E)!=="svelte-1buxelo"&&(E.textContent=S),Ms.forEach(v),qo.forEach(v),C=D(As),P=g(As,"DIV",{class:!0});var zs=w(P);A=g(zs,"DIV",{class:!0});var Ts=w(A);V=g(Ts,"SPAN",{class:!0,"data-svelte-h":!0}),$(V)!=="svelte-10ekjxe"&&(V.textContent=z),T=D(Ts),N=g(Ts,"SPAN",{class:!0});var Go=w(N);O=H(Go,q),Go.forEach(v),Ts.forEach(v),M=D(zs),j=g(zs,"DIV",{class:!0});var Ns=w(j);K=g(Ns,"SPAN",{class:!0,"data-svelte-h":!0}),$(K)!=="svelte-9jyqky"&&(K.textContent=F),Y=D(Ns),B=g(Ns,"DIV",{class:!0});var Lo=w(B);x=ds(Lo,!1),Lo.forEach(v),Ns.forEach(v),zs.forEach(v),As.forEach(v),Z=D(Pn),te=g(Pn,"SECTION",{class:!0});var Bs=w(te);X=g(Bs,"DIV",{class:!0});var Fo=w(X);ne=g(Fo,"DIV",{class:!0});var js=w(ne);se=g(js,"SPAN",{class:!0,"data-svelte-h":!0}),$(se)!=="svelte-r7jz5u"&&(se.textContent=_e),ue=D(js),W=g(js,"H3",{class:!0});var Os=w(W);G=H(Os,"Participants ("),ve=H(Os,he),me=H(Os,")"),Os.forEach(v),js.forEach(v),Fo.forEach(v),ke=D(Bs),Fe=g(Bs,"DIV",{class:!0});var Wo=w(Fe);Te=g(Wo,"DIV",{class:!0});var Ho=w(Te);for(let Vl=0;Vl<rn.length;Vl+=1)rn[Vl].l(Ho);Ho.forEach(v),Wo.forEach(v),Bs.forEach(v),fe=D(Pn),De=g(Pn,"SECTION",{class:!0});var qs=w(De);ae=g(qs,"DIV",{class:!0});var Uo=w(ae);Ve=g(Uo,"DIV",{class:!0});var Gs=w(Ve);rt=g(Gs,"SPAN",{class:!0,"data-svelte-h":!0}),$(rt)!=="svelte-ydzpb6"&&(rt.textContent=be),pe=D(Gs),ie=g(Gs,"H3",{class:!0,"data-svelte-h":!0}),$(ie)!=="svelte-180em3i"&&(ie.textContent=Ae),Gs.forEach(v),Uo.forEach(v),lt=D(qs),Ye=g(qs,"DIV",{class:!0});var Qo=w(Ye);jn.l(Qo),Qo.forEach(v),qs.forEach(v),gt=D(Pn),ze=g(Pn,"SECTION",{class:!0});var Ls=w(ze);we=g(Ls,"DIV",{class:!0});var Ko=w(we);He=g(Ko,"DIV",{class:!0});var Fs=w(He);Xe=g(Fs,"SPAN",{class:!0,"data-svelte-h":!0}),$(Xe)!=="svelte-fv29w4"&&(Xe.textContent=st),St=D(Fs),ht=g(Fs,"H3",{class:!0,"data-svelte-h":!0}),$(ht)!=="svelte-9iw9qk"&&(ht.textContent=bt),Fs.forEach(v),Ko.forEach(v),tt=D(Ls),mt=g(Ls,"DIV",{class:!0});var Yo=w(mt);We=g(Yo,"DIV",{class:!0});var Un=w(We);pt=g(Un,"DIV",{class:!0});var Ws=w(pt);xe=g(Ws,"SPAN",{class:!0,"data-svelte-h":!0}),$(xe)!=="svelte-1hhq7ol"&&(xe.textContent=Ze),Ue=D(Ws),et=g(Ws,"SPAN",{class:!0});var Jo=w(et);wt=H(Jo,ft),Jo.forEach(v),Ws.forEach(v),nt=D(Un),Ne=g(Un,"DIV",{class:!0});var Hs=w(Ne);kt=g(Hs,"SPAN",{class:!0,"data-svelte-h":!0}),$(kt)!=="svelte-1dia9ry"&&(kt.textContent=vt),it=D(Hs),ge=g(Hs,"SPAN",{class:!0});var Cl=w(ge);dt=H(Cl,je),Vt=H(Cl,"%"),Cl.forEach(v),Hs.forEach(v),qe=D(Un),oe=g(Un,"DIV",{class:!0});var Us=w(oe);Oe=g(Us,"SPAN",{class:!0,"data-svelte-h":!0}),$(Oe)!=="svelte-em46le"&&(Oe.textContent=Ke),re=D(Us),ot=g(Us,"SPAN",{class:!0});var Xo=w(ot);At=H(Xo,It),Xo.forEach(v),Us.forEach(v),Xt=D(Un),Mt=g(Un,"DIV",{class:!0});var Qs=w(Mt);Pt=g(Qs,"SPAN",{class:!0,"data-svelte-h":!0}),$(Pt)!=="svelte-o2lq18"&&(Pt.textContent=Sn),zt=D(Qs),Ct=g(Qs,"SPAN",{class:!0});var El=w(Ct);cn=H(El,tn),Qt=H(El,"s"),El.forEach(v),Qs.forEach(v),Kn=D(Un),Zt=g(Un,"DIV",{class:!0});var Ks=w(Zt);jt=g(Ks,"SPAN",{class:!0,"data-svelte-h":!0}),$(jt)!=="svelte-bcsw3b"&&(jt.textContent=Dt),at=D(Ks),zn=g(Ks,"SPAN",{class:!0});var Il=w(zn);Le=H(Il,Tt),Et=H(Il," minutes"),Il.forEach(v),Ks.forEach(v),Un.forEach(v),Yo.forEach(v),Ls.forEach(v),Vn=D(Pn),pn=g(Pn,"SECTION",{class:!0});var Ys=w(pn);Fn=g(Ys,"DIV",{class:!0});var Zo=w(Fn);gn=g(Zo,"DIV",{class:!0});var Js=w(gn);Tn=g(Js,"SPAN",{class:!0,"data-svelte-h":!0}),$(Tn)!=="svelte-ji9xab"&&(Tn.textContent=hn),xn=D(Js),Cn=g(Js,"H3",{class:!0,"data-svelte-h":!0}),$(Cn)!=="svelte-1uhse79"&&(Cn.textContent=as),Js.forEach(v),Zo.forEach(v),vs=D(Ys),nn=g(Ys,"DIV",{class:!0});var Xs=w(nn);un=g(Xs,"DIV",{class:!0});var ps=w(un);_n=g(ps,"DIV",{class:!0});var Zs=w(_n);En=g(Zs,"SPAN",{class:!0,"data-svelte-h":!0}),$(En)!=="svelte-1g8ofru"&&(En.textContent=Ss),Wn=D(Zs),In=g(Zs,"SPAN",{class:!0});var Pl=w(In);Hn=H(Pl,"$"),rs=H(Pl,es),Pl.forEach(v),Zs.forEach(v),ts=D(ps),bn=g(ps,"DIV",{class:!0});var $s=w(bn);Nn=g($s,"SPAN",{class:!0,"data-svelte-h":!0}),$(Nn)!=="svelte-14eqzgn"&&(Nn.textContent=cs),ns=D($s),Bn=g($s,"SPAN",{class:!0});var Dl=w(Bn);_l=H(Dl,"$"),Ds=H(Dl,Cs),Dl.forEach(v),$s.forEach(v),bl=D(ps),Yn=g(ps,"DIV",{class:!0});var xs=w(Yn);ss=g(xs,"SPAN",{class:!0,"data-svelte-h":!0}),$(ss)!=="svelte-l5zkdr"&&(ss.textContent=To),kl=D(xs),ls=g(xs,"SPAN",{class:!0});var Rl=w(ls);yl=H(Rl,"$"),Rs=H(Rl,Es),Rl.forEach(v),xs.forEach(v),ps.forEach(v),wl=D(Xs),Jn=g(Xs,"DIV",{class:!0});var el=w(Jn);is=g(el,"SPAN",{class:!0,"data-svelte-h":!0}),$(is)!=="svelte-594cx9"&&(is.textContent=No),Sl=D(el),us=g(el,"SPAN",{"data-svelte-h":!0}),$(us)!=="svelte-1d6h0ah"&&(us.textContent=Bo),el.forEach(v),Xs.forEach(v),Ys.forEach(v),Pn.forEach(v),Nt.forEach(v),this.h()},h:function(){d(l,"class","svelte-1p7vh86"),p(l,de,35,4,884),d(o,"class","review-description svelte-1p7vh86"),p(o,de,36,4,920),d(t,"class","review-header svelte-1p7vh86"),p(t,de,34,2,852),d(k,"class","section-icon svelte-1p7vh86"),p(k,de,61,10,1665),d(E,"class","svelte-1p7vh86"),p(E,de,62,10,1712),d(b,"class","section-title svelte-1p7vh86"),p(b,de,60,8,1627),d(m,"class","section-header svelte-1p7vh86"),p(m,de,59,6,1590),d(V,"class","detail-label svelte-1p7vh86"),p(V,de,67,10,1844),d(N,"class","detail-value svelte-1p7vh86"),p(N,de,68,10,1901),d(A,"class","detail-row svelte-1p7vh86"),p(A,de,66,8,1809),d(K,"class","detail-label svelte-1p7vh86"),p(K,de,71,10,2037),x.a=null,d(B,"class","goal-preview svelte-1p7vh86"),p(B,de,72,10,2086),d(j,"class","detail-row goal-row svelte-1p7vh86"),p(j,de,70,8,1993),d(P,"class","section-content svelte-1p7vh86"),p(P,de,65,6,1771),d(h,"class","review-section svelte-1p7vh86"),p(h,de,58,4,1551),d(se,"class","section-icon svelte-1p7vh86"),p(se,de,83,10,2347),d(W,"class","svelte-1p7vh86"),p(W,de,84,10,2394),d(ne,"class","section-title svelte-1p7vh86"),p(ne,de,82,8,2309),d(X,"class","section-header svelte-1p7vh86"),p(X,de,81,6,2272),d(Te,"class","participant-grid svelte-1p7vh86"),p(Te,de,88,8,2518),d(Fe,"class","section-content svelte-1p7vh86"),p(Fe,de,87,6,2480),d(te,"class","review-section svelte-1p7vh86"),p(te,de,80,4,2233),d(rt,"class","section-icon svelte-1p7vh86"),p(rt,de,127,10,4199),d(ie,"class","svelte-1p7vh86"),p(ie,de,128,10,4246),d(Ve,"class","section-title svelte-1p7vh86"),p(Ve,de,126,8,4161),d(ae,"class","section-header svelte-1p7vh86"),p(ae,de,125,6,4124),d(Ye,"class","section-content svelte-1p7vh86"),p(Ye,de,131,6,4296),d(De,"class","review-section svelte-1p7vh86"),p(De,de,124,4,4085),d(Xe,"class","section-icon svelte-1p7vh86"),p(Xe,de,158,10,5381),d(ht,"class","svelte-1p7vh86"),p(ht,de,159,10,5428),d(He,"class","section-title svelte-1p7vh86"),p(He,de,157,8,5343),d(we,"class","section-header svelte-1p7vh86"),p(we,de,156,6,5306),d(xe,"class","config-label svelte-1p7vh86"),p(xe,de,165,12,5605),d(et,"class","config-value svelte-1p7vh86"),p(et,de,166,12,5667),d(pt,"class","config-item svelte-1p7vh86"),p(pt,de,164,10,5567),d(kt,"class","config-label svelte-1p7vh86"),p(kt,de,169,12,5791),d(ge,"class","config-value svelte-1p7vh86"),p(ge,de,170,12,5860),d(Ne,"class","config-item svelte-1p7vh86"),p(Ne,de,168,10,5753),d(Oe,"class","config-label svelte-1p7vh86"),p(Oe,de,173,12,6015),d(ot,"class","config-value svelte-1p7vh86"),p(ot,de,174,12,6081),d(oe,"class","config-item svelte-1p7vh86"),p(oe,de,172,10,5977),d(Pt,"class","config-label svelte-1p7vh86"),p(Pt,de,177,12,6243),d(Ct,"class","config-value svelte-1p7vh86"),p(Ct,de,178,12,6309),d(Mt,"class","config-item svelte-1p7vh86"),p(Mt,de,176,10,6205),d(jt,"class","config-label svelte-1p7vh86"),p(jt,de,181,12,6448),d(zn,"class","config-value svelte-1p7vh86"),p(zn,de,182,12,6503),d(Zt,"class","config-item svelte-1p7vh86"),p(Zt,de,180,10,6410),d(We,"class","config-grid svelte-1p7vh86"),p(We,de,163,8,5531),d(mt,"class","section-content svelte-1p7vh86"),p(mt,de,162,6,5493),d(ze,"class","review-section svelte-1p7vh86"),p(ze,de,155,4,5267),d(Tn,"class","section-icon svelte-1p7vh86"),p(Tn,de,192,10,6794),d(Cn,"class","svelte-1p7vh86"),p(Cn,de,193,10,6841),d(gn,"class","section-title svelte-1p7vh86"),p(gn,de,191,8,6756),d(Fn,"class","section-header svelte-1p7vh86"),p(Fn,de,190,6,6719),d(En,"class","cost-label svelte-1p7vh86"),p(En,de,199,12,7018),d(In,"class","cost-amount svelte-1p7vh86"),p(In,de,200,12,7084),d(_n,"class","cost-row primary svelte-1p7vh86"),p(_n,de,198,10,6975),d(Nn,"class","cost-label svelte-1p7vh86"),p(Nn,de,203,12,7216),d(Bn,"class","cost-amount svelte-1p7vh86"),p(Bn,de,204,12,7276),d(bn,"class","cost-row svelte-1p7vh86"),p(bn,de,202,10,7181),d(ss,"class","cost-label svelte-1p7vh86"),p(ss,de,207,12,7407),d(ls,"class","cost-amount svelte-1p7vh86"),p(ls,de,208,12,7474),d(Yn,"class","cost-row svelte-1p7vh86"),p(Yn,de,206,10,7372),d(un,"class","cost-breakdown svelte-1p7vh86"),p(un,de,197,8,6936),d(is,"class","note-icon svelte-1p7vh86"),p(is,de,212,10,7616),p(us,de,213,10,7660),d(Jn,"class","cost-note svelte-1p7vh86"),p(Jn,de,211,8,7582),d(nn,"class","section-content svelte-1p7vh86"),p(nn,de,196,6,6898),d(pn,"class","review-section cost-section svelte-1p7vh86"),p(pn,de,189,4,6667),d(f,"class","review-sections svelte-1p7vh86"),p(f,de,56,2,1488),d(e,"class","session-review svelte-1p7vh86"),d(e,"data-testid","session-review"),p(e,de,33,0,792)},m:function(yt,Nt){Q(yt,e,Nt),c(e,t),c(t,l),c(t,s),c(t,o),c(e,r),Kt&&Kt.m(e,null),c(e,u),c(e,f),c(f,h),c(h,m),c(m,b),c(b,k),c(b,I),c(b,E),c(h,C),c(h,P),c(P,A),c(A,V),c(A,T),c(A,N),c(N,O),c(P,M),c(P,j),c(j,K),c(j,Y),c(j,B),x.m(n[5],B),c(f,Z),c(f,te),c(te,X),c(X,ne),c(ne,se),c(ne,ue),c(ne,W),c(W,G),c(W,ve),c(W,me),c(te,ke),c(te,Fe),c(Fe,Te);for(let Lt=0;Lt<rn.length;Lt+=1)rn[Lt]&&rn[Lt].m(Te,null);c(f,fe),c(f,De),c(De,ae),c(ae,Ve),c(Ve,rt),c(Ve,pe),c(Ve,ie),c(De,lt),c(De,Ye),jn.m(Ye,null),c(f,gt),c(f,ze),c(ze,we),c(we,He),c(He,Xe),c(He,St),c(He,ht),c(ze,tt),c(ze,mt),c(mt,We),c(We,pt),c(pt,xe),c(pt,Ue),c(pt,et),c(et,wt),c(We,nt),c(We,Ne),c(Ne,kt),c(Ne,it),c(Ne,ge),c(ge,dt),c(ge,Vt),c(We,qe),c(We,oe),c(oe,Oe),c(oe,re),c(oe,ot),c(ot,At),c(We,Xt),c(We,Mt),c(Mt,Pt),c(Mt,zt),c(Mt,Ct),c(Ct,cn),c(Ct,Qt),c(We,Kn),c(We,Zt),c(Zt,jt),c(Zt,at),c(Zt,zn),c(zn,Le),c(zn,Et),c(f,Vn),c(f,pn),c(pn,Fn),c(Fn,gn),c(gn,Tn),c(gn,xn),c(gn,Cn),c(pn,vs),c(pn,nn),c(nn,un),c(un,_n),c(_n,En),c(_n,Wn),c(_n,In),c(In,Hn),c(In,rs),c(un,ts),c(un,bn),c(bn,Nn),c(bn,ns),c(bn,Bn),c(Bn,_l),c(Bn,Ds),c(un,bl),c(un,Yn),c(Yn,ss),c(Yn,kl),c(Yn,ls),c(ls,yl),c(ls,Rs),c(nn,wl),c(nn,Jn),c(Jn,is),c(Jn,Sl),c(Jn,us),vn=!0},p:function(yt,[Nt]){if(yt[4]?Kt?(Kt.p(yt,Nt),Nt&16&&J(Kt,1)):(Kt=go(yt),Kt.c(),J(Kt,1),Kt.m(e,u)):Kt&&(ct(),ee(Kt,1,1,()=>{Kt=null}),ut()),(!vn||Nt&1)&&q!==(q=(yt[0].name||"Untitled Session")+"")&&le(O,q),(!vn||Nt&32)&&x.p(yt[5]),(!vn||Nt&1)&&he!==(he=yt[0].participants.length+"")&&le(ve,he),Nt&69){ms=Je(yt[0].participants);let Lt;for(Lt=0;Lt<ms.length;Lt+=1){const Pn=Da(yt,ms,Lt);rn[Lt]?rn[Lt].p(Pn,Nt):(rn[Lt]=ko(Pn),rn[Lt].c(),rn[Lt].m(Te,null))}for(;Lt<rn.length;Lt+=1)rn[Lt].d(1);rn.length=ms.length}Vs===(Vs=jo(yt))&&jn?jn.p(yt,Nt):(jn.d(1),jn=Vs(yt),jn&&(jn.c(),jn.m(Ye,null))),(!vn||Nt&1)&&ft!==(ft=yt[0].config.maxRounds+"")&&le(wt,ft),(!vn||Nt&1)&&je!==(je=(yt[0].config.convergenceThreshold*100).toFixed(0)+"")&&le(dt,je),(!vn||Nt&1)&&It!==(It=yt[0].config.allowHumanIntervention?"Allowed":"Disabled")&&le(At,It),(!vn||Nt&1)&&tn!==(tn=yt[0].config.autoSaveInterval/1e3+"")&&le(cn,tn),(!vn||Nt&1)&&Tt!==(Tt=yt[0].config.timeoutMinutes+"")&&le(Le,Tt),(!vn||Nt&2)&&es!==(es=yt[1].estimated.toFixed(4)+"")&&le(rs,es),(!vn||Nt&2)&&Cs!==(Cs=yt[1].perRound.toFixed(4)+"")&&le(Ds,Cs),(!vn||Nt&2)&&Es!==(Es=yt[1].maximum.toFixed(4)+"")&&le(Rs,Es)},i:function(yt){vn||(J(Kt),vn=!0)},o:function(yt){ee(Kt),vn=!1},d:function(yt){yt&&v(e),Kt&&Kt.d(),ln(rn,yt),jn.d()}};return L("SvelteRegisterBlock",{block:Oo,id:So.name,type:"component",source:"",ctx:n}),Oo}function Pc(n){if(!n)return{};if(n.startsWith("asset:")){const e=n.slice(6),[t,l]=e.split("|");return{src:t,emoji:l}}return n.startsWith("/")||n.startsWith("http")?{src:n}:{emoji:n}}function Eu(n,e,t){let l,i,s,{$$slots:o={},$$scope:a}=e;en("SessionReview",o,[]);let{draft:r}=e,{costEstimate:u}=e,{errors:f}=e,h=new Set;function m(y){t(2,h=new Set([...h,y]))}n.$$.on_mount.push(function(){r===void 0&&("draft"in e||n.$$.bound[n.$$.props.draft]),u===void 0&&("costEstimate"in e||n.$$.bound[n.$$.props.costEstimate]),f===void 0&&("errors"in e||n.$$.bound[n.$$.props.errors])});const b=["draft","costEstimate","errors"];Cu.keys(e).forEach(y=>{!~b.indexOf(y)&&y.slice(0,2)});const k=y=>m(y.id);return n.$$set=y=>{"draft"in y&&t(0,r=y.draft),"costEstimate"in y&&t(1,u=y.costEstimate),"errors"in y&&t(7,f=y.errors)},n.$capture_state=()=>({marked:Qn,Icon:Ge,draft:r,costEstimate:u,errors:f,brokenAvatarIds:h,parseAvatar:Pc,markAvatarBroken:m,allErrors:s,hasErrors:i,goalHtml:l}),n.$inject_state=y=>{"draft"in y&&t(0,r=y.draft),"costEstimate"in y&&t(1,u=y.costEstimate),"errors"in y&&t(7,f=y.errors),"brokenAvatarIds"in y&&t(2,h=y.brokenAvatarIds),"allErrors"in y&&t(3,s=y.allErrors),"hasErrors"in y&&t(4,i=y.hasErrors),"goalHtml"in y&&t(5,l=y.goalHtml)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&t(5,l=Qn(r.goal||"")),n.$$.dirty&128&&t(4,i=f.size>0),n.$$.dirty&128&&t(3,s=Array.from(f.values()).flat())},[r,u,h,s,i,l,m,f,k]}class Dc extends $t{constructor(e){super(e),xt(this,e,Eu,So,Jt,{draft:0,costEstimate:1,errors:7}),L("SvelteRegisterComponent",{component:this,tagName:"SessionReview",options:e,id:So.name})}get draft(){throw new Error("<SessionReview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set draft(e){throw new Error("<SessionReview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get costEstimate(){throw new Error("<SessionReview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set costEstimate(e){throw new Error("<SessionReview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get errors(){throw new Error("<SessionReview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set errors(e){throw new Error("<SessionReview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const fs="src/lib/components/ui/StepIndicator.svelte";function Va(n,e,t){const l=n.slice();return l[7]=e[t],l[9]=t,l}function Co(n){let e;const t={c:function(){e=_("div"),this.h()},l:function(i){e=g(i,"DIV",{class:!0,"aria-hidden":!0}),w(e).forEach(v),this.h()},h:function(){d(e,"class","step-connector svelte-8460z9"),d(e,"aria-hidden","true"),p(e,fs,56,10,1586)},m:function(i,s){Q(i,e,s)},d:function(i){i&&v(e)}};return L("SvelteRegisterBlock",{block:t,id:Co.name,type:"if",source:"(46:8) {#if index < steps.length - 1}",ctx:n}),t}function Eo(n){let e,t,l,i,s,o,a=n[7].label+"",r,u,f,h,m,b,k,y;i=new Ge({props:{name:n[4](n[7],n[9]),size:18,glow:n[3](n[9])!=="upcoming"},$$inline:!0});function I(){return n[5](n[9])}let E=n[9]<n[0].length-1&&Co(n);const S={c:function(){e=_("li"),t=_("button"),l=_("span"),Ie(i.$$.fragment),s=R(),o=_("span"),r=U(a),h=R(),E&&E.c(),m=R(),this.h()},l:function(P){e=g(P,"LI",{class:!0});var A=w(e);t=g(A,"BUTTON",{type:!0,class:!0,"aria-current":!0,"data-testid":!0});var V=w(t);l=g(V,"SPAN",{class:!0,"aria-hidden":!0});var z=w(l);Ee(i.$$.fragment,z),z.forEach(v),s=D(V),o=g(V,"SPAN",{class:!0});var T=w(o);r=H(T,a),T.forEach(v),V.forEach(v),h=D(A),E&&E.l(A),m=D(A),A.forEach(v),this.h()},h:function(){d(l,"class","step-icon svelte-8460z9"),d(l,"aria-hidden","true"),p(l,fs,46,10,1242),d(o,"class","step-label svelte-8460z9"),p(o,fs,53,10,1474),d(t,"type","button"),d(t,"class","step-button svelte-8460z9"),t.disabled=u=n[9]>n[1],d(t,"aria-current",f=n[9]===n[1]?"step":!1),d(t,"data-testid","step-"+n[9]),p(t,fs,38,8,968),d(e,"class","step-item svelte-8460z9"),Pe(e,"completed",n[3](n[9])==="completed"),Pe(e,"current",n[3](n[9])==="current"),Pe(e,"upcoming",n[3](n[9])==="upcoming"),p(e,fs,35,6,757)},m:function(P,A){Q(P,e,A),c(e,t),c(t,l),Ce(i,l,null),c(t,s),c(t,o),c(o,r),c(e,h),E&&E.m(e,null),c(e,m),b=!0,k||(y=Re(t,"click",I,!1,!1,!1,!1),k=!0)},p:function(P,A){n=P;const V={};A&1&&(V.name=n[4](n[7],n[9])),i.$set(V),(!b||A&1)&&a!==(a=n[7].label+"")&&le(r,a),(!b||A&2&&u!==(u=n[9]>n[1]))&&mn(t,"disabled",u),(!b||A&2&&f!==(f=n[9]===n[1]?"step":!1))&&d(t,"aria-current",f),n[9]<n[0].length-1?E||(E=Co(n),E.c(),E.m(e,m)):E&&(E.d(1),E=null)},i:function(P){b||(J(i.$$.fragment,P),b=!0)},o:function(P){ee(i.$$.fragment,P),b=!1},d:function(P){P&&v(e),Se(i),E&&E.d(),k=!1,y()}};return L("SvelteRegisterBlock",{block:S,id:Eo.name,type:"each",source:"(25:4) {#each steps as step, index}",ctx:n}),S}function Io(n){let e,t,l,i=Je(n[0]),s=[];for(let r=0;r<i.length;r+=1)s[r]=Eo(Va(n,i,r));const o=r=>ee(s[r],1,1,()=>{s[r]=null}),a={c:function(){e=_("nav"),t=_("ol");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l:function(u){e=g(u,"NAV",{class:!0,"aria-label":!0});var f=w(e);t=g(f,"OL",{class:!0});var h=w(t);for(let m=0;m<s.length;m+=1)s[m].l(h);h.forEach(v),f.forEach(v),this.h()},h:function(){d(t,"class","step-list svelte-8460z9"),p(t,fs,33,2,695),d(e,"class","step-indicator svelte-8460z9"),d(e,"aria-label","Progress through wizard steps"),p(e,fs,32,0,621)},m:function(u,f){Q(u,e,f),c(e,t);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(t,null);l=!0},p:function(u,[f]){if(f&31){i=Je(u[0]);let h;for(h=0;h<i.length;h+=1){const m=Va(u,i,h);s[h]?(s[h].p(m,f),J(s[h],1)):(s[h]=Eo(m),s[h].c(),J(s[h],1),s[h].m(t,null))}for(ct(),h=i.length;h<s.length;h+=1)o(h);ut()}},i:function(u){if(!l){for(let f=0;f<i.length;f+=1)J(s[f]);l=!0}},o:function(u){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)ee(s[f]);l=!1},d:function(u){u&&v(e),ln(s,u)}};return L("SvelteRegisterBlock",{block:a,id:Io.name,type:"component",source:"",ctx:n}),a}function Iu(n,e,t){let{$$slots:l={},$$scope:i}=e;en("StepIndicator",l,[]);let{steps:s=[]}=e,{currentStep:o=0}=e;const a=an();function r(b){b<=o&&a("stepClick",b)}function u(b){return b<o?"completed":b===o?"current":"upcoming"}function f(b,k){return u(k)==="completed"?"check":b.icon}const h=["steps","currentStep"];Object.keys(e).forEach(b=>{!~h.indexOf(b)&&b.slice(0,2)});const m=b=>r(b);return n.$$set=b=>{"steps"in b&&t(0,s=b.steps),"currentStep"in b&&t(1,o=b.currentStep)},n.$capture_state=()=>({createEventDispatcher:an,Icon:Ge,steps:s,currentStep:o,dispatch:a,handleStepClick:r,getStepStatus:u,getStepIcon:f}),n.$inject_state=b=>{"steps"in b&&t(0,s=b.steps),"currentStep"in b&&t(1,o=b.currentStep)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[s,o,r,u,f,m]}class Rc extends $t{constructor(e){super(e),xt(this,e,Iu,Io,Jt,{steps:0,currentStep:1}),L("SvelteRegisterComponent",{component:this,tagName:"StepIndicator",options:e,id:Io.name})}get steps(){throw new Error("<StepIndicator>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set steps(e){throw new Error("<StepIndicator>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get currentStep(){throw new Error("<StepIndicator>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentStep(e){throw new Error("<StepIndicator>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}async function Aa(n,e){const t=[],l=[];return(!e||e==="goal")&&((!n.name||n.name.trim().length<3)&&t.push("Session name must be at least 3 characters"),(!n.goal||n.goal.trim().length<10)&&t.push("Goal description must be at least 10 characters"),n.goal&&n.goal.length>5e3&&t.push("Goal description exceeds maximum length of 5000 characters")),(!e||e==="participants")&&(n.participants.length<2&&t.push("At least 2 participants are required"),n.participants.length>10&&l.push("Having more than 10 participants may increase costs significantly"),new Set(n.participants.map(s=>s.id)).size!==n.participants.length&&t.push("Duplicate participants are not allowed")),(!e||e==="oracle"||e==="oracle-config")&&(n.oracle||t.push("An oracle must be selected"),n.oracle&&n.participants.some(i=>i.id===n.oracle?.id)&&l.push("Oracle is also a participant - this may affect deliberation dynamics")),(!e||e==="config"||e==="oracle-config")&&((n.config.maxRounds<1||n.config.maxRounds>20)&&t.push("Maximum rounds must be between 1 and 20"),(n.config.convergenceThreshold<.5||n.config.convergenceThreshold>1)&&t.push("Convergence threshold must be between 0.5 and 1.0"),(n.config.timeoutMinutes<5||n.config.timeoutMinutes>480)&&t.push("Timeout must be between 5 minutes and 8 hours")),{valid:t.length===0,errors:t,warnings:l}}const{console:Pu}=gl,Rt="src/lib/components/forge/SessionCreationWizard.svelte";function Po(n){let e,t,l,i,s="Workingâ€¦",o;t=new Rn({props:{size:16,color:"var(--tachi-cyan, #4ecdc4)"},$$inline:!0});const a={c:function(){e=_("div"),Ie(t.$$.fragment),l=R(),i=_("span"),i.textContent=s,this.h()},l:function(u){e=g(u,"DIV",{class:!0,"aria-label":!0});var f=w(e);Ee(t.$$.fragment,f),l=D(f),i=g(f,"SPAN",{"data-svelte-h":!0}),$(i)!=="svelte-18ltwvx"&&(i.textContent=s),f.forEach(v),this.h()},h:function(){p(i,Rt,256,12,6891),d(e,"class","title-loading svelte-qske19"),d(e,"aria-label","Working"),p(e,Rt,254,10,6761)},m:function(u,f){Q(u,e,f),Ce(t,e,null),c(e,l),c(e,i),o=!0},i:function(u){o||(J(t.$$.fragment,u),o=!0)},o:function(u){ee(t.$$.fragment,u),o=!1},d:function(u){u&&v(e),Se(t)}};return L("SvelteRegisterBlock",{block:a,id:Po.name,type:"if",source:"(215:8) {#if $sessionLoading}",ctx:n}),a}function Do(n){let e,t,l,i,s,o="Session creation failed",a,r,u=(n[1][0]??n[6])+"",f,h,m,b="Dismiss",k,y,I;t=new Ge({props:{name:"alert-triangle",size:18},$$inline:!0});const E={c:function(){e=_("div"),Ie(t.$$.fragment),l=R(),i=_("div"),s=_("div"),s.textContent=o,a=R(),r=_("div"),f=U(u),h=R(),m=_("button"),m.textContent=b,this.h()},l:function(C){e=g(C,"DIV",{class:!0,role:!0,"aria-live":!0});var P=w(e);Ee(t.$$.fragment,P),l=D(P),i=g(P,"DIV",{class:!0});var A=w(i);s=g(A,"DIV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-e3hino"&&(s.textContent=o),a=D(A),r=g(A,"DIV",{class:!0});var V=w(r);f=H(V,u),V.forEach(v),A.forEach(v),h=D(P),m=g(P,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(m)!=="svelte-js2hb5"&&(m.textContent=b),P.forEach(v),this.h()},h:function(){d(s,"class","submit-title svelte-qske19"),p(s,Rt,272,8,7301),d(r,"class","submit-subtitle svelte-qske19"),p(r,Rt,273,8,7365),d(i,"class","submit-text svelte-qske19"),p(i,Rt,271,6,7267),d(m,"type","button"),d(m,"class","btn btn-secondary svelte-qske19"),p(m,Rt,275,6,7454),d(e,"class","submit-banner svelte-qske19"),d(e,"role","alert"),d(e,"aria-live","polite"),p(e,Rt,269,4,7154)},m:function(C,P){Q(C,e,P),Ce(t,e,null),c(e,l),c(e,i),c(i,s),c(i,a),c(i,r),c(r,f),c(e,h),c(e,m),k=!0,y||(I=Re(m,"click",n[27],!1,!1,!1,!1),y=!0)},p:function(C,P){(!k||P[0]&66)&&u!==(u=(C[1][0]??C[6])+"")&&le(f,u)},i:function(C){k||(J(t.$$.fragment,C),k=!0)},o:function(C){ee(t.$$.fragment,C),k=!1},d:function(C){C&&v(e),Se(t),y=!1,I()}};return L("SvelteRegisterBlock",{block:E,id:Do.name,type:"if",source:"(230:2) {#if submitErrors.length > 0 || $sessionError}",ctx:n}),E}function Vc(n){let e,t;e=new Dc({props:{draft:n[2],costEstimate:n[7],errors:n[0]},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},p:function(s,o){const a={};o[0]&4&&(a.draft=s[2]),o[0]&128&&(a.costEstimate=s[7]),o[0]&1&&(a.errors=s[0]),e.$set(a)},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:Vc.name,type:"if",source:"(267:33) ",ctx:n}),l}function Ac(n){let e,t;e=new yc({props:{selectedOracle:n[2].oracle,participants:n[2].participants,config:n[2].config,errors:n[0].get("oracle-config")||[]},$$inline:!0}),e.$on("oracleChange",n[31]),e.$on("configChange",n[32]);const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},p:function(s,o){const a={};o[0]&4&&(a.selectedOracle=s[2].oracle),o[0]&4&&(a.participants=s[2].participants),o[0]&4&&(a.config=s[2].config),o[0]&1&&(a.errors=s[0].get("oracle-config")||[]),e.$set(a)},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:Ac.name,type:"if",source:"(258:33) ",ctx:n}),l}function Mc(n){let e,t;e=new kc({props:{selected:n[2].participants,errors:n[0].get("participants")||[]},$$inline:!0}),e.$on("change",n[30]);const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},p:function(s,o){const a={};o[0]&4&&(a.selected=s[2].participants),o[0]&1&&(a.errors=s[0].get("participants")||[]),e.$set(a)},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:Mc.name,type:"if",source:"(252:33) ",ctx:n}),l}function zc(n){let e,t;e=new fc({props:{value:n[2].goal,name:n[2].name,errors:n[0].get("goal")||[]},$$inline:!0}),e.$on("goalChange",n[28]),e.$on("nameChange",n[29]);const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},p:function(s,o){const a={};o[0]&4&&(a.value=s[2].goal),o[0]&4&&(a.name=s[2].name),o[0]&1&&(a.errors=s[0].get("goal")||[]),e.$set(a)},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:zc.name,type:"if",source:"(244:4) {#if $currentStep === 0}",ctx:n}),l}function Ro(n){let e,t="Previous",l,i;const s={c:function(){e=_("button"),e.textContent=t,this.h()},l:function(a){e=g(a,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1775axv"&&(e.textContent=t),this.h()},h:function(){d(e,"type","button"),d(e,"class","btn btn-secondary svelte-qske19"),p(e,Rt,340,8,9447)},m:function(a,r){Q(a,e,r),l||(i=Re(e,"click",n[18],!1,!1,!1,!1),l=!0)},p:$e,d:function(a){a&&v(e),l=!1,i()}};return L("SvelteRegisterBlock",{block:s,id:Ro.name,type:"if",source:"(301:6) {#if $currentStep > 0}",ctx:n}),s}function Tc(n){let e,t,l,i;function s(u,f){return u[4]?jc:Bc}let o=s(n),a=o(n);const r={c:function(){e=_("button"),a.c(),this.h()},l:function(f){e=g(f,"BUTTON",{type:!0,class:!0});var h=w(e);a.l(h),h.forEach(v),this.h()},h:function(){d(e,"type","button"),d(e,"class","btn btn-success svelte-qske19"),e.disabled=t=!n[8]||n[4],p(e,Rt,359,8,9852)},m:function(f,h){Q(f,e,h),a.m(e,null),l||(i=Re(e,"click",n[21],!1,!1,!1,!1),l=!0)},p:function(f,h){o===(o=s(f))&&a?a.p(f,h):(a.d(1),a=o(f),a&&(a.c(),a.m(e,null))),h[0]&272&&t!==(t=!f[8]||f[4])&&mn(e,"disabled",t)},d:function(f){f&&v(e),a.d(),l=!1,i()}};return L("SvelteRegisterBlock",{block:r,id:Tc.name,type:"else",source:"(320:6) {:else}",ctx:n}),r}function Nc(n){let e,t,l,i,s;const o={c:function(){e=_("button"),t=U("Next"),this.h()},l:function(r){e=g(r,"BUTTON",{type:!0,class:!0});var u=w(e);t=H(u,"Next"),u.forEach(v),this.h()},h:function(){d(e,"type","button"),d(e,"class","btn btn-primary svelte-qske19"),e.disabled=l=!n[8],p(e,Rt,350,8,9657)},m:function(r,u){Q(r,e,u),c(e,t),i||(s=Re(e,"click",n[17],!1,!1,!1,!1),i=!0)},p:function(r,u){u[0]&256&&l!==(l=!r[8])&&mn(e,"disabled",l)},d:function(r){r&&v(e),i=!1,s()}};return L("SvelteRegisterBlock",{block:o,id:Nc.name,type:"if",source:"(311:6) {#if $currentStep < steps.length - 1}",ctx:n}),o}function Bc(n){let e=n[14]?"Save Changes":"Start Session",t;const l={c:function(){t=U(e)},l:function(s){t=H(s,e)},m:function(s,o){Q(s,t,o)},p:$e,d:function(s){s&&v(t)}};return L("SvelteRegisterBlock",{block:l,id:Bc.name,type:"else",source:"(329:10) {:else}",ctx:n}),l}function jc(n){let e=n[14]?"Saving...":"Creating...",t;const l={c:function(){t=U(e)},l:function(s){t=H(s,e)},m:function(s,o){Q(s,t,o)},p:$e,d:function(s){s&&v(t)}};return L("SvelteRegisterBlock",{block:l,id:jc.name,type:"if",source:"(327:10) {#if $isSubmitting}",ctx:n}),l}function Oc(n){let e,t,l,i,s,o,a,r,u="SPEC FORGE // å…¬å®‰9èª²",f,h,m=n[14]?"Edit Session":"Create Forge Session",b,k,y,I,E,S,C,P,A,V,z,T,N,q,O="Cancel",M,j,K="Save Draft",F,Y,B,x="Estimated Cost:",Z,te,X,ne=n[7].estimated.toFixed(4)+"",se,_e,ue,W,G=n[7].maximum.toFixed(4)+"",he,ve,me,ke,Fe,Te,fe,De;s=new Ge({props:{name:"brain",size:20,glow:!0},$$inline:!0});let ae=n[5]&&Po(n);E=new Rc({props:{steps:n[9],currentStep:n[3]},$$inline:!0}),E.$on("stepClick",n[26]);let Ve=(n[1].length>0||n[6])&&Do(n);const rt=[zc,Mc,Ac,Vc],be=[];function pe(ze,we){return ze[3]===0?0:ze[3]===1?1:ze[3]===2?2:ze[3]===3?3:-1}~(A=pe(n))&&(V=be[A]=rt[A](n));let ie=n[3]>0&&Ro(n);function Ae(ze,we){return ze[3]<ze[9].length-1?Nc:Tc}let lt=Ae(n),Ye=lt(n);const gt={c:function(){e=_("header"),t=_("div"),l=_("div"),i=_("div"),Ie(s.$$.fragment),o=R(),a=_("div"),r=_("div"),r.textContent=u,f=R(),h=_("h1"),b=U(m),k=R(),y=_("div"),ae&&ae.c(),I=R(),Ie(E.$$.fragment),S=R(),Ve&&Ve.c(),C=R(),P=_("div"),V&&V.c(),z=R(),T=_("footer"),N=_("div"),q=_("button"),q.textContent=O,M=R(),j=_("button"),j.textContent=K,F=R(),Y=_("div"),B=_("span"),B.textContent=x,Z=R(),te=_("span"),X=U("$"),se=U(ne),_e=R(),ue=_("span"),W=U("(max: $"),he=U(G),ve=U(")"),me=R(),ke=_("div"),ie&&ie.c(),Fe=R(),Ye.c(),this.h()},l:function(we){e=g(we,"HEADER",{class:!0});var He=w(e);t=g(He,"DIV",{class:!0});var Xe=w(t);l=g(Xe,"DIV",{class:!0});var st=w(l);i=g(st,"DIV",{class:!0});var St=w(i);Ee(s.$$.fragment,St),St.forEach(v),o=D(st),a=g(st,"DIV",{class:!0});var ht=w(a);r=g(ht,"DIV",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-7qnod2"&&(r.textContent=u),f=D(ht),h=g(ht,"H1",{class:!0});var bt=w(h);b=H(bt,m),bt.forEach(v),ht.forEach(v),st.forEach(v),k=D(Xe),y=g(Xe,"DIV",{class:!0});var tt=w(y);ae&&ae.l(tt),tt.forEach(v),Xe.forEach(v),I=D(He),Ee(E.$$.fragment,He),He.forEach(v),S=D(we),Ve&&Ve.l(we),C=D(we),P=g(we,"DIV",{class:!0});var mt=w(P);V&&V.l(mt),mt.forEach(v),z=D(we),T=g(we,"FOOTER",{class:!0});var We=w(T);N=g(We,"DIV",{class:!0});var pt=w(N);q=g(pt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(q)!=="svelte-b0w5wq"&&(q.textContent=O),M=D(pt),j=g(pt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(j)!=="svelte-89zp2t"&&(j.textContent=K),pt.forEach(v),F=D(We),Y=g(We,"DIV",{class:!0,"aria-live":!0});var xe=w(Y);B=g(xe,"SPAN",{class:!0,"data-svelte-h":!0}),$(B)!=="svelte-1pmwcyk"&&(B.textContent=x),Z=D(xe),te=g(xe,"SPAN",{class:!0});var Ze=w(te);X=H(Ze,"$"),se=H(Ze,ne),Ze.forEach(v),_e=D(xe),ue=g(xe,"SPAN",{class:!0});var Ue=w(ue);W=H(Ue,"(max: $"),he=H(Ue,G),ve=H(Ue,")"),Ue.forEach(v),xe.forEach(v),me=D(We),ke=g(We,"DIV",{class:!0});var et=w(ke);ie&&ie.l(et),Fe=D(et),Ye.l(et),et.forEach(v),We.forEach(v),this.h()},h:function(){d(i,"class","title-icon svelte-qske19"),p(i,Rt,244,8,6409),d(r,"class","title-tag svelte-qske19"),p(r,Rt,248,10,6539),d(h,"class","svelte-qske19"),p(h,Rt,249,10,6597),d(a,"class","title-text svelte-qske19"),p(a,Rt,247,8,6504),d(l,"class","title-left svelte-qske19"),p(l,Rt,243,6,6376),d(y,"class","title-right"),p(y,Rt,252,6,6695),d(t,"class","wizard-title svelte-qske19"),p(t,Rt,242,4,6343),d(e,"class","wizard-header svelte-qske19"),p(e,Rt,241,2,6308),d(P,"class","wizard-content svelte-qske19"),p(P,Rt,281,2,7605),d(q,"type","button"),d(q,"class","btn btn-ghost svelte-qske19"),p(q,Rt,316,6,8822),d(j,"type","button"),d(j,"class","btn btn-secondary svelte-qske19"),p(j,Rt,323,6,8959),d(N,"class","footer-left svelte-qske19"),p(N,Rt,315,4,8790),d(B,"class","cost-label svelte-qske19"),p(B,Rt,333,6,9164),d(te,"class","cost-value svelte-qske19"),p(te,Rt,334,6,9218),d(ue,"class","cost-max svelte-qske19"),p(ue,Rt,335,6,9294),d(Y,"class","cost-estimate svelte-qske19"),d(Y,"aria-live","polite"),p(Y,Rt,332,4,9111),d(ke,"class","footer-right svelte-qske19"),p(ke,Rt,338,4,9383),d(T,"class","wizard-footer svelte-qske19"),p(T,Rt,314,2,8755)},m:function(we,He){Q(we,e,He),c(e,t),c(t,l),c(l,i),Ce(s,i,null),c(l,o),c(l,a),c(a,r),c(a,f),c(a,h),c(h,b),c(t,k),c(t,y),ae&&ae.m(y,null),c(e,I),Ce(E,e,null),Q(we,S,He),Ve&&Ve.m(we,He),Q(we,C,He),Q(we,P,He),~A&&be[A].m(P,null),Q(we,z,He),Q(we,T,He),c(T,N),c(N,q),c(N,M),c(N,j),c(T,F),c(T,Y),c(Y,B),c(Y,Z),c(Y,te),c(te,X),c(te,se),c(Y,_e),c(Y,ue),c(ue,W),c(ue,he),c(ue,ve),c(T,me),c(T,ke),ie&&ie.m(ke,null),c(ke,Fe),Ye.m(ke,null),Te=!0,fe||(De=[Re(q,"click",n[22],!1,!1,!1,!1),Re(j,"click",n[20],!1,!1,!1,!1)],fe=!0)},p:function(we,He){we[5]?ae?He[0]&32&&J(ae,1):(ae=Po(we),ae.c(),J(ae,1),ae.m(y,null)):ae&&(ct(),ee(ae,1,1,()=>{ae=null}),ut());const Xe={};He[0]&8&&(Xe.currentStep=we[3]),E.$set(Xe),we[1].length>0||we[6]?Ve?(Ve.p(we,He),He[0]&66&&J(Ve,1)):(Ve=Do(we),Ve.c(),J(Ve,1),Ve.m(C.parentNode,C)):Ve&&(ct(),ee(Ve,1,1,()=>{Ve=null}),ut());let st=A;A=pe(we),A===st?~A&&be[A].p(we,He):(V&&(ct(),ee(be[st],1,1,()=>{be[st]=null}),ut()),~A?(V=be[A],V?V.p(we,He):(V=be[A]=rt[A](we),V.c()),J(V,1),V.m(P,null)):V=null),(!Te||He[0]&128)&&ne!==(ne=we[7].estimated.toFixed(4)+"")&&le(se,ne),(!Te||He[0]&128)&&G!==(G=we[7].maximum.toFixed(4)+"")&&le(he,G),we[3]>0?ie?ie.p(we,He):(ie=Ro(we),ie.c(),ie.m(ke,Fe)):ie&&(ie.d(1),ie=null),lt===(lt=Ae(we))&&Ye?Ye.p(we,He):(Ye.d(1),Ye=lt(we),Ye&&(Ye.c(),Ye.m(ke,null)))},i:function(we){Te||(J(s.$$.fragment,we),J(ae),J(E.$$.fragment,we),J(Ve),J(V),Te=!0)},o:function(we){ee(s.$$.fragment,we),ee(ae),ee(E.$$.fragment,we),ee(Ve),ee(V),Te=!1},d:function(we){we&&(v(e),v(S),v(C),v(P),v(z),v(T)),Se(s),ae&&ae.d(),Se(E),Ve&&Ve.d(we),~A&&be[A].d(),ie&&ie.d(),Ye.d(),fe=!1,Dn(De)}};return L("SvelteRegisterBlock",{block:gt,id:Oc.name,type:"slot",source:'(195:0) <GlassPanel   as=\\"section\\"   className=\\"session-wizard\\"   accent=\\"cyan\\"   subtle   data-testid=\\"session-creation-wizard\\"   aria-busy={$isSubmitting || $sessionLoading} >',ctx:n}),gt}function Vo(n){let e,t;e=new Mo({props:{as:"section",className:"session-wizard",accent:"cyan",subtle:!0,"data-testid":"session-creation-wizard","aria-busy":n[4]||n[5],$$slots:{default:[Oc]},$$scope:{ctx:n}},$$inline:!0});const l={c:function(){Ie(e.$$.fragment)},l:function(s){Ee(e.$$.fragment,s)},m:function(s,o){Ce(e,s,o),t=!0},p:function(s,o){const a={};o[0]&48&&(a["aria-busy"]=s[4]||s[5]),o[0]&511|o[1]&32&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i:function(s){t||(J(e.$$.fragment,s),t=!0)},o:function(s){ee(e.$$.fragment,s),t=!1},d:function(s){Se(e,s)}};return L("SvelteRegisterBlock",{block:l,id:Vo.name,type:"component",source:"",ctx:n}),l}function Du(n,e,t){let l,i,s,o,a,r,u,f,h;Wt(_s,"sessionLoading"),Ht(n,_s,W=>t(5,r=W)),Wt(bs,"sessionError"),Ht(n,bs,W=>t(6,u=W));let{$$slots:m={},$$scope:b}=e;en("SessionCreationWizard",m,[]);let{template:k=null}=e,{editSessionId:y=null}=e;const I=an(),E=[{id:"goal",label:"Define Goal",icon:"target"},{id:"participants",label:"Select Participants",icon:"users"},{id:"oracle-config",label:"Oracle & Config",icon:"sliders"},{id:"review",label:"Review & Start",icon:"check"}];let S=fn(0);Wt(S,"currentStep"),Ht(n,S,W=>t(3,o=W));let C=fn(z(k,y));Wt(C,"sessionDraft"),Ht(n,C,W=>t(2,s=W));let P=fn(new Map);Wt(P,"validationErrors"),Ht(n,P,W=>t(0,i=W));let A=fn(!1);Wt(A,"isSubmitting"),Ht(n,A,W=>t(4,a=W));let V=y!==null;function z(W,G){if(G){const ve=sn(Gt).sessions.find(me=>me.id===G);if(ve)return{name:ve.name,goal:ve.goal,participants:[...ve.participants],oracle:ve.oracle,config:ve.config||{maxRounds:5,convergenceThreshold:.8,allowHumanIntervention:!0,autoSaveInterval:3e4,timeoutMinutes:60},metadata:{createdAt:ve.createdAt,lastModified:new Date}}}return W?{name:`${W.name} - ${new Date().toLocaleDateString()}`,goal:W.defaultGoal||"",participants:[...W.defaultParticipants],oracle:W.defaultOracle,config:{...W.defaultConfig},metadata:{templateId:W.id,createdAt:new Date,lastModified:new Date}}:{name:"",goal:"",participants:[],oracle:null,config:{maxRounds:5,convergenceThreshold:.8,allowHumanIntervention:!0,autoSaveInterval:3e4,timeoutMinutes:60},metadata:{createdAt:new Date,lastModified:new Date}}}const T=Ln([S,C,P],([W,G,he])=>{const ve=E[W].id,me=he.get(ve)||[];switch(ve){case"goal":return G.goal.trim().length>=10&&me.length===0;case"participants":return G.participants.length>=2&&me.length===0;case"oracle-config":return G.oracle!==null&&me.length===0;case"review":return he.size===0;default:return!1}});Wt(T,"canProceed"),Ht(n,T,W=>t(8,h=W));const N=Ln(C,W=>{const G=W.participants.reduce((ke,Fe)=>ke+(Fe.estimatedCostPerRound||0),0),he=W.oracle?.estimatedCostPerRound||0,ve=G+he,me=ve*(W.config.maxRounds||5);return{perRound:ve,estimated:me*.7,maximum:me}});Wt(N,"costEstimate"),Ht(n,N,W=>t(7,f=W));async function q(W){const G=E[W].id,he=await Aa(s,G);return P.update(ve=>(he.errors.length>0?ve.set(G,he.errors):ve.delete(G),ve)),he.valid}async function O(){await q(o)&&o<E.length-1&&S.update(G=>G+1)}function M(){o>0&&S.update(W=>W-1)}function j(W){W<=o&&S.set(W)}async function K(){try{const W=await Gt.saveDraft(s);I("saved",{draftId:W})}catch{}}async function F(){A.set(!0);try{for(let G=0;G<E.length;G++)if(!await q(G)){S.set(G),A.set(!1);return}let W;V&&y?W=await Gt.updateSession(y,s):W=await Gt.createSession(s),I("created",{sessionId:W})}catch(W){P.update(G=>(G.set("submit",[W.message]),G))}finally{A.set(!1)}}function Y(){I("cancelled")}function B(W,G){C.update(he=>({...he,[W]:G,metadata:{...he.metadata,lastModified:new Date}}))}const x=["template","editSessionId"];Object.keys(e).forEach(W=>{!~x.indexOf(W)&&W.slice(0,2)!=="$$"&&W!=="slot"&&Pu.warn(`<SessionCreationWizard> was created with unknown prop '${W}'`)});const Z=W=>j(W.detail),te=()=>Gt.clearError(),X=W=>B("goal",W.detail),ne=W=>B("name",W.detail),se=W=>B("participants",W.detail),_e=W=>B("oracle",W.detail),ue=W=>B("config",W.detail);return n.$$set=W=>{"template"in W&&t(24,k=W.template),"editSessionId"in W&&t(25,y=W.editSessionId)},n.$capture_state=()=>({createEventDispatcher:an,writable:fn,derived:Ln,get:sn,Icon:Ge,GoalInput:fc,ParticipantSelect:kc,OracleConfigPanel:yc,SessionReview:Dc,StepIndicator:Rc,forgeSessionStore:Gt,sessionLoading:_s,sessionError:bs,Spinner:Rn,GlassPanel:Mo,validateSessionConfig:Aa,template:k,editSessionId:y,dispatch:I,steps:E,currentStep:S,sessionDraft:C,validationErrors:P,isSubmitting:A,isEditMode:V,initializeDraft:z,canProceed:T,costEstimate:N,validateStep:q,nextStep:O,prevStep:M,goToStep:j,saveDraft:K,createSession:F,handleCancel:Y,updateDraft:B,submitErrors:l,$validationErrors:i,$sessionDraft:s,$currentStep:o,$isSubmitting:a,$sessionLoading:r,$sessionError:u,$costEstimate:f,$canProceed:h}),n.$inject_state=W=>{"template"in W&&t(24,k=W.template),"editSessionId"in W&&t(25,y=W.editSessionId),"currentStep"in W&&t(10,S=W.currentStep),"sessionDraft"in W&&t(11,C=W.sessionDraft),"validationErrors"in W&&t(12,P=W.validationErrors),"isSubmitting"in W&&t(13,A=W.isSubmitting),"isEditMode"in W&&t(14,V=W.isEditMode),"submitErrors"in W&&t(1,l=W.submitErrors)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty[0]&1&&t(1,l=i.get("submit")||[])},[i,l,s,o,a,r,u,f,h,E,S,C,P,A,V,T,N,O,M,j,K,F,Y,B,k,y,Z,te,X,ne,se,_e,ue]}class Nu extends $t{constructor(e){super(e),xt(this,e,Du,Vo,Jt,{template:24,editSessionId:25},null,[-1,-1]),L("SvelteRegisterComponent",{component:this,tagName:"SessionCreationWizard",options:e,id:Vo.name})}get template(){throw new Error("<SessionCreationWizard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set template(e){throw new Error("<SessionCreationWizard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editSessionId(){throw new Error("<SessionCreationWizard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editSessionId(e){throw new Error("<SessionCreationWizard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Tu as F,Mo as G,Ge as I,Nu as S,_s as a,Ml as b,gs as c,Ha as d,Rn as e,Gt as f,zu as g,bs as s};
