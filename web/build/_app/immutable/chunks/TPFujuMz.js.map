{"version":3,"file":"TPFujuMz.js","sources":["../../../../../../src/lib/ipc.ts"],"sourcesContent":["// IPC bridge for communication with Electron main process\n// Falls back to mock implementation when not running in Electron\n\ntype TachikomaAPI = NonNullable<Window['tachikoma']>;\n\n// Check if running in Electron\nconst isElectron = typeof window !== 'undefined' && window.tachikoma !== undefined;\n\n// Mock IPC for development in browser\nconst mockIpc = {\n  async invoke(channel: string, ..._args: unknown[]): Promise<unknown> {\n    console.log(`[IPC Mock] ${channel}`, _args);\n    \n    // Return mock data based on channel\n    switch (channel) {\n      case 'config:get':\n        return {\n          backend: { brain: 'claude', thinkTank: 'o3' },\n          loop: { maxIterations: 100 }\n        };\n      case 'spec:list':\n        return [];\n      case 'mission:status':\n        return { state: 'idle', progress: 0 };\n      default:\n        return null;\n    }\n  },\n  \n  on(channel: string, _callback: (...args: unknown[]) => void): void {\n    console.log(`[IPC Mock] Registered listener for: ${channel}`);\n  },\n  \n  off(channel: string, _callback: (...args: unknown[]) => void): void {\n    console.log(`[IPC Mock] Removed listener for: ${channel}`);\n  }\n};\n\n// Export the appropriate IPC implementation\nexport const ipc: TachikomaAPI = isElectron ? window.tachikoma! : (mockIpc as unknown as TachikomaAPI);\n\n// Type-safe invoke helper\nexport async function invoke<T>(channel: string, ...args: unknown[]): Promise<T> {\n  return ipc.invoke(channel, ...args) as Promise<T>;\n}\n\n// Event listener helpers\nexport function on(channel: string, callback: (...args: unknown[]) => void): void {\n  ipc.on(channel, callback);\n}\n\nexport function off(channel: string, callback: (...args: unknown[]) => void): void {\n  ipc.off(channel, callback);\n}\n"],"names":["isElectron","mockIpc","channel","_args","_callback","ipc"],"mappings":"AAMA,MAAMA,EAAa,OAAO,OAAW,KAAe,OAAO,YAAc,OAGnEC,EAAU,CACd,MAAM,OAAOC,KAAoBC,EAAoC,CAInE,OAAQD,EAAA,CACN,IAAK,aACH,MAAO,CACL,QAAS,CAAE,MAAO,SAAU,UAAW,IAAA,EACvC,KAAM,CAAE,cAAe,GAAA,CAAI,EAE/B,IAAK,YACH,MAAO,CAAA,EACT,IAAK,iBACH,MAAO,CAAE,MAAO,OAAQ,SAAU,CAAA,EACpC,QACE,OAAO,IAAA,CAEb,EAEA,GAAGA,EAAiBE,EAA+C,CAEnE,EAEA,IAAIF,EAAiBE,EAA+C,CAEpE,CACF,EAGaC,EAAoBL,EAAa,OAAO,UAAcC"}