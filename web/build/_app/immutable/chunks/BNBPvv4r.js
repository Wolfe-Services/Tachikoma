const k=!0;function b(s){const c=g(s),n=new ArrayBuffer(c.length),e=new DataView(n);for(let o=0;o<n.byteLength;o++)e.setUint8(o,c.charCodeAt(o));return n}const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function g(s){s.length%4===0&&(s=s.replace(/==?$/,""));let c="",n=0,e=0;for(let o=0;o<s.length;o++)n<<=6,n|=m.indexOf(s[o]),e+=6,e===24&&(c+=String.fromCharCode((n&16711680)>>16),c+=String.fromCharCode((n&65280)>>8),c+=String.fromCharCode(n&255),n=e=0);return e===12?(n>>=4,c+=String.fromCharCode(n)):e===18&&(n>>=2,c+=String.fromCharCode((n&65280)>>8),c+=String.fromCharCode(n&255)),c}const A=-1,w=-2,I=-3,T=-4,E=-5,C=-6;function N(s,c){if(typeof s=="number")return o(s,!0);if(!Array.isArray(s)||s.length===0)throw new Error("Invalid input");const n=s,e=Array(n.length);function o(t,p=!1){if(t===A)return;if(t===I)return NaN;if(t===T)return 1/0;if(t===E)return-1/0;if(t===C)return-0;if(p||typeof t!="number")throw new Error("Invalid input");if(t in e)return e[t];const r=n[t];if(!r||typeof r!="object")e[t]=r;else if(Array.isArray(r))if(typeof r[0]=="string"){const f=r[0],l=c&&Object.hasOwn(c,f)?c[f]:void 0;if(l){let i=r[1];return typeof i!="number"&&(i=n.push(r[1])-1),e[t]=l(o(i))}switch(f){case"Date":e[t]=new Date(r[1]);break;case"Set":const i=new Set;e[t]=i;for(let a=1;a<r.length;a+=1)i.add(o(r[a]));break;case"Map":const y=new Map;e[t]=y;for(let a=1;a<r.length;a+=2)y.set(o(r[a]),o(r[a+1]));break;case"RegExp":e[t]=new RegExp(r[1],r[2]);break;case"Object":e[t]=Object(r[1]);break;case"BigInt":e[t]=BigInt(r[1]);break;case"null":const h=Object.create(null);e[t]=h;for(let a=1;a<r.length;a+=2)h[r[a]]=o(r[a+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const a=globalThis[f],u=new a(o(r[1]));e[t]=r[2]!==void 0?u.subarray(r[2],r[3]):u;break}case"ArrayBuffer":{const a=r[1],u=b(a);e[t]=u;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const a=f.slice(9);e[t]=Temporal[a].from(r[1]);break}case"URL":{const a=new URL(r[1]);e[t]=a;break}case"URLSearchParams":{const a=new URLSearchParams(r[1]);e[t]=a;break}default:throw new Error(`Unknown type ${f}`)}}else{const f=new Array(r.length);e[t]=f;for(let l=0;l<r.length;l+=1){const i=r[l];i!==w&&(f[l]=o(i))}}else{const f={};e[t]=f;for(const l in r){if(l==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const i=r[l];f[l]=o(i)}}return e[t]}return o(0)}export{k as B,N as u};
