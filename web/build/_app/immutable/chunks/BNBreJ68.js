var ic=Object.defineProperty;var lc=(n,e,t)=>e in n?ic(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Go=(n,e,t)=>lc(n,typeof e!="symbol"?e+"":e,t);import{B as oc}from"./BNBPvv4r.js";import{S as Xt,i as Zt,s as Kt,d as q,n as $e,v as $t,a as v,b as f,t as we,c as Q,e as p,f as Vn,g as w,h as An,j as r,k as Fo,l as Wo,m as di,o as _s,p as ma,q as pa,r as $,u as K,w as jn,x as ga,y as _a,z as ba,A as Ho,B as ka,C as g,D as _,E as bs,F as ac,G as Lo,H as G,I as F,J as sn,K as nn,L as Qn,M as qt,N as Ut,O as Ke,P as ln,Q as lt,R as ot,T as On,U as P,V as Z,W as D,X as Te,Y as Me,Z as Ne,_ as Be,$ as ie,a0 as De,a1 as ls,a2 as go,a3 as cn,a4 as hi,a5 as Is,a6 as Ps,a7 as Yt,a8 as Cn,a9 as _o,aa as Cs,ab as rc,ac as Gn,ad as mn,ae as vi,af as pn,ag as Ti,ah as is,ai as qo,aj as cc}from"./Dt7tia83.js";import{d as Fn}from"./CCYOEI7O.js";const $c=oc,ya="src/lib/components/common/Icon.svelte";function Mi(n){let e,t;const s={c:function(){e=An("path"),this.h()},l:function(i){e=Vn(i,"path",{d:!0}),w(e).forEach(v),this.h()},h:function(){f(e,"d",t=n[3].path),p(e,ya,300,4,10241)},m:function(i,a){Q(i,e,a)},p:function(i,a){a&8&&t!==(t=i[3].path)&&f(e,"d",t)},d:function(i){i&&v(e)}};return q("SvelteRegisterBlock",{block:s,id:Mi.name,type:"if",source:"(286:2) {#if iconData.path}",ctx:n}),s}function Ni(n){let e,t,s=n[3].path&&Mi(n);const o={c:function(){e=An("svg"),s&&s.c(),this.h()},l:function(a){e=Vn(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"aria-hidden":!0,class:!0});var l=w(e);s&&s.l(l),l.forEach(v),this.h()},h:function(){f(e,"width",n[0]),f(e,"height",n[0]),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke",n[1]),f(e,"stroke-width",t=n[3].strokeWidth||1.5),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round"),f(e,"aria-hidden","true"),f(e,"class","icon svelte-1a0ngku"),we(e,"glow",n[2]),p(e,ya,286,0,9979)},m:function(a,l){Q(a,e,l),s&&s.m(e,null)},p:function(a,[l]){a[3].path?s?s.p(a,l):(s=Mi(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null),l&1&&f(e,"width",a[0]),l&1&&f(e,"height",a[0]),l&2&&f(e,"stroke",a[1]),l&8&&t!==(t=a[3].strokeWidth||1.5)&&f(e,"stroke-width",t),l&4&&we(e,"glow",a[2])},i:$e,o:$e,d:function(a){a&&v(e),s&&s.d()}};return q("SvelteRegisterBlock",{block:o,id:Ni.name,type:"component",source:"",ctx:n}),o}function uc(n,e,t){let s,{$$slots:o={},$$scope:i}=e;$t("Icon",o,[]);let{name:a}=e,{size:l=20}=e,{color:c="currentColor"}=e,{glow:u=!1}=e;const d={home:{path:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",strokeWidth:1.5},play:{path:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z M21 12a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},"file-text":{path:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",strokeWidth:1.5},brain:{path:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",strokeWidth:1.5},settings:{path:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z",strokeWidth:1.5},check:{path:"M5 13l4 4L19 7",strokeWidth:2},"check-circle":{path:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},x:{path:"M6 18L18 6M6 6l12 12",strokeWidth:2},"x-circle":{path:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},"alert-triangle":{path:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",strokeWidth:1.5},"alert-circle":{path:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},info:{path:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},"chevron-up":{path:"M5 15l7-7 7 7",strokeWidth:2},"chevron-down":{path:"M19 9l-7 7-7-7",strokeWidth:2},"chevron-right":{path:"M9 5l7 7-7 7",strokeWidth:2},"chevron-left":{path:"M15 19l-7-7 7-7",strokeWidth:2},"arrow-right":{path:"M14 5l7 7m0 0l-7 7m7-7H3",strokeWidth:2},"arrow-left":{path:"M10 19l-7-7m0 0l7-7m-7 7h18",strokeWidth:2},search:{path:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",strokeWidth:1.5},"refresh-cw":{path:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",strokeWidth:1.5},loader:{path:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",strokeWidth:1.5},user:{path:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",strokeWidth:1.5},users:{path:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z",strokeWidth:1.5},bell:{path:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",strokeWidth:1.5},"help-circle":{path:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},target:{path:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",strokeWidth:1.5},zap:{path:"M13 10V3L4 14h7v7l9-11h-7z",strokeWidth:1.5},activity:{path:"M22 12h-4l-3 9L9 3l-3 9H2",strokeWidth:1.5},cpu:{path:"M9 3v2m6-2v2M9 19v2m6-2v2M3 9h2m14 0h2M3 14h2m14 0h2M6 6h12v12H6z",strokeWidth:1.5},terminal:{path:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",strokeWidth:1.5},code:{path:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4",strokeWidth:1.5},database:{path:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4",strokeWidth:1.5},"trending-up":{path:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6",strokeWidth:1.5},"trending-down":{path:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6",strokeWidth:1.5},minus:{path:"M20 12H4",strokeWidth:2},plus:{path:"M12 4v16m8-8H4",strokeWidth:2},"play-circle":{path:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z M21 12a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},"pause-circle":{path:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},"stop-circle":{path:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z",strokeWidth:1.5},folder:{path:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z",strokeWidth:1.5},"folder-open":{path:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z",strokeWidth:1.5},file:{path:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z",strokeWidth:1.5},"file-plus":{path:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",strokeWidth:1.5},eye:{path:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",strokeWidth:1.5},"eye-off":{path:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21",strokeWidth:1.5},clock:{path:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:1.5},calendar:{path:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",strokeWidth:1.5},link:{path:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1",strokeWidth:1.5},upload:{path:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12",strokeWidth:1.5},download:{path:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4",strokeWidth:1.5},trash:{path:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",strokeWidth:1.5},edit:{path:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",strokeWidth:1.5},copy:{path:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z",strokeWidth:1.5},save:{path:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4",strokeWidth:1.5},menu:{path:"M4 6h16M4 12h16M4 18h16",strokeWidth:2},"more-horizontal":{path:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z",strokeWidth:1.5},"more-vertical":{path:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z",strokeWidth:1.5},"neural-link":{path:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m3-8.803a4 4 0 11-8 0 4 4 0 018 0z M17 8l4 4m0-4l-4 4",strokeWidth:1.5},"cyber-eye":{path:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M12 5c-4.478 0-8.268 2.943-9.542 7 1.274 4.057 5.064 7 9.542 7s8.268-2.943 9.542-7c-1.274-4.057-5.064-7-9.542-7z M12 12h.01",strokeWidth:1.5},robot:{path:"M9 3v2m6-2v2M12 21a9 9 0 110-18 9 9 0 010 18zM9 10h.01M15 10h.01M9 15a3 3 0 006 0",strokeWidth:1.5},globe:{path:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9",strokeWidth:1.5},shield:{path:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",strokeWidth:1.5},"shield-check":{path:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",strokeWidth:1.5}};n.$$.on_mount.push(function(){a===void 0&&("name"in e||n.$$.bound[n.$$.props.name])});const h=["name","size","color","glow"];return Object.keys(e).forEach(m=>{!~h.indexOf(m)&&m.slice(0,2)}),n.$$set=m=>{"name"in m&&t(4,a=m.name),"size"in m&&t(0,l=m.size),"color"in m&&t(1,c=m.color),"glow"in m&&t(2,u=m.glow)},n.$capture_state=()=>({name:a,size:l,color:c,glow:u,icons:d,iconData:s}),n.$inject_state=m=>{"name"in m&&t(4,a=m.name),"size"in m&&t(0,l=m.size),"color"in m&&t(1,c=m.color),"glow"in m&&t(2,u=m.glow),"iconData"in m&&t(3,s=m.iconData)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&16&&t(3,s=d[a]||{path:"",strokeWidth:1.5})},[l,c,u,s,a]}class Ue extends Xt{constructor(e){super(e),Zt(this,e,uc,Ni,Kt,{name:4,size:0,color:1,glow:2}),q("SvelteRegisterComponent",{component:this,tagName:"Icon",options:e,id:Ni.name})}get name(){throw new Error("<Icon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<Icon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get size(){throw new Error("<Icon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Icon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get color(){throw new Error("<Icon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set color(e){throw new Error("<Icon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get glow(){throw new Error("<Icon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set glow(e){throw new Error("<Icon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ri="src/lib/components/ui/Spinner/Spinner.svelte";function Bi(n){let e,t,s;const o={c:function(){e=An("svg"),t=An("circle"),s=An("circle"),this.h()},l:function(a){e=Vn(a,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,"aria-hidden":!0});var l=w(e);t=Vn(l,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),w(t).forEach(v),s=Vn(l,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),w(s).forEach(v),l.forEach(v),this.h()},h:function(){f(t,"class","spinner-track svelte-11x47g0"),f(t,"cx","12"),f(t,"cy","12"),f(t,"r","10"),f(t,"stroke",n[1]),f(t,"stroke-width","3"),f(t,"stroke-linecap","round"),p(t,Ri,14,2,238),f(s,"class","spinner-head svelte-11x47g0"),f(s,"cx","12"),f(s,"cy","12"),f(s,"r","10"),f(s,"stroke",n[1]),f(s,"stroke-width","3"),f(s,"stroke-linecap","round"),p(s,Ri,23,2,381),f(e,"class","spinner svelte-11x47g0"),f(e,"width",n[0]),f(e,"height",n[0]),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"aria-hidden","true"),p(e,Ri,5,0,86)},m:function(a,l){Q(a,e,l),r(e,t),r(e,s)},p:function(a,[l]){l&2&&f(t,"stroke",a[1]),l&2&&f(s,"stroke",a[1]),l&1&&f(e,"width",a[0]),l&1&&f(e,"height",a[0])},i:$e,o:$e,d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Bi.name,type:"component",source:"",ctx:n}),o}function fc(n,e,t){let{$$slots:s={},$$scope:o}=e;$t("Spinner",s,[]);let{size:i=20}=e,{color:a="currentColor"}=e;const l=["size","color"];return Object.keys(e).forEach(c=>{!~l.indexOf(c)&&c.slice(0,2)}),n.$$set=c=>{"size"in c&&t(0,i=c.size),"color"in c&&t(1,a=c.color)},n.$capture_state=()=>({size:i,color:a}),n.$inject_state=c=>{"size"in c&&t(0,i=c.size),"color"in c&&t(1,a=c.color)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[i,a]}class Wn extends Xt{constructor(e){super(e),Zt(this,e,fc,Bi,Kt,{size:0,color:1}),q("SvelteRegisterComponent",{component:this,tagName:"Spinner",options:e,id:Bi.name})}get size(){throw new Error("<Spinner>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Spinner>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get color(){throw new Error("<Spinner>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set color(e){throw new Error("<Spinner>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const dc="src/lib/components/ui/GlassPanel.svelte";function ui(n){let e,t,s,o;const i=n[8].default,a=pa(i,n,n[7],null);let l=[{class:t=`glass-panel ${n[2]?"subtle":""} ${n[1]?"padded":""} ${n[3]}`.trim()},{style:s=`--glass-accent: ${n[4]};`},n[5]],c={};for(let d=0;d<l.length;d+=1)c=_s(c,l[d]);const u={c:function(){e=_(n[0]),a&&a.c(),this.h()},l:function(h){e=g(h,(n[0]||"null").toUpperCase(),{class:!0,style:!0});var m=w(e);a&&a.l(m),m.forEach(v),this.h()},h:function(){Ho(n[0])(e,c),we(e,"svelte-jigekd",!0),p(e,dc,20,0,479)},m:function(h,m){Q(h,e,m),a&&a.m(e,null),o=!0},p:function(h,m){a&&a.p&&(!o||m&128)&&ga(a,i,h,h[7],o?ba(i,h[7],m,null):_a(h[7]),null),Ho(h[0])(e,c=ka(l,[(!o||m&14&&t!==(t=`glass-panel ${h[2]?"subtle":""} ${h[1]?"padded":""} ${h[3]}`.trim()))&&{class:t},(!o||m&16&&s!==(s=`--glass-accent: ${h[4]};`))&&{style:s},m&32&&h[5]])),we(e,"svelte-jigekd",!0)},i:function(h){o||(K(a,h),o=!0)},o:function(h){$(a,h),o=!1},d:function(h){h&&v(e),a&&a.d(h)}};return q("SvelteRegisterBlock",{block:u,id:ui.name,type:"child_dynamic_element",source:"(18:0) <svelte:element   this={as}   class={`glass-panel ${subtle ? 'subtle' : ''} ${padded ? 'padded' : ''} ${className}`.trim()}   style={`--glass-accent: ${accentColor};`}   {...$$restProps} >",ctx:n}),u}function zi(n){let e=n[0],t,s;Fo(n[0]),Wo(n[0]);let o=n[0]&&ui(n);const i={c:function(){o&&o.c(),t=jn()},l:function(l){o&&o.l(l),t=jn()},m:function(l,c){o&&o.m(l,c),Q(l,t,c),s=!0},p:function(l,[c]){l[0]?e?Kt(e,l[0])?(o.d(1),Fo(l[0]),Wo(l[0]),o=ui(l),e=l[0],o.c(),o.m(t.parentNode,t)):o.p(l,c):(o=ui(l),e=l[0],o.c(),o.m(t.parentNode,t)):e&&(o.d(1),o=null,e=l[0])},i:function(l){s||(K(o,l),s=!0)},o:function(l){$(o,l),s=!1},d:function(l){l&&v(t),o&&o.d(l)}};return q("SvelteRegisterBlock",{block:i,id:zi.name,type:"component",source:"",ctx:n}),i}function hc(n,e,t){let s;const o=["as","padded","subtle","accent","className"];let i=di(e,o),{$$slots:a={},$$scope:l}=e;$t("GlassPanel",a,["default"]);let{as:c="section"}=e,{padded:u=!0}=e,{subtle:d=!1}=e,{accent:h="cyan"}=e,{className:m=""}=e;const b={cyan:"var(--tachi-cyan, #4ecdc4)",red:"var(--tachi-red, #ff6b6b)",yellow:"var(--tachi-yellow, #ffd93d)",green:"var(--success-color, #3fb950)",blue:"var(--info-color, #58a6ff)",purple:"var(--color-accent, #8b5cf6)",none:"transparent"};return n.$$set=k=>{e=_s(_s({},e),ma(k)),t(5,i=di(e,o)),"as"in k&&t(0,c=k.as),"padded"in k&&t(1,u=k.padded),"subtle"in k&&t(2,d=k.subtle),"accent"in k&&t(6,h=k.accent),"className"in k&&t(3,m=k.className),"$$scope"in k&&t(7,l=k.$$scope)},n.$capture_state=()=>({as:c,padded:u,subtle:d,accent:h,className:m,accents:b,accentColor:s}),n.$inject_state=k=>{"as"in e&&t(0,c=k.as),"padded"in e&&t(1,u=k.padded),"subtle"in e&&t(2,d=k.subtle),"accent"in e&&t(6,h=k.accent),"className"in e&&t(3,m=k.className),"accentColor"in e&&t(4,s=k.accentColor)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&64&&t(4,s=b[h])},[c,u,d,m,s,i,h,l,a]}class bo extends Xt{constructor(e){super(e),Zt(this,e,hc,zi,Kt,{as:0,padded:1,subtle:2,accent:6,className:3}),q("SvelteRegisterComponent",{component:this,tagName:"GlassPanel",options:e,id:zi.name})}get as(){throw new Error("<GlassPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set as(e){throw new Error("<GlassPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get padded(){throw new Error("<GlassPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set padded(e){throw new Error("<GlassPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get subtle(){throw new Error("<GlassPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set subtle(e){throw new Error("<GlassPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get accent(){throw new Error("<GlassPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set accent(e){throw new Error("<GlassPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get className(){throw new Error("<GlassPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set className(e){throw new Error("<GlassPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const vc="src/lib/components/common/RelativeTime.svelte";function ji(n){let e,t,s,o=[{datetime:s=n[0]instanceof Date?n[0].toISOString():n[0]},n[2]],i={};for(let l=0;l<o.length;l+=1)i=_s(i,o[l]);const a={c:function(){e=_("time"),t=F(n[1]),this.h()},l:function(c){e=g(c,"TIME",{datetime:!0});var u=w(e);t=G(u,n[1]),u.forEach(v),this.h()},h:function(){Lo(e,i),p(e,vc,38,0,934)},m:function(c,u){Q(c,e,u),r(e,t)},p:function(c,[u]){u&2&&ac(t,c[1],i.contenteditable),Lo(e,i=ka(o,[u&1&&s!==(s=c[0]instanceof Date?c[0].toISOString():c[0])&&{datetime:s},u&4&&c[2]]))},i:$e,o:$e,d:function(c){c&&v(e)}};return q("SvelteRegisterBlock",{block:a,id:ji.name,type:"component",source:"",ctx:n}),a}function Uo(n){const t=new Date().getTime()-n.getTime(),s=Math.floor(t/1e3),o=Math.floor(s/60),i=Math.floor(o/60),a=Math.floor(i/24);return s<60?"just now":o<60?`${o}m ago`:i<24?`${i}h ago`:a<7?`${a}d ago`:n.toLocaleDateString()}function mc(n,e,t){const s=["date","updateInterval"];let o=di(e,s),{$$slots:i={},$$scope:a}=e;$t("RelativeTime",i,[]);let{date:l}=e,{updateInterval:c=6e4}=e,u="";function d(){const h=l instanceof Date?l:new Date(l);t(1,u=Uo(h))}return bs(()=>{d();const h=setInterval(d,c);return()=>clearInterval(h)}),n.$$.on_mount.push(function(){l===void 0&&("date"in e||n.$$.bound[n.$$.props.date])}),n.$$set=h=>{e=_s(_s({},e),ma(h)),t(2,o=di(e,s)),"date"in h&&t(0,l=h.date),"updateInterval"in h&&t(3,c=h.updateInterval)},n.$capture_state=()=>({onMount:bs,date:l,updateInterval:c,relativeTime:u,formatRelativeTime:Uo,updateTime:d}),n.$inject_state=h=>{"date"in e&&t(0,l=h.date),"updateInterval"in e&&t(3,c=h.updateInterval),"relativeTime"in e&&t(1,u=h.relativeTime)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&l&&d()},[l,u,o,c]}class wa extends Xt{constructor(e){super(e),Zt(this,e,mc,ji,Kt,{date:0,updateInterval:3}),q("SvelteRegisterComponent",{component:this,tagName:"RelativeTime",options:e,id:ji.name})}get date(){throw new Error("<RelativeTime>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set date(e){throw new Error("<RelativeTime>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get updateInterval(){throw new Error("<RelativeTime>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set updateInterval(e){throw new Error("<RelativeTime>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Sa(n,e){const{key:t,storage:s="localStorage",serialize:o=JSON.stringify,deserialize:i=JSON.parse,validate:a,migrate:l,version:c=1}=e,u=`tachikoma:${t}`,d=`${u}:version`;function h(){try{const b=s==="localStorage"?localStorage:sessionStorage,k=b.getItem(u),y=parseInt(b.getItem(d)||"0",10);if(k===null)return n;let S=i(k);return l&&y<c&&(S=l(S,y),b.setItem(d,c.toString()),b.setItem(u,o(S))),a&&!a(S)?n:S}catch{return n}}const m=sn(h());return m.subscribe(b=>{try{const k=s==="localStorage"?localStorage:sessionStorage;k.setItem(u,o(b)),k.setItem(d,c.toString())}catch{}}),window.addEventListener("storage",b=>{if(b.key===u&&b.newValue!==null)try{const k=i(b.newValue);(!a||a(k))&&m.set(k)}catch{}}),m}class pc extends Error{constructor(e,t,s){super(e),this.channel=t,this.originalError=s,this.name="IpcError"}}function gc(n,e){const t=e instanceof Error?e.message:String(e);return new pc(`IPC call failed: ${t}`,n,e)}function Oi(){return typeof window<"u"&&!!window.tachikoma}class _c{constructor(){Go(this,"listeners",new Map)}async invoke(e,t){if(!Oi())throw new Error("Tachikoma IPC not available");const s=window.tachikoma;if(!s)throw new Error("Tachikoma IPC not available");try{return s.invoke(e,t)}catch(o){throw gc(e,o)}}on(e,t){if(!Oi())return()=>{};const s=window.tachikoma;return s?(this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),s.on(e,t),()=>{this.listeners.get(e)?.delete(t),s.off(e,t)}):()=>{}}}const Un=new _c,Qo={isConnected:!1,useMockMode:!0,activeSessionId:null,isDeliberating:!1,currentPhase:"idle",error:null};function bc(){const n=sn(Qo),e=sn([]);Oi()&&(n.update(l=>({...l,isConnected:!0,useMockMode:!1})),s());function s(){Un.on("forge:message",l=>{e.update(c=>{const u=c.findIndex(d=>d.messageId===l.messageId);if(u>=0){const d=[...c];return d[u]=l,d}else return[...c,l]})}),Un.on("forge:phaseChange",l=>{n.update(c=>({...c,currentPhase:l.phase}))}),Un.on("forge:error",l=>{n.update(c=>({...c,error:l.error,isDeliberating:!1}))})}function o(l){return{name:l.name||"Untitled Session",goal:l.goal||"",participants:(l.participants||[]).map(c=>({id:c.id,name:c.name,type:c.type,role:c.role,modelId:c.type==="ai"?i(c):void 0,status:c.status})),oracle:l.oracle?{id:l.oracle.id,name:l.oracle.name,modelId:l.oracle.type,config:l.oracle.config}:null,config:{maxRounds:l.config?.maxRounds||5,convergenceThreshold:l.config?.convergenceThreshold||.8,roundTimeoutMs:(l.config?.timeoutMinutes||60)*6e4,allowHumanIntervention:l.config?.allowHumanIntervention??!0}}}function i(l){const c={claude:"claude-3-5-sonnet-20241022",gpt4:"gpt-4-turbo","gpt-4":"gpt-4-turbo",gemini:"gemini-pro",ollama:"ollama/llama2"},u=l.name.toLowerCase();return c[u]||"claude-3-5-sonnet-20241022"}function a(l){return{id:l.id,name:l.name,goal:l.goal,phase:l.phase,participants:l.participants.map(c=>({id:c.id,name:c.name,type:c.type,role:c.role,status:c.status})),oracle:l.oracle?{id:l.oracle.id,name:l.oracle.name,type:l.oracle.modelId,config:l.oracle.config}:null,config:{maxRounds:l.config.maxRounds,convergenceThreshold:l.config.convergenceThreshold,allowHumanIntervention:l.config.allowHumanIntervention,autoSaveInterval:3e4,timeoutMinutes:Math.floor(l.config.roundTimeoutMs/6e4)},rounds:[],hasResults:l.roundCount>0,createdAt:new Date(l.createdAt),updatedAt:new Date(l.updatedAt)}}return{state:{subscribe:n.subscribe},messages:{subscribe:e.subscribe},async createSession(l){if(!nn(n).useMockMode)try{const d=o(l),h=await Un.invoke("forge:createSession",d),m=a(h);return n.update(b=>({...b,activeSessionId:m.id,error:null})),m}catch{n.update(h=>({...h,useMockMode:!0}))}const u={id:`session-${Date.now()}`,name:l.name||"Untitled Session",goal:l.goal||"",phase:"configuring",participants:l.participants||[],oracle:l.oracle||null,config:l.config,rounds:[],hasResults:!1,createdAt:new Date,updatedAt:new Date};return n.update(d=>({...d,activeSessionId:u.id})),u},async startDeliberation(l,c="drafting"){if(!nn(n).useMockMode)try{if((await Un.invoke("forge:startDeliberation",{sessionId:l,phase:c})).success)return n.update(h=>({...h,isDeliberating:!0,currentPhase:c,error:null})),!0}catch{}return n.update(d=>({...d,isDeliberating:!0,currentPhase:c})),!1},async stopDeliberation(l){if(!nn(n).useMockMode)try{const u=await Un.invoke("forge:stopDeliberation",{sessionId:l});return u.success&&n.update(d=>({...d,isDeliberating:!1})),u.success}catch{}return n.update(u=>({...u,isDeliberating:!1})),!0},async submitMessage(l,c,u){if(!nn(n).useMockMode)try{return(await Un.invoke("forge:submitMessage",{sessionId:l,content:c,participantId:u})).messageId}catch{}const h=`msg-${Date.now()}`,m={sessionId:l,messageId:h,participantId:u,participantName:"You",participantType:"human",content:c,timestamp:new Date().toISOString(),type:"proposal",status:"complete"};return e.update(b=>[...b,m]),h},async generateOutput(l){if(!nn(n).useMockMode)try{return await Un.invoke("forge:generateOutput",l)}catch{}const u=yc(l);return{sessionId:l.sessionId,format:l.format,content:u,filename:`forge-output.${kc(l.format)}`}},async listSessions(){if(!nn(n).useMockMode)try{return(await Un.invoke("forge:listSessions",{})).map(a)}catch{}return[]},clearMessages(){e.set([])},clearError(){n.update(l=>({...l,error:null}))},reset(){n.set(Qo),e.set([])}}}function kc(n){return{markdown:"md",json:"json",yaml:"yaml",html:"html",plain:"txt",beads:"yaml"}[n]||"txt"}function yc(n){const{format:e,sessionId:t}=n;switch(e){case"json":return JSON.stringify({sessionId:t,title:"Mock Forge Output",summary:"This is a mock output generated for development.",decisions:[],metadata:{generated:new Date().toISOString()}},null,2);case"yaml":case"beads":return`# Forge Session Output
session_id: ${t}
title: Mock Forge Output
summary: This is a mock output generated for development.
decisions: []
metadata:
  generated: ${new Date().toISOString()}
`;case"html":return`<!DOCTYPE html>
<html>
<head>
  <title>Forge Output</title>
  <style>
    body { font-family: system-ui; max-width: 800px; margin: 2rem auto; padding: 1rem; }
    h1 { color: #4ecdc4; }
  </style>
</head>
<body>
  <h1>Forge Session Output</h1>
  <p>Session: ${t}</p>
  <p>This is a mock output generated for development.</p>
</body>
</html>`;case"markdown":default:return`# Forge Session Output

**Session ID:** ${t}

## Summary

This is a mock output generated for development. 
When connected to the backend, this will contain the actual deliberation results.

## Decisions

_No decisions recorded yet._

---

*Generated: ${new Date().toISOString()}*
`}}const zn=bc();function wc(){const n={activeSession:null,sessions:[],loading:!1,error:null};function e(l){return{...l,createdAt:l.createdAt.toISOString(),updatedAt:l.updatedAt.toISOString()}}function t(l){return{...l,createdAt:new Date(l.createdAt),updatedAt:new Date(l.updatedAt)}}const s=Sa(n,{key:"forgeSessionState",version:1,serialize:l=>{const c={activeSession:l.activeSession?e(l.activeSession):null,sessions:l.sessions.map(e),loading:!1,error:null};return JSON.stringify(c)},deserialize:l=>{const c=JSON.parse(l);return{activeSession:c.activeSession?t(c.activeSession):null,sessions:Array.isArray(c.sessions)?c.sessions.map(t):[],loading:!1,error:null}}}),{subscribe:o,set:i,update:a}=s;return{subscribe:o,async loadSessions(){if(nn(s).sessions.length>0){a(c=>({...c,loading:!1,error:null}));return}a(c=>({...c,loading:!0,error:null}));try{const c=await zn.listSessions();if(c.length>0){a(d=>({...d,sessions:c,loading:!1}));return}const u=[{id:"session-1",name:"Product Strategy Session",goal:"Define Q4 product roadmap priorities",phase:"configuring",participants:[{id:"p1",name:"Alice Product",type:"human",role:"Product Manager",status:"active"},{id:"p2",name:"Bob Engineer",type:"human",role:"Tech Lead",status:"active"},{id:"p3",name:"Claude Analyst",type:"ai",role:"Business Analyst",status:"active"}],oracle:{id:"oracle-1",name:"Strategic Oracle",type:"gpt-4",config:{temperature:.7}},rounds:[],hasResults:!1,createdAt:new Date("2024-01-15T10:00:00Z"),updatedAt:new Date("2024-01-15T10:30:00Z")}];a(d=>({...d,sessions:u,loading:!1}))}catch(c){a(u=>({...u,loading:!1,error:c instanceof Error?c.message:"Failed to load sessions"}))}},setActiveSession(l){a(c=>{const u=c.sessions.find(d=>d.id===l);return{...c,activeSession:u||null}})},clearActiveSession(){a(l=>({...l,activeSession:null}))},updateSessionPhase(l,c){a(u=>{const d=u.sessions.map(m=>m.id===l?{...m,phase:c,updatedAt:new Date}:m),h=u.activeSession?.id===l?d.find(m=>m.id===l)||null:u.activeSession;return{...u,sessions:d,activeSession:h}})},clearError(){a(l=>({...l,error:null}))},async saveDraft(l){try{return`draft-${Date.now()}`}catch(c){throw new Error(c instanceof Error?c.message:"Failed to save draft")}},async createSession(l){a(c=>({...c,loading:!0,error:null}));try{const c=await zn.createSession({name:l.name,goal:l.goal,participants:l.participants,oracle:l.oracle,config:l.config});return a(u=>({...u,sessions:[...u.sessions,c],loading:!1})),c.id}catch(c){throw a(u=>({...u,loading:!1,error:c instanceof Error?c.message:"Failed to create session"})),c}},async updateSession(l,c){a(u=>({...u,loading:!0,error:null}));try{return a(u=>{const d=u.sessions.map(m=>m.id===l?{...m,name:c.name,goal:c.goal,participants:c.participants,oracle:c.oracle,config:c.config,updatedAt:new Date}:m),h=u.activeSession?.id===l?d.find(m=>m.id===l)||null:u.activeSession;return{...u,sessions:d,activeSession:h,loading:!1}}),l}catch(u){throw a(d=>({...d,loading:!1,error:u instanceof Error?u.message:"Failed to update session"})),u}},reset(){i(n)}}}const Nt=wc(),ms=Qn(Nt,n=>n.activeSession),Vi=Qn(Nt,n=>n.sessions),ps=Qn(Nt,n=>n.loading),gs=Qn(Nt,n=>n.error),Ot="src/lib/components/forge/SessionSidebar.svelte";function ti(n,e,t){const s=n.slice();return s[9]=e[t],s}function Gi(n){let e,t,s;t=new Wn({props:{size:16,color:"var(--tachi-cyan, #4ecdc4)"},$$inline:!0});const o={c:function(){e=_("div"),Be(t.$$.fragment),this.h()},l:function(a){e=g(a,"DIV",{class:!0,"aria-label":!0});var l=w(e);Ne(t.$$.fragment,l),l.forEach(v),this.h()},h:function(){f(e,"class","loading"),f(e,"aria-label","Loading sessions"),p(e,Ot,25,6,863)},m:function(a,l){Q(a,e,l),Me(t,e,null),s=!0},i:function(a){s||(K(t.$$.fragment,a),s=!0)},o:function(a){$(t.$$.fragment,a),s=!1},d:function(a){a&&v(e),Te(t)}};return q("SvelteRegisterBlock",{block:o,id:Gi.name,type:"if",source:"(22:4) {#if $sessionLoading}",ctx:n}),o}function Fi(n){let e,t,s,o,i,a,l,c="Dismiss",u,d,h;t=new Ue({props:{name:"alert-triangle",size:16},$$inline:!0});const m={c:function(){e=_("div"),Be(t.$$.fragment),s=D(),o=_("span"),i=F(n[2]),a=D(),l=_("button"),l.textContent=c,this.h()},l:function(k){e=g(k,"DIV",{class:!0,role:!0});var y=w(e);Ne(t.$$.fragment,y),s=P(y),o=g(y,"SPAN",{class:!0});var S=w(o);i=G(S,n[2]),S.forEach(v),a=P(y),l=g(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-1q8s5mz"&&(l.textContent=c),y.forEach(v),this.h()},h:function(){f(o,"class","banner-text svelte-1hpcjzz"),p(o,Ot,34,6,1126),f(l,"type","button"),f(l,"class","banner-btn svelte-1hpcjzz"),p(l,Ot,35,6,1181),f(e,"class","banner svelte-1hpcjzz"),f(e,"role","alert"),p(e,Ot,32,4,1039)},m:function(k,y){Q(k,e,y),Me(t,e,null),r(e,s),r(e,o),r(o,i),r(e,a),r(e,l),u=!0,d||(h=De(l,"click",n[7],!1,!1,!1,!1),d=!0)},p:function(k,y){(!u||y&4)&&ie(i,k[2])},i:function(k){u||(K(t.$$.fragment,k),u=!0)},o:function(k){$(t.$$.fragment,k),u=!1},d:function(k){k&&v(e),Te(t),d=!1,h()}};return q("SvelteRegisterBlock",{block:m,id:Fi.name,type:"if",source:"(29:2) {#if $sessionError}",ctx:n}),m}function Ca(n){let e,t=[],s=new Map,o,i=Ke(n[0]);const a=c=>c[9].id;ln(n,i,ti,a);for(let c=0;c<i.length;c+=1){let u=ti(n,i,c),d=a(u);s.set(d,t[c]=Wi(d,u))}const l={c:function(){e=_("ul");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l:function(u){e=g(u,"UL",{class:!0,"aria-label":!0});var d=w(e);for(let h=0;h<t.length;h+=1)t[h].l(d);d.forEach(v),this.h()},h:function(){f(e,"class","session-list svelte-1hpcjzz"),f(e,"aria-label","Forge sessions"),p(e,Ot,47,4,1548)},m:function(u,d){Q(u,e,d);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);o=!0},p:function(u,d){d&25&&(i=Ke(u[0]),lt(),ln(u,i,ti,a),t=ls(t,d,a,1,u,i,s,e,go,Wi,null,ti),ot())},i:function(u){if(!o){for(let d=0;d<i.length;d+=1)K(t[d]);o=!0}},o:function(u){for(let d=0;d<t.length;d+=1)$(t[d]);o=!1},d:function(u){u&&v(e);for(let d=0;d<t.length;d+=1)t[d].d()}};return q("SvelteRegisterBlock",{block:l,id:Ca.name,type:"else",source:"(44:2) {:else}",ctx:n}),l}function Ea(n){let e,t,s="No sessions yet",o,i,a="Create a new Think Tank session to begin deliberation.";const l={c:function(){e=_("div"),t=_("p"),t.textContent=s,o=D(),i=_("p"),i.textContent=a,this.h()},l:function(u){e=g(u,"DIV",{class:!0});var d=w(e);t=g(d,"P",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-2t1eq1"&&(t.textContent=s),o=P(d),i=g(d,"P",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-8damho"&&(i.textContent=a),d.forEach(v),this.h()},h:function(){f(t,"class","empty-title svelte-1hpcjzz"),p(t,Ot,43,6,1389),f(i,"class","empty-subtitle svelte-1hpcjzz"),p(i,Ot,44,6,1438),f(e,"class","empty svelte-1hpcjzz"),p(e,Ot,42,4,1363)},m:function(u,d){Q(u,e,d),r(e,t),r(e,o),r(e,i)},p:$e,i:$e,o:$e,d:function(u){u&&v(e)}};return q("SvelteRegisterBlock",{block:l,id:Ea.name,type:"if",source:"(39:2) {#if sortedSessions.length === 0}",ctx:n}),l}function Wi(n,e){let t,s,o,i,a,l=e[9].name+"",c,u,d,h=e[9].phase+"",m,b,k,y=e[9].goal+"",S,C,E,I,V,T,R=e[9].participants.length+"",M,z,j,H,N,A,O;I=new wa({props:{date:e[9].updatedAt},$$inline:!0});function L(){return e[8](e[9])}const se={key:n,first:null,c:function(){t=_("li"),s=_("button"),o=_("div"),i=_("div"),a=_("span"),c=F(l),u=D(),d=_("span"),m=F(h),b=D(),k=_("div"),S=F(y),C=D(),E=_("div"),Be(I.$$.fragment),V=D(),T=_("span"),M=F(R),z=F("p"),H=D(),this.h()},l:function(B){t=g(B,"LI",{});var Y=w(t);s=g(Y,"BUTTON",{type:!0,class:!0,"aria-current":!0});var J=w(s);o=g(J,"DIV",{class:!0});var ee=w(o);i=g(ee,"DIV",{class:!0});var U=w(i);a=g(U,"SPAN",{class:!0});var X=w(a);c=G(X,l),X.forEach(v),u=P(U),d=g(U,"SPAN",{class:!0});var ne=w(d);m=G(ne,h),ne.forEach(v),U.forEach(v),b=P(ee),k=g(ee,"DIV",{class:!0});var ge=w(k);S=G(ge,y),ge.forEach(v),ee.forEach(v),C=P(J),E=g(J,"DIV",{class:!0});var de=w(E);Ne(I.$$.fragment,de),V=P(de),T=g(de,"SPAN",{class:!0});var W=w(T);M=G(W,R),z=G(W,"p"),W.forEach(v),de.forEach(v),J.forEach(v),H=P(Y),Y.forEach(v),this.h()},h:function(){f(a,"class","name svelte-1hpcjzz"),p(a,Ot,59,16,2010),f(d,"class","phase svelte-1hpcjzz"),p(d,Ot,60,16,2061),f(i,"class","row-title svelte-1hpcjzz"),p(i,Ot,58,14,1970),f(k,"class","row-subtitle svelte-1hpcjzz"),p(k,Ot,62,14,2133),f(o,"class","row-left svelte-1hpcjzz"),p(o,Ot,57,12,1933),f(T,"class","pill svelte-1hpcjzz"),p(T,Ot,66,14,2293),f(E,"class","row-right svelte-1hpcjzz"),p(E,Ot,64,12,2205),f(s,"type","button"),f(s,"class","session-row svelte-1hpcjzz"),f(s,"aria-current",j=e[3]?.id===e[9].id?"true":"false"),we(s,"active",e[3]?.id===e[9].id),p(s,Ot,50,10,1666),p(t,Ot,49,8,1651),this.first=t},m:function(B,Y){Q(B,t,Y),r(t,s),r(s,o),r(o,i),r(i,a),r(a,c),r(i,u),r(i,d),r(d,m),r(o,b),r(o,k),r(k,S),r(s,C),r(s,E),Me(I,E,null),r(E,V),r(E,T),r(T,M),r(T,z),r(t,H),N=!0,A||(O=De(s,"click",L,!1,!1,!1,!1),A=!0)},p:function(B,Y){e=B,(!N||Y&1)&&l!==(l=e[9].name+"")&&ie(c,l),(!N||Y&1)&&h!==(h=e[9].phase+"")&&ie(m,h),(!N||Y&1)&&y!==(y=e[9].goal+"")&&ie(S,y);const J={};Y&1&&(J.date=e[9].updatedAt),I.$set(J),(!N||Y&1)&&R!==(R=e[9].participants.length+"")&&ie(M,R),(!N||Y&9&&j!==(j=e[3]?.id===e[9].id?"true":"false"))&&f(s,"aria-current",j),(!N||Y&9)&&we(s,"active",e[3]?.id===e[9].id)},i:function(B){N||(K(I.$$.fragment,B),N=!0)},o:function(B){$(I.$$.fragment,B),N=!1},d:function(B){B&&v(t),Te(I),A=!1,O()}};return q("SvelteRegisterBlock",{block:se,id:Wi.name,type:"each",source:"(46:6) {#each sortedSessions as s (s.id)}",ctx:e}),se}function Hi(n){let e,t,s,o,i,a,l,c="Sessions",u,d,h,m,b,k,y=n[1]&&Gi(n),S=n[2]&&Fi(n);const C=[Ea,Ca],E=[];function I(T,R){return T[0].length===0?0:1}m=I(n),b=E[m]=C[m](n);const V={c:function(){e=_("div"),t=_("div"),s=_("div"),o=_("img"),a=D(),l=_("h2"),l.textContent=c,u=D(),y&&y.c(),d=D(),S&&S.c(),h=D(),b.c(),this.h()},l:function(R){e=g(R,"DIV",{class:!0,"data-testid":!0});var M=w(e);t=g(M,"DIV",{class:!0});var z=w(t);s=g(z,"DIV",{class:!0});var j=w(s);o=g(j,"IMG",{src:!0,alt:!0,class:!0}),a=P(j),l=g(j,"H2",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-19fsh53"&&(l.textContent=c),j.forEach(v),u=P(z),y&&y.l(z),z.forEach(v),d=P(M),S&&S.l(M),h=P(M),b.l(M),M.forEach(v),this.h()},h:function(){On(o.src,i="/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Blue.32.png")||f(o,"src",i),f(o,"alt",""),f(o,"class","title-tachi-icon svelte-1hpcjzz"),p(o,Ot,17,6,657),f(l,"class","svelte-1hpcjzz"),p(l,Ot,22,6,802),f(s,"class","title svelte-1hpcjzz"),p(s,Ot,16,4,631),f(t,"class","sidebar-header svelte-1hpcjzz"),p(t,Ot,15,2,598),f(e,"class","session-sidebar svelte-1hpcjzz"),f(e,"data-testid","session-sidebar"),p(e,Ot,14,0,536)},m:function(R,M){Q(R,e,M),r(e,t),r(t,s),r(s,o),r(s,a),r(s,l),r(t,u),y&&y.m(t,null),r(e,d),S&&S.m(e,null),r(e,h),E[m].m(e,null),k=!0},p:function(R,[M]){R[1]?y?M&2&&K(y,1):(y=Gi(R),y.c(),K(y,1),y.m(t,null)):y&&(lt(),$(y,1,1,()=>{y=null}),ot()),R[2]?S?(S.p(R,M),M&4&&K(S,1)):(S=Fi(R),S.c(),K(S,1),S.m(e,h)):S&&(lt(),$(S,1,1,()=>{S=null}),ot());let z=m;m=I(R),m===z?E[m].p(R,M):(lt(),$(E[z],1,1,()=>{E[z]=null}),ot(),b=E[m],b?b.p(R,M):(b=E[m]=C[m](R),b.c()),K(b,1),b.m(e,null))},i:function(R){k||(K(y),K(S),K(b),k=!0)},o:function(R){$(y),$(S),$(b),k=!1},d:function(R){R&&v(e),y&&y.d(),S&&S.d(),E[m].d()}};return q("SvelteRegisterBlock",{block:V,id:Hi.name,type:"component",source:"",ctx:n}),V}function Sc(n,e,t){let s,o,i,a,l;qt(Vi,"sessions"),Ut(n,Vi,y=>t(6,o=y)),qt(ps,"sessionLoading"),Ut(n,ps,y=>t(1,i=y)),qt(gs,"sessionError"),Ut(n,gs,y=>t(2,a=y)),qt(ms,"activeSession"),Ut(n,ms,y=>t(3,l=y));let{$$slots:c={},$$scope:u}=e;$t("SessionSidebar",c,[]);let{sessionId:d=null}=e;function h(y){Nt.setActiveSession(y)}const m=["sessionId"];Object.keys(e).forEach(y=>{!~m.indexOf(y)&&y.slice(0,2)});const b=()=>Nt.clearError(),k=y=>h(y.id);return n.$$set=y=>{"sessionId"in y&&t(5,d=y.sessionId)},n.$capture_state=()=>({sessionId:d,Icon:Ue,RelativeTime:wa,Spinner:Wn,forgeSessionStore:Nt,sessions:Vi,activeSession:ms,sessionLoading:ps,sessionError:gs,handleSelect:h,sortedSessions:s,$sessions:o,$sessionLoading:i,$sessionError:a,$activeSession:l}),n.$inject_state=y=>{"sessionId"in y&&t(5,d=y.sessionId),"sortedSessions"in y&&t(0,s=y.sortedSessions)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&64&&t(0,s=[...o].sort((y,S)=>S.updatedAt.getTime()-y.updatedAt.getTime()))},[s,i,a,l,h,d,o,b,k]}class Ia extends Xt{constructor(e){super(e),Zt(this,e,Sc,Hi,Kt,{sessionId:5}),q("SvelteRegisterComponent",{component:this,tagName:"SessionSidebar",options:e,id:Hi.name})}get sessionId(){throw new Error("<SessionSidebar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sessionId(e){throw new Error("<SessionSidebar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ft="src/lib/components/forge/ParticipantPanel.svelte";function Ko(n,e,t){const s=n.slice();s[5]=e[t];const o=Ta(s[5].avatar);return s[6]=o,s}function Pa(n){let e,t,s="No participants in this session";const o={c:function(){e=_("div"),t=_("p"),t.textContent=s,this.h()},l:function(a){e=g(a,"DIV",{class:!0});var l=w(e);t=g(l,"P",{"data-svelte-h":!0}),Z(t)!=="svelte-1eqo4mi"&&(t.textContent=s),l.forEach(v),this.h()},h:function(){p(t,Ft,80,6,2478),f(e,"class","no-participants svelte-13khnly"),p(e,Ft,79,4,2442)},m:function(a,l){Q(a,e,l),r(e,t)},p:$e,d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Pa.name,type:"else",source:"(72:2) {:else}",ctx:n}),o}function Da(n){let e,t,s,o=Ke(n[1]),i=[];for(let c=0;c<o.length;c+=1)i[c]=Li(Ko(n,o,c));let a=n[0]?.oracle&&qi(n);const l={c:function(){e=_("div");for(let u=0;u<i.length;u+=1)i[u].c();t=D(),a&&a.c(),s=jn(),this.h()},l:function(u){e=g(u,"DIV",{class:!0});var d=w(e);for(let h=0;h<i.length;h+=1)i[h].l(d);d.forEach(v),t=P(u),a&&a.l(u),s=jn(),this.h()},h:function(){f(e,"class","participant-list svelte-13khnly"),p(e,Ft,31,4,678)},m:function(u,d){Q(u,e,d);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(e,null);Q(u,t,d),a&&a.m(u,d),Q(u,s,d)},p:function(u,d){if(d&14){o=Ke(u[1]);let h;for(h=0;h<o.length;h+=1){const m=Ko(u,o,h);i[h]?i[h].p(m,d):(i[h]=Li(m),i[h].c(),i[h].m(e,null))}for(;h<i.length;h+=1)i[h].d(1);i.length=o.length}u[0]?.oracle?a?a.p(u,d):(a=qi(u),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},d:function(u){u&&(v(e),v(t),v(s)),cn(i,u),a&&a.d(u)}};return q("SvelteRegisterBlock",{block:l,id:Da.name,type:"if",source:"(24:2) {#if participants.length > 0}",ctx:n}),l}function Ra(n){let e,t=n[5].name.charAt(0).toUpperCase()+"",s;const o={c:function(){e=_("div"),s=F(t),this.h()},l:function(a){e=g(a,"DIV",{class:!0});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){f(e,"class","avatar-placeholder svelte-13khnly"),p(e,Ft,51,14,1539)},m:function(a,l){Q(a,e,l),r(e,s)},p:function(a,l){l&2&&t!==(t=a[5].name.charAt(0).toUpperCase()+"")&&ie(s,t)},d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Ra.name,type:"else",source:"(44:12) {:else}",ctx:n}),o}function Va(n){let e,t=n[6].emoji+"",s;const o={c:function(){e=_("div"),s=F(t),this.h()},l:function(a){e=g(a,"DIV",{class:!0,"aria-hidden":!0});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){f(e,"class","avatar-placeholder emoji svelte-13khnly"),f(e,"aria-hidden","true"),p(e,Ft,49,14,1432)},m:function(a,l){Q(a,e,l),r(e,s)},p:function(a,l){l&2&&t!==(t=a[6].emoji+"")&&ie(s,t)},d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Va.name,type:"if",source:"(42:30) ",ctx:n}),o}function Aa(n){let e,t,s,o,i;function a(){return n[4](n[5])}const l={c:function(){e=_("img"),this.h()},l:function(u){e=g(u,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){On(e.src,t=n[6].src)||f(e,"src",t),f(e,"alt",s=n[5].name+" avatar"),f(e,"class","svelte-13khnly"),p(e,Ft,43,14,1223)},m:function(u,d){Q(u,e,d),o||(i=De(e,"error",a,!1,!1,!1,!1),o=!0)},p:function(u,d){n=u,d&2&&!On(e.src,t=n[6].src)&&f(e,"src",t),d&2&&s!==(s=n[5].name+" avatar")&&f(e,"alt",s)},d:function(u){u&&v(e),o=!1,i()}};return q("SvelteRegisterBlock",{block:l,id:Aa.name,type:"if",source:"(36:12) {#if a.src && !brokenAvatarIds.has(participant.id)}",ctx:n}),l}function Li(n){let e,t,s,o,i,a,l,c,u=n[5].name+"",d,h,m,b=n[5].role+"",k,y,S,C=n[5].status+"",E,I,V;function T(j,H){return H&2&&(s=null),s==null&&(s=!!(j[6].src&&!j[2].has(j[5].id))),s?Aa:j[6].emoji?Va:Ra}let R=T(n,-1),M=R(n);const z={c:function(){e=_("div"),t=_("div"),M.c(),o=D(),i=_("div"),a=D(),l=_("div"),c=_("div"),d=F(u),h=D(),m=_("div"),k=F(b),y=D(),S=_("div"),E=F(C),I=D(),this.h()},l:function(H){e=g(H,"DIV",{class:!0,"data-testid":!0});var N=w(e);t=g(N,"DIV",{class:!0});var A=w(t);M.l(A),o=P(A),i=g(A,"DIV",{class:!0}),w(i).forEach(v),A.forEach(v),a=P(N),l=g(N,"DIV",{class:!0});var O=w(l);c=g(O,"DIV",{class:!0});var L=w(c);d=G(L,u),L.forEach(v),h=P(O),m=g(O,"DIV",{class:!0});var se=w(m);k=G(se,b),se.forEach(v),y=P(O),S=g(O,"DIV",{class:!0});var x=w(S);E=G(x,C),x.forEach(v),O.forEach(v),I=P(N),N.forEach(v),this.h()},h:function(){f(i,"class","status-indicator svelte-13khnly"),we(i,"ai",n[5].type==="ai"),p(i,Ft,55,12,1682),f(t,"class","participant-avatar svelte-13khnly"),p(t,Ft,41,10,1112),f(c,"class","participant-name svelte-13khnly"),p(c,Ft,59,12,1837),f(m,"class","participant-role svelte-13khnly"),p(m,Ft,60,12,1904),f(S,"class","participant-status svelte-13khnly"),p(S,Ft,61,12,1971),f(l,"class","participant-info svelte-13khnly"),p(l,Ft,58,10,1794),f(e,"class","participant-item svelte-13khnly"),f(e,"data-testid",V="participant-"+n[5].id),we(e,"active",n[5].status==="active"),we(e,"thinking",n[5].status==="thinking"),we(e,"contributing",n[5].status==="contributing"),p(e,Ft,34,8,812)},m:function(H,N){Q(H,e,N),r(e,t),M.m(t,null),r(t,o),r(t,i),r(e,a),r(e,l),r(l,c),r(c,d),r(l,h),r(l,m),r(m,k),r(l,y),r(l,S),r(S,E),r(e,I)},p:function(H,N){R===(R=T(H,N))&&M?M.p(H,N):(M.d(1),M=R(H),M&&(M.c(),M.m(t,o))),N&2&&we(i,"ai",H[5].type==="ai"),N&2&&u!==(u=H[5].name+"")&&ie(d,u),N&2&&b!==(b=H[5].role+"")&&ie(k,b),N&2&&C!==(C=H[5].status+"")&&ie(E,C),N&2&&V!==(V="participant-"+H[5].id)&&f(e,"data-testid",V),N&2&&we(e,"active",H[5].status==="active"),N&2&&we(e,"thinking",H[5].status==="thinking"),N&2&&we(e,"contributing",H[5].status==="contributing")},d:function(H){H&&v(e),M.d()}};return q("SvelteRegisterBlock",{block:z,id:Li.name,type:"each",source:"(26:6) {#each participants as participant}",ctx:n}),z}function qi(n){let e,t,s="Oracle",o,i,a,l,c=n[0].oracle.name+"",u,d,h,m=n[0].oracle.type+"",b;const k={c:function(){e=_("div"),t=_("h4"),t.textContent=s,o=D(),i=_("div"),a=_("div"),l=_("div"),u=F(c),d=D(),h=_("div"),b=F(m),this.h()},l:function(S){e=g(S,"DIV",{class:!0});var C=w(e);t=g(C,"H4",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1dz89y4"&&(t.textContent=s),o=P(C),i=g(C,"DIV",{class:!0});var E=w(i);a=g(E,"DIV",{class:!0});var I=w(a);l=g(I,"DIV",{class:!0});var V=w(l);u=G(V,c),V.forEach(v),d=P(I),h=g(I,"DIV",{class:!0});var T=w(h);b=G(T,m),T.forEach(v),I.forEach(v),E.forEach(v),C.forEach(v),this.h()},h:function(){f(t,"class","svelte-13khnly"),p(t,Ft,69,8,2157),f(l,"class","oracle-name svelte-13khnly"),p(l,Ft,72,12,2255),f(h,"class","oracle-type svelte-13khnly"),p(h,Ft,73,12,2320),f(a,"class","oracle-info"),p(a,Ft,71,10,2217),f(i,"class","oracle-item svelte-13khnly"),p(i,Ft,70,8,2181),f(e,"class","oracle-section svelte-13khnly"),p(e,Ft,68,6,2120)},m:function(S,C){Q(S,e,C),r(e,t),r(e,o),r(e,i),r(i,a),r(a,l),r(l,u),r(a,d),r(a,h),r(h,b)},p:function(S,C){C&1&&c!==(c=S[0].oracle.name+"")&&ie(u,c),C&1&&m!==(m=S[0].oracle.type+"")&&ie(b,m)},d:function(S){S&&v(e)}};return q("SvelteRegisterBlock",{block:k,id:qi.name,type:"if",source:"(61:4) {#if session?.oracle}",ctx:n}),k}function Ui(n){let e,t,s="Participants",o;function i(u,d){return u[1].length>0?Da:Pa}let a=i(n),l=a(n);const c={c:function(){e=_("div"),t=_("h3"),t.textContent=s,o=D(),l.c(),this.h()},l:function(d){e=g(d,"DIV",{class:!0,"data-testid":!0});var h=w(e);t=g(h,"H3",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-py7b26"&&(t.textContent=s),o=P(h),l.l(h),h.forEach(v),this.h()},h:function(){f(t,"class","svelte-13khnly"),p(t,Ft,28,2,617),f(e,"class","participant-panel svelte-13khnly"),f(e,"data-testid","participant-panel"),p(e,Ft,27,0,551)},m:function(d,h){Q(d,e,h),r(e,t),r(e,o),l.m(e,null)},p:function(d,[h]){a===(a=i(d))&&l?l.p(d,h):(l.d(1),l=a(d),l&&(l.c(),l.m(e,null)))},i:$e,o:$e,d:function(d){d&&v(e),l.d()}};return q("SvelteRegisterBlock",{block:c,id:Ui.name,type:"component",source:"",ctx:n}),c}function Ta(n){if(!n)return{};if(n.startsWith("asset:")){const e=n.slice(6),[t,s]=e.split("|");return{src:t,emoji:s}}return n.startsWith("/")||n.startsWith("http")?{src:n}:{emoji:n}}function Cc(n,e,t){let s,{$$slots:o={},$$scope:i}=e;$t("ParticipantPanel",o,[]);let{session:a=null}=e;const l=new Set;function c(h){l.add(h)}const u=["session"];Object.keys(e).forEach(h=>{!~u.indexOf(h)&&h.slice(0,2)});const d=h=>c(h.id);return n.$$set=h=>{"session"in h&&t(0,a=h.session)},n.$capture_state=()=>({session:a,brokenAvatarIds:l,parseAvatar:Ta,markAvatarBroken:c,participants:s}),n.$inject_state=h=>{"session"in h&&t(0,a=h.session),"participants"in h&&t(1,s=h.participants)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&t(1,s=a?.participants||[])},[a,s,l,c,d]}class Ma extends Xt{constructor(e){super(e),Zt(this,e,Cc,Ui,Kt,{session:0}),q("SvelteRegisterComponent",{component:this,tagName:"ParticipantPanel",options:e,id:Ui.name})}get session(){throw new Error("<ParticipantPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set session(e){throw new Error("<ParticipantPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Ec(){const n=sn({isRunning:!1,currentRound:0,activeParticipantId:null,pendingContributions:new Map,error:null,useMockMode:!0}),e=sn([]);zn.state.subscribe(l=>{n.update(c=>({...c,useMockMode:l.useMockMode}))}),zn.messages.subscribe(l=>{const c=l.map(u=>({id:u.messageId,participantId:u.participantId,participantName:u.participantName,participantType:u.participantType,content:u.content,timestamp:new Date(u.timestamp),type:u.type,status:u.status}));c.length>0&&!nn(n).useMockMode&&e.set(c)});const t={drafting:[`Based on the session goal, I propose we structure this into three main components:

1. **Core Architecture** - Define the fundamental building blocks
2. **Interface Layer** - How users interact with the system
3. **Data Flow** - Information movement between components

This approach allows for modular development and clear separation of concerns.`,`I'll approach this from a user-centric perspective:

**User Stories:**
- As a developer, I need clear APIs to integrate quickly
- As an operator, I want visibility into system health
- As an admin, I require granular access controls

**Key Considerations:**
- Performance at scale
- Security by default
- Developer experience`,`Looking at this systematically, the goal suggests we need:

\`\`\`
Input  Processing  Output
         
    Validation
         
    Persistence
\`\`\`

I recommend starting with the happy path, then adding error handling and edge cases iteratively.`],critiquing:[`I see some strong elements in the proposals. However:

 **Concern**: The modular approach may introduce unnecessary complexity for the MVP

 **Suggestion**: Start with a monolithic core, then extract services as needed

 **Agreement**: The user-centric framing is valuable`,`Building on the previous contributions:

**Strengths:**
- Clear structure
- Good separation of concerns

**Gaps identified:**
- No mention of testing strategy
- Security considerations need elaboration
- What about backwards compatibility?`,`The systematic approach is sound, but I'd challenge:

1. The linear flow might not capture real-world async requirements
2. We should consider event-driven patterns
3. The persistence layer needs more detail - what's our consistency model?`],synthesis:[`**Synthesizing the discussion:**

We've converged on a layered architecture with:
- User-centric design principles
- Modular but pragmatic structure
- Event-driven core with sync interfaces

**Action Items:**
1. Define core data models
2. Draft API specifications
3. Create testing framework

**Open Questions:**
- Consistency vs availability trade-offs
- MVP scope boundaries`]};async function s(l){if(n.update(m=>({...m,isRunning:!0,error:null,currentRound:1})),!nn(n).useMockMode){try{const m=l.phase;if(await zn.startDeliberation(l.id,m))return}catch{}n.update(m=>({...m,useMockMode:!0}))}e.set([]);const u=l.participants.filter(m=>m.type==="ai"),d=l.phase,h=t[d]||t.drafting;for(let m=0;m<u.length;m++){const b=u[m];n.update(S=>({...S,activeParticipantId:b.id}));const k={id:`msg-${Date.now()}-${m}`,participantId:b.id,participantName:b.name,participantType:b.type,content:"",timestamp:new Date,type:"thinking",status:"pending"};e.update(S=>[...S,k]),await Jo(800+Math.random()*1200);const y=h[m%h.length];await o(k.id,y)}n.update(m=>({...m,isRunning:!1,activeParticipantId:null}))}async function o(l,c,u){const d=c.split(" ");let h="";e.update(m=>m.map(b=>b.id===l?{...b,type:"proposal",status:"streaming"}:b));for(let m=0;m<d.length;m++)h+=(m>0?" ":"")+d[m],e.update(b=>b.map(k=>k.id===l?{...k,content:h}:k)),await Jo(20+Math.random()*40);e.update(m=>m.map(b=>b.id===l?{...b,status:"complete"}:b))}async function i(l){if(!nn(n).useMockMode&&l)try{await zn.stopDeliberation(l)}catch{}n.update(u=>({...u,isRunning:!1,activeParticipantId:null}))}function a(){e.set([]),zn.clearMessages()}return{state:{subscribe:n.subscribe},messages:{subscribe:e.subscribe},startDeliberation:s,stopDeliberation:i,clearMessages:a}}function Jo(n){return new Promise(e=>setTimeout(e,n))}const us=Ec(),pt="src/lib/components/forge/DeliberationView.svelte";function ni(n,e,t){const s=n.slice();return s[16]=e[t],s}function Ic(n){const e=n.slice(),t=mi(e[0]);return e[19]=t,e}function Na(n){let e;const t={c:function(){e=F("")},l:function(o){e=G(o,"")},m:function(o,i){Q(o,e,i)},d:function(o){o&&v(e)}};return q("SvelteRegisterBlock",{block:t,id:Na.name,type:"else",source:"(74:8) {:else}",ctx:n}),t}function Ba(n){let e;const t={c:function(){e=F("")},l:function(o){e=G(o,"")},m:function(o,i){Q(o,e,i)},d:function(o){o&&v(e)}};return q("SvelteRegisterBlock",{block:t,id:Ba.name,type:"if",source:"(73:40) ",ctx:n}),t}function za(n){let e;const t={c:function(){e=F("")},l:function(o){e=G(o,"")},m:function(o,i){Q(o,e,i)},d:function(o){o&&v(e)}};return q("SvelteRegisterBlock",{block:t,id:za.name,type:"if",source:"(72:41) ",ctx:n}),t}function ja(n){let e;const t={c:function(){e=F("")},l:function(o){e=G(o,"")},m:function(o,i){Q(o,e,i)},d:function(o){o&&v(e)}};return q("SvelteRegisterBlock",{block:t,id:ja.name,type:"if",source:"(71:41) ",ctx:n}),t}function Oa(n){let e;const t={c:function(){e=F("")},l:function(o){e=G(o,"")},m:function(o,i){Q(o,e,i)},d:function(o){o&&v(e)}};return q("SvelteRegisterBlock",{block:t,id:Oa.name,type:"if",source:"(70:8) {#if phase === 'drafting'}",ctx:n}),t}function Ga(n){let e;const t={c:function(){e=F("Structured deliberation in progress")},l:function(o){e=G(o,"Structured deliberation in progress")},m:function(o,i){Q(o,e,i)},d:function(o){o&&v(e)}};return q("SvelteRegisterBlock",{block:t,id:Ga.name,type:"else",source:"(87:10) {:else}",ctx:n}),t}function Fa(n){let e;const t={c:function(){e=F("Deliberation complete - review results")},l:function(o){e=G(o,"Deliberation complete - review results")},m:function(o,i){Q(o,e,i)},d:function(o){o&&v(e)}};return q("SvelteRegisterBlock",{block:t,id:Fa.name,type:"if",source:"(85:42) ",ctx:n}),t}function Wa(n){let e;const t={c:function(){e=F("Synthesize feedback into refined solutions")},l:function(o){e=G(o,"Synthesize feedback into refined solutions")},m:function(o,i){Q(o,e,i)},d:function(o){o&&v(e)}};return q("SvelteRegisterBlock",{block:t,id:Wa.name,type:"if",source:"(83:43) ",ctx:n}),t}function Ha(n){let e;const t={c:function(){e=F("Review and provide feedback on proposals")},l:function(o){e=G(o,"Review and provide feedback on proposals")},m:function(o,i){Q(o,e,i)},d:function(o){o&&v(e)}};return q("SvelteRegisterBlock",{block:t,id:Ha.name,type:"if",source:"(81:43) ",ctx:n}),t}function La(n){let e;const t={c:function(){e=F("Participants generate initial proposals and ideas")},l:function(o){e=G(o,"Participants generate initial proposals and ideas")},m:function(o,i){Q(o,e,i)},d:function(o){o&&v(e)}};return q("SvelteRegisterBlock",{block:t,id:La.name,type:"if",source:"(79:10) {#if phase === 'drafting'}",ctx:n}),t}function qa(n){let e,t,s=n[19]&&Qi(n);const o={c:function(){s&&s.c(),e=jn()},l:function(a){s&&s.l(a),e=jn()},m:function(a,l){s&&s.m(a,l),Q(a,e,l),t=!0},p:function(a,l){a[19]?s?(s.p(a,l),l&1&&K(s,1)):(s=Qi(a),s.c(),K(s,1),s.m(e.parentNode,e)):s&&(lt(),$(s,1,1,()=>{s=null}),ot())},i:function(a){t||(K(s),t=!0)},o:function(a){$(s),t=!1},d:function(a){a&&v(e),s&&s.d(a)}};return q("SvelteRegisterBlock",{block:o,id:qa.name,type:"if",source:"(104:59) ",ctx:n}),o}function Ua(n){let e,t,s,o=Jn(n[0])+"",i,a,l,c;t=new Ue({props:{name:"play",size:16},$$inline:!0});const u={c:function(){e=_("button"),Be(t.$$.fragment),s=F(`
          Begin `),i=F(o),this.h()},l:function(h){e=g(h,"BUTTON",{type:!0,class:!0});var m=w(e);Ne(t.$$.fragment,m),s=G(m,`
          Begin `),i=G(m,o),m.forEach(v),this.h()},h:function(){f(e,"type","button"),f(e,"class","btn btn-primary svelte-avsoww"),p(e,pt,116,8,3255)},m:function(h,m){Q(h,e,m),Me(t,e,null),r(e,s),r(e,i),a=!0,l||(c=De(e,"click",n[8],!1,!1,!1,!1),l=!0)},p:function(h,m){(!a||m&1)&&o!==(o=Jn(h[0])+"")&&ie(i,o)},i:function(h){a||(K(t.$$.fragment,h),a=!0)},o:function(h){$(t.$$.fragment,h),a=!1},d:function(h){h&&v(e),Te(t),l=!1,c()}};return q("SvelteRegisterBlock",{block:u,id:Ua.name,type:"if",source:"(99:25) ",ctx:n}),u}function Qa(n){let e,t,s,o,i,a;t=new Ue({props:{name:"square",size:16},$$inline:!0});const l={c:function(){e=_("button"),Be(t.$$.fragment),s=F(`
          Stop`),this.h()},l:function(u){e=g(u,"BUTTON",{type:!0,class:!0});var d=w(e);Ne(t.$$.fragment,d),s=G(d,`
          Stop`),d.forEach(v),this.h()},h:function(){f(e,"type","button"),f(e,"class","btn btn-danger svelte-avsoww"),p(e,pt,111,8,3077)},m:function(u,d){Q(u,e,d),Me(t,e,null),r(e,s),o=!0,i||(a=De(e,"click",n[9],!1,!1,!1,!1),i=!0)},p:$e,i:function(u){o||(K(t.$$.fragment,u),o=!0)},o:function(u){$(t.$$.fragment,u),o=!1},d:function(u){u&&v(e),Te(t),i=!1,a()}};return q("SvelteRegisterBlock",{block:l,id:Qa.name,type:"if",source:"(94:6) {#if isRunning}",ctx:n}),l}function Qi(n){let e,t,s,o=Jn(n[19])+"",i,a,l,c;t=new Ue({props:{name:"arrow-right",size:16},$$inline:!0});const u={c:function(){e=_("button"),Be(t.$$.fragment),s=F(`
            Continue to `),i=F(o),this.h()},l:function(h){e=g(h,"BUTTON",{type:!0,class:!0});var m=w(e);Ne(t.$$.fragment,m),s=G(m,`
            Continue to `),i=G(m,o),m.forEach(v),this.h()},h:function(){f(e,"type","button"),f(e,"class","btn btn-primary svelte-avsoww"),p(e,pt,123,10,3566)},m:function(h,m){Q(h,e,m),Me(t,e,null),r(e,s),r(e,i),a=!0,l||(c=De(e,"click",n[10],!1,!1,!1,!1),l=!0)},p:function(h,m){(!a||m&1)&&o!==(o=Jn(h[19])+"")&&ie(i,o)},i:function(h){a||(K(t.$$.fragment,h),a=!0)},o:function(h){$(t.$$.fragment,h),a=!1},d:function(h){h&&v(e),Te(t),l=!1,c()}};return q("SvelteRegisterBlock",{block:u,id:Qi.name,type:"if",source:"(106:8) {#if nextPhase}",ctx:n}),u}function Ka(n){let e=[],t=new Map,s,o,i,a=Ke(n[2]);const l=d=>d[16].id;ln(n,a,ni,l);for(let d=0;d<a.length;d+=1){let h=ni(n,a,d),m=l(h);t.set(m,e[d]=Ki(m,h))}let c=n[3]&&n[5]&&Ji(n);const u={c:function(){for(let h=0;h<e.length;h+=1)e[h].c();s=D(),c&&c.c(),o=jn()},l:function(h){for(let m=0;m<e.length;m+=1)e[m].l(h);s=P(h),c&&c.l(h),o=jn()},m:function(h,m){for(let b=0;b<e.length;b+=1)e[b]&&e[b].m(h,m);Q(h,s,m),c&&c.m(h,m),Q(h,o,m),i=!0},p:function(h,m){m&2052&&(a=Ke(h[2]),lt(),ln(h,a,ni,l),e=ls(e,m,l,1,h,a,t,s.parentNode,go,Ki,s,ni),ot()),h[3]&&h[5]?c?m&40&&K(c,1):(c=Ji(h),c.c(),K(c,1),c.m(o.parentNode,o)):c&&(lt(),$(c,1,1,()=>{c=null}),ot())},i:function(h){if(!i){for(let m=0;m<a.length;m+=1)K(e[m]);K(c),i=!0}},o:function(h){for(let m=0;m<e.length;m+=1)$(e[m]);$(c),i=!1},d:function(h){h&&(v(s),v(o));for(let m=0;m<e.length;m+=1)e[m].d(h);c&&c.d(h)}};return q("SvelteRegisterBlock",{block:u,id:Ka.name,type:"else",source:"(125:4) {:else}",ctx:n}),u}function Ja(n){let e,t,s,o,i,a,l=Jn(n[0])+"",c,u,d;s=new Ue({props:{name:"message-circle",size:48},$$inline:!0});const h={c:function(){e=_("div"),t=_("div"),Be(s.$$.fragment),o=D(),i=_("p"),a=F('Click "Begin '),c=F(l),u=F('" to start the deliberation'),this.h()},l:function(b){e=g(b,"DIV",{class:!0});var k=w(e);t=g(k,"DIV",{class:!0});var y=w(t);Ne(s.$$.fragment,y),y.forEach(v),o=P(k),i=g(k,"P",{class:!0});var S=w(i);a=G(S,'Click "Begin '),c=G(S,l),u=G(S,'" to start the deliberation'),S.forEach(v),k.forEach(v),this.h()},h:function(){f(t,"class","empty-icon svelte-avsoww"),p(t,pt,136,8,3985),f(i,"class","svelte-avsoww"),p(i,pt,139,8,4084),f(e,"class","empty-state svelte-avsoww"),p(e,pt,135,6,3951)},m:function(b,k){Q(b,e,k),r(e,t),Me(s,t,null),r(e,o),r(e,i),r(i,a),r(i,c),r(i,u),d=!0},p:function(b,k){(!d||k&1)&&l!==(l=Jn(b[0])+"")&&ie(c,l)},i:function(b){d||(K(s.$$.fragment,b),d=!0)},o:function(b){$(s.$$.fragment,b),d=!1},d:function(b){b&&v(e),Te(s)}};return q("SvelteRegisterBlock",{block:h,id:Ja.name,type:"if",source:"(118:4) {#if messages.length === 0 && !isRunning}",ctx:n}),h}function Ya(n){let e,t,s,o="Thinking...",i;e=new Wn({props:{size:14,color:"var(--tachi-cyan)"},$$inline:!0});const a={c:function(){Be(e.$$.fragment),t=D(),s=_("span"),s.textContent=o,this.h()},l:function(c){Ne(e.$$.fragment,c),t=P(c),s=g(c,"SPAN",{"data-svelte-h":!0}),Z(s)!=="svelte-1qmwp28"&&(s.textContent=o),this.h()},h:function(){p(s,pt,167,16,5379)},m:function(c,u){Me(e,c,u),Q(c,t,u),Q(c,s,u),i=!0},i:function(c){i||(K(e.$$.fragment,c),i=!0)},o:function(c){$(e.$$.fragment,c),i=!1},d:function(c){c&&(v(t),v(s)),Te(e,c)}};return q("SvelteRegisterBlock",{block:a,id:Ya.name,type:"else",source:"(149:14) {:else}",ctx:n}),a}function Xa(n){let e,t;e=new Ue({props:{name:"check-circle",size:14},$$inline:!0});const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:Xa.name,type:"if",source:"(147:54) ",ctx:n}),s}function Za(n){let e,t,s,o="Generating...",i;e=new Wn({props:{size:14,color:"var(--tachi-cyan)"},$$inline:!0});const a={c:function(){Be(e.$$.fragment),t=D(),s=_("span"),s.textContent=o,this.h()},l:function(c){Ne(e.$$.fragment,c),t=P(c),s=g(c,"SPAN",{"data-svelte-h":!0}),Z(s)!=="svelte-1td54v4"&&(s.textContent=o),this.h()},h:function(){p(s,pt,162,16,5140)},m:function(c,u){Me(e,c,u),Q(c,t,u),Q(c,s,u),i=!0},i:function(c){i||(K(e.$$.fragment,c),i=!0)},o:function(c){$(e.$$.fragment,c),i=!1},d:function(c){c&&(v(t),v(s)),Te(e,c)}};return q("SvelteRegisterBlock",{block:a,id:Za.name,type:"if",source:"(144:14) {#if message.status === 'streaming'}",ctx:n}),a}function $a(n){let e,t,s,o,i,a;const l={c:function(){e=_("div"),t=_("span"),s=D(),o=_("span"),i=D(),a=_("span"),this.h()},l:function(u){e=g(u,"DIV",{class:!0});var d=w(e);t=g(d,"SPAN",{class:!0}),w(t).forEach(v),s=P(d),o=g(d,"SPAN",{class:!0}),w(o).forEach(v),i=P(d),a=g(d,"SPAN",{class:!0}),w(a).forEach(v),d.forEach(v),this.h()},h:function(){f(t,"class","dot svelte-avsoww"),p(t,pt,177,16,5682),f(o,"class","dot svelte-avsoww"),p(o,pt,178,16,5724),f(a,"class","dot svelte-avsoww"),p(a,pt,179,16,5766),f(e,"class","thinking-indicator svelte-avsoww"),p(e,pt,176,14,5633)},m:function(u,d){Q(u,e,d),r(e,t),r(e,s),r(e,o),r(e,i),r(e,a)},p:$e,d:function(u){u&&v(e)}};return q("SvelteRegisterBlock",{block:l,id:$a.name,type:"else",source:"(159:12) {:else}",ctx:n}),l}function xa(n){let e,t=n[11](n[16].content)+"",s;const o={c:function(){e=new Ps(!1),s=jn(),this.h()},l:function(a){e=Is(a,!1),s=jn(),this.h()},h:function(){e.a=s},m:function(a,l){e.m(t,a,l),Q(a,s,l)},p:function(a,l){l&4&&t!==(t=a[11](a[16].content)+"")&&e.p(t)},d:function(a){a&&(v(s),e.d())}};return q("SvelteRegisterBlock",{block:o,id:xa.name,type:"if",source:"(157:12) {#if message.content}",ctx:n}),o}function Ki(n,e){let t,s,o,i=e[16].participantName.charAt(0).toUpperCase()+"",a,l,c,u,d=e[16].participantName+"",h,m,b,k=e[16].timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})+"",y,S,C,E,I,V,T,R,M;const z=[Za,Xa,Ya],j=[];function H(se,x){return se[16].status==="streaming"?0:se[16].status==="complete"?1:2}E=H(e),I=j[E]=z[E](e);function N(se,x){return se[16].content?xa:$a}let A=N(e),O=A(e);const L={key:n,first:null,c:function(){t=_("div"),s=_("div"),o=_("div"),a=F(i),l=D(),c=_("div"),u=_("span"),h=F(d),m=D(),b=_("span"),y=F(k),S=D(),C=_("div"),I.c(),V=D(),T=_("div"),O.c(),this.h()},l:function(x){t=g(x,"DIV",{class:!0,"data-participant-type":!0});var B=w(t);s=g(B,"DIV",{class:!0});var Y=w(s);o=g(Y,"DIV",{class:!0});var J=w(o);a=G(J,i),J.forEach(v),l=P(Y),c=g(Y,"DIV",{class:!0});var ee=w(c);u=g(ee,"SPAN",{class:!0});var U=w(u);h=G(U,d),U.forEach(v),m=P(ee),b=g(ee,"SPAN",{class:!0});var X=w(b);y=G(X,k),X.forEach(v),ee.forEach(v),S=P(Y),C=g(Y,"DIV",{class:!0});var ne=w(C);I.l(ne),ne.forEach(v),Y.forEach(v),V=P(B),T=g(B,"DIV",{class:!0});var ge=w(T);O.l(ge),ge.forEach(v),B.forEach(v),this.h()},h:function(){f(o,"class","participant-avatar svelte-avsoww"),we(o,"ai",e[16].participantType==="ai"),p(o,pt,150,12,4505),f(u,"class","participant-name svelte-avsoww"),p(u,pt,154,14,4722),f(b,"class","message-time svelte-avsoww"),p(b,pt,155,14,4800),f(c,"class","participant-info svelte-avsoww"),p(c,pt,153,12,4677),f(C,"class","message-status svelte-avsoww"),p(C,pt,159,12,4980),f(s,"class","message-header svelte-avsoww"),p(s,pt,149,10,4464),f(T,"class","message-content svelte-avsoww"),p(T,pt,172,10,5481),f(t,"class","message-card svelte-avsoww"),f(t,"data-participant-type",R=e[16].participantType),we(t,"streaming",e[16].status==="streaming"),we(t,"thinking",e[16].type==="thinking"),p(t,pt,143,8,4234),this.first=t},m:function(x,B){Q(x,t,B),r(t,s),r(s,o),r(o,a),r(s,l),r(s,c),r(c,u),r(u,h),r(c,m),r(c,b),r(b,y),r(s,S),r(s,C),j[E].m(C,null),r(t,V),r(t,T),O.m(T,null),M=!0},p:function(x,B){e=x,(!M||B&4)&&i!==(i=e[16].participantName.charAt(0).toUpperCase()+"")&&ie(a,i),(!M||B&4)&&we(o,"ai",e[16].participantType==="ai"),(!M||B&4)&&d!==(d=e[16].participantName+"")&&ie(h,d),(!M||B&4)&&k!==(k=e[16].timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})+"")&&ie(y,k);let Y=E;E=H(e),E!==Y&&(lt(),$(j[Y],1,1,()=>{j[Y]=null}),ot(),I=j[E],I||(I=j[E]=z[E](e),I.c()),K(I,1),I.m(C,null)),A===(A=N(e))&&O?O.p(e,B):(O.d(1),O=A(e),O&&(O.c(),O.m(T,null))),(!M||B&4&&R!==(R=e[16].participantType))&&f(t,"data-participant-type",R),(!M||B&4)&&we(t,"streaming",e[16].status==="streaming"),(!M||B&4)&&we(t,"thinking",e[16].type==="thinking")},i:function(x){M||(K(I),M=!0)},o:function(x){$(I),M=!1},d:function(x){x&&v(t),j[E].d(),O.d()}};return q("SvelteRegisterBlock",{block:L,id:Ki.name,type:"each",source:"(126:6) {#each messages as message (message.id)}",ctx:e}),L}function Ji(n){let e,t,s,o,i="Participant is responding...",a;t=new Wn({props:{size:12,color:"var(--tachi-cyan)"},$$inline:!0});const l={c:function(){e=_("div"),Be(t.$$.fragment),s=D(),o=_("span"),o.textContent=i,this.h()},l:function(u){e=g(u,"DIV",{class:!0});var d=w(e);Ne(t.$$.fragment,d),s=P(d),o=g(d,"SPAN",{"data-svelte-h":!0}),Z(o)!=="svelte-6w4l96"&&(o.textContent=i),d.forEach(v),this.h()},h:function(){p(o,pt,189,10,6030),f(e,"class","typing-indicator svelte-avsoww"),p(e,pt,187,8,5931)},m:function(u,d){Q(u,e,d),Me(t,e,null),r(e,s),r(e,o),a=!0},i:function(u){a||(K(t.$$.fragment,u),a=!0)},o:function(u){$(t.$$.fragment,u),a=!1},d:function(u){u&&v(e),Te(t)}};return q("SvelteRegisterBlock",{block:l,id:Ji.name,type:"if",source:"(170:6) {#if isRunning && activeParticipantId}",ctx:n}),l}function Yi(n){let e,t,s,o,i,a,l,c=Jn(n[0])+"",u,d,h,m,b,k,y,S,C,E,I,V,T,R;function M(U,X){return U[0]==="drafting"?Oa:U[0]==="critiquing"?ja:U[0]==="converging"?za:U[0]==="completed"?Ba:Na}let z=M(n),j=z(n);function H(U,X){return U[0]==="drafting"?La:U[0]==="critiquing"?Ha:U[0]==="converging"?Wa:U[0]==="completed"?Fa:Ga}let N=H(n),A=N(n);const O=[Qa,Ua,qa],L=[];function se(U,X){return X&5&&(y=null),U[3]?0:U[4]?1:(y==null&&(y=!!(U[2].length>0&&mi(U[0]))),y?2:-1)}function x(U,X){return X===2?Ic(U):U}~(S=se(n,-1))&&(C=L[S]=O[S](x(n,S)));const B=[Ja,Ka],Y=[];function J(U,X){return U[2].length===0&&!U[3]?0:1}V=J(n),T=Y[V]=B[V](n);const ee={c:function(){e=_("div"),t=_("div"),s=_("div"),o=_("div"),j.c(),i=D(),a=_("div"),l=_("h3"),u=F(c),d=F(" Phase"),h=D(),m=_("p"),A.c(),b=D(),k=_("div"),C&&C.c(),E=D(),I=_("div"),T.c(),this.h()},l:function(X){e=g(X,"DIV",{class:!0,"data-phase":!0});var ne=w(e);t=g(ne,"DIV",{class:!0});var ge=w(t);s=g(ge,"DIV",{class:!0});var de=w(s);o=g(de,"DIV",{class:!0});var W=w(o);j.l(W),W.forEach(v),i=P(de),a=g(de,"DIV",{class:!0});var te=w(a);l=g(te,"H3",{class:!0});var me=w(l);u=G(me,c),d=G(me," Phase"),me.forEach(v),h=P(te),m=g(te,"P",{class:!0});var he=w(m);A.l(he),he.forEach(v),te.forEach(v),de.forEach(v),b=P(ge),k=g(ge,"DIV",{class:!0});var ve=w(k);C&&C.l(ve),ve.forEach(v),ge.forEach(v),E=P(ne),I=g(ne,"DIV",{class:!0});var pe=w(I);T.l(pe),pe.forEach(v),ne.forEach(v),this.h()},h:function(){f(o,"class","phase-icon svelte-avsoww"),p(o,pt,85,6,2144),f(l,"class","phase-title svelte-avsoww"),p(l,pt,93,8,2411),f(m,"class","phase-description svelte-avsoww"),p(m,pt,94,8,2477),f(a,"class","phase-text svelte-avsoww"),p(a,pt,92,6,2378),f(s,"class","phase-info svelte-avsoww"),p(s,pt,84,4,2113),f(k,"class","phase-actions svelte-avsoww"),p(k,pt,109,4,3019),f(t,"class","phase-header svelte-avsoww"),p(t,pt,83,2,2082),f(I,"class","messages-container svelte-avsoww"),p(I,pt,133,2,3836),f(e,"class","deliberation-view svelte-avsoww"),f(e,"data-phase",n[0]),p(e,pt,81,0,2005)},m:function(X,ne){Q(X,e,ne),r(e,t),r(t,s),r(s,o),j.m(o,null),r(s,i),r(s,a),r(a,l),r(l,u),r(l,d),r(a,h),r(a,m),A.m(m,null),r(t,b),r(t,k),~S&&L[S].m(k,null),r(e,E),r(e,I),Y[V].m(I,null),n[15](I),R=!0},p:function(X,[ne]){z!==(z=M(X))&&(j.d(1),j=z(X),j&&(j.c(),j.m(o,null))),(!R||ne&1)&&c!==(c=Jn(X[0])+"")&&ie(u,c),N!==(N=H(X))&&(A.d(1),A=N(X),A&&(A.c(),A.m(m,null)));let ge=S;S=se(X,ne),S===ge?~S&&L[S].p(x(X,S),ne):(C&&(lt(),$(L[ge],1,1,()=>{L[ge]=null}),ot()),~S?(C=L[S],C?C.p(x(X,S),ne):(C=L[S]=O[S](x(X,S)),C.c()),K(C,1),C.m(k,null)):C=null);let de=V;V=J(X),V===de?Y[V].p(X,ne):(lt(),$(Y[de],1,1,()=>{Y[de]=null}),ot(),T=Y[V],T?T.p(X,ne):(T=Y[V]=B[V](X),T.c()),K(T,1),T.m(I,null)),(!R||ne&1)&&f(e,"data-phase",X[0])},i:function(X){R||(K(C),K(T),R=!0)},o:function(X){$(C),$(T),R=!1},d:function(X){X&&v(e),j.d(),A.d(),~S&&L[S].d(),Y[V].d(),n[15](null)}};return q("SvelteRegisterBlock",{block:ee,id:Yi.name,type:"component",source:"",ctx:n}),ee}function mi(n){const e=["drafting","critiquing","converging","completed"],t=e.indexOf(n);return t>=0&&t<e.length-1?e[t+1]:null}function Jn(n){return{idle:"Ready",configuring:"Configuring",drafting:"Initial Drafts",critiquing:"Critique Round",deliberating:"Deliberation",converging:"Synthesizing",completed:"Complete",paused:"Paused",error:"Error"}[n]||n}function Pc(n,e,t){let s,o,i,a,l,c,{$$slots:u={},$$scope:d}=e;$t("DeliberationView",u,[]);let{session:h}=e,{phase:m}=e,b;const k=us.state;qt(k,"deliberationState"),Ut(n,k,R=>t(14,c=R));const y=us.messages;qt(y,"messagesStore"),Ut(n,y,R=>t(13,l=R));function S(){h&&us.startDeliberation(h)}function C(){us.stopDeliberation(h?.id)}function E(){if(h){const R=mi(m);R&&(Nt.updateSessionPhase(h.id,R),us.clearMessages(),setTimeout(()=>{const M={...h,phase:R};us.startDeliberation(M)},500))}}function I(R){return Fn(R)}n.$$.on_mount.push(function(){h===void 0&&("session"in e||n.$$.bound[n.$$.props.session]),m===void 0&&("phase"in e||n.$$.bound[n.$$.props.phase])});const V=["session","phase"];Object.keys(e).forEach(R=>{!~V.indexOf(R)&&R.slice(0,2)});function T(R){hi[R?"unshift":"push"](()=>{b=R,t(1,b),t(2,i),t(13,l)})}return n.$$set=R=>{"session"in R&&t(12,h=R.session),"phase"in R&&t(0,m=R.phase)},n.$capture_state=()=>({marked:Fn,Icon:Ue,Spinner:Wn,deliberationStore:us,forgeSessionStore:Nt,session:h,phase:m,messagesContainer:b,deliberationState:k,messagesStore:y,handleStart:S,handleStop:C,handleContinue:E,getNextPhase:mi,getPhaseLabel:Jn,renderMarkdown:I,messages:i,isRunning:s,canStart:a,activeParticipantId:o,$messagesStore:l,$deliberationState:c}),n.$inject_state=R=>{"session"in R&&t(12,h=R.session),"phase"in R&&t(0,m=R.phase),"messagesContainer"in R&&t(1,b=R.messagesContainer),"messages"in R&&t(2,i=R.messages),"isRunning"in R&&t(3,s=R.isRunning),"canStart"in R&&t(4,a=R.canStart),"activeParticipantId"in R&&t(5,o=R.activeParticipantId)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&16384&&t(3,s=c.isRunning),n.$$.dirty&16384&&t(5,o=c.activeParticipantId),n.$$.dirty&8192&&t(2,i=l),n.$$.dirty&4108&&t(4,a=h&&!s&&i.length===0),n.$$.dirty&6&&i.length&&b&&setTimeout(()=>{t(1,b.scrollTop=b.scrollHeight,b)},50)},[m,b,i,s,a,o,k,y,S,C,E,I,h,l,c,T]}class er extends Xt{constructor(e){super(e),Zt(this,e,Pc,Yi,Kt,{session:12,phase:0}),q("SvelteRegisterComponent",{component:this,tagName:"DeliberationView",options:e,id:Yi.name})}get session(){throw new Error("<DeliberationView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set session(e){throw new Error("<DeliberationView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get phase(){throw new Error("<DeliberationView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set phase(e){throw new Error("<DeliberationView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const le="src/lib/components/forge/MainContentArea.svelte";function Yo(n,e,t){const s=n.slice();return s[12]=e[t],s}function tr(n){let e,t,s,o="",i,a,l="Spec Forge",c,u,d="Multi-model deliberation engine for spec creation and refinement",h,m,b,k,y,S,C,E,I,V="",T,R,M="Multi-Agent",z,j,H="Bring together AI models with different perspectives",N,A,O,L="",se,x,B="Goal-Driven",Y,J,ee="Define objectives and let agents deliberate solutions",U,X,ne,ge="",de,W,te="Convergence",me,he,ve="Structured rounds to reach consensus on complex topics",pe;k=new Ue({props:{name:"zap",size:20},$$inline:!0});const He={c:function(){e=_("div"),t=_("div"),s=_("div"),s.textContent=o,i=D(),a=_("h1"),a.textContent=l,c=D(),u=_("p"),u.textContent=d,h=D(),m=_("div"),b=_("button"),Be(k.$$.fragment),y=F(`
            Create New Session`),S=D(),C=_("div"),E=_("div"),I=_("div"),I.textContent=V,T=D(),R=_("h3"),R.textContent=M,z=D(),j=_("p"),j.textContent=H,N=D(),A=_("div"),O=_("div"),O.textContent=L,se=D(),x=_("h3"),x.textContent=B,Y=D(),J=_("p"),J.textContent=ee,U=D(),X=_("div"),ne=_("div"),ne.textContent=ge,de=D(),W=_("h3"),W.textContent=te,me=D(),he=_("p"),he.textContent=ve,this.h()},l:function(re){e=g(re,"DIV",{class:!0});var Se=w(e);t=g(Se,"DIV",{class:!0});var ue=w(t);s=g(ue,"DIV",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-125ym0r"&&(s.textContent=o),i=P(ue),a=g(ue,"H1",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-1ikiv6k"&&(a.textContent=l),c=P(ue),u=g(ue,"P",{class:!0,"data-svelte-h":!0}),Z(u)!=="svelte-1x1uv6k"&&(u.textContent=d),h=P(ue),m=g(ue,"DIV",{class:!0});var Ae=w(m);b=g(Ae,"BUTTON",{type:!0,class:!0});var st=w(b);Ne(k.$$.fragment,st),y=G(st,`
            Create New Session`),st.forEach(v),Ae.forEach(v),S=P(ue),C=g(ue,"DIV",{class:!0});var ke=w(C);E=g(ke,"DIV",{class:!0});var _e=w(E);I=g(_e,"DIV",{class:!0,"data-svelte-h":!0}),Z(I)!=="svelte-5uckmt"&&(I.textContent=V),T=P(_e),R=g(_e,"H3",{class:!0,"data-svelte-h":!0}),Z(R)!=="svelte-14o2gtd"&&(R.textContent=M),z=P(_e),j=g(_e,"P",{class:!0,"data-svelte-h":!0}),Z(j)!=="svelte-tkmyqu"&&(j.textContent=H),_e.forEach(v),N=P(ke),A=g(ke,"DIV",{class:!0});var ce=w(A);O=g(ce,"DIV",{class:!0,"data-svelte-h":!0}),Z(O)!=="svelte-9nnsxm"&&(O.textContent=L),se=P(ce),x=g(ce,"H3",{class:!0,"data-svelte-h":!0}),Z(x)!=="svelte-10wnjay"&&(x.textContent=B),Y=P(ce),J=g(ce,"P",{class:!0,"data-svelte-h":!0}),Z(J)!=="svelte-sjg80c"&&(J.textContent=ee),ce.forEach(v),U=P(ke),X=g(ke,"DIV",{class:!0});var Ce=w(X);ne=g(Ce,"DIV",{class:!0,"data-svelte-h":!0}),Z(ne)!=="svelte-eikmhw"&&(ne.textContent=ge),de=P(Ce),W=g(Ce,"H3",{class:!0,"data-svelte-h":!0}),Z(W)!=="svelte-ab93pt"&&(W.textContent=te),me=P(Ce),he=g(Ce,"P",{class:!0,"data-svelte-h":!0}),Z(he)!=="svelte-12d1q0q"&&(he.textContent=ve),Ce.forEach(v),ke.forEach(v),ue.forEach(v),Se.forEach(v),this.h()},h:function(){f(s,"class","welcome-icon svelte-1m5bgor"),p(s,le,259,8,10192),f(a,"class","svelte-1m5bgor"),p(a,le,260,8,10235),f(u,"class","welcome-tagline svelte-1m5bgor"),p(u,le,261,8,10263),f(b,"type","button"),f(b,"class","btn btn-primary btn-large svelte-1m5bgor"),p(b,le,264,10,10416),f(m,"class","welcome-actions svelte-1m5bgor"),p(m,le,263,8,10376),f(I,"class","feature-icon svelte-1m5bgor"),p(I,le,272,12,10670),f(R,"class","svelte-1m5bgor"),p(R,le,273,12,10717),f(j,"class","svelte-1m5bgor"),p(j,le,274,12,10750),f(E,"class","feature-card svelte-1m5bgor"),p(E,le,271,10,10631),f(O,"class","feature-icon svelte-1m5bgor"),p(O,le,277,12,10876),f(x,"class","svelte-1m5bgor"),p(x,le,278,12,10923),f(J,"class","svelte-1m5bgor"),p(J,le,279,12,10956),f(A,"class","feature-card svelte-1m5bgor"),p(A,le,276,10,10837),f(ne,"class","feature-icon svelte-1m5bgor"),p(ne,le,282,12,11083),f(W,"class","svelte-1m5bgor"),p(W,le,283,12,11129),f(he,"class","svelte-1m5bgor"),p(he,le,284,12,11162),f(X,"class","feature-card svelte-1m5bgor"),p(X,le,281,10,11044),f(C,"class","welcome-features svelte-1m5bgor"),p(C,le,270,8,10590),f(t,"class","welcome-content svelte-1m5bgor"),p(t,le,258,6,10154),f(e,"class","welcome-view svelte-1m5bgor"),p(e,le,257,4,10121)},m:function(re,Se){Q(re,e,Se),r(e,t),r(t,s),r(t,i),r(t,a),r(t,c),r(t,u),r(t,h),r(t,m),r(m,b),Me(k,b,null),r(b,y),r(t,S),r(t,C),r(C,E),r(E,I),r(E,T),r(E,R),r(E,z),r(E,j),r(C,N),r(C,A),r(A,O),r(A,se),r(A,x),r(A,Y),r(A,J),r(C,U),r(C,X),r(X,ne),r(X,de),r(X,W),r(X,me),r(X,he),pe=!0},p:$e,i:function(re){pe||(K(k.$$.fragment,re),pe=!0)},o:function(re){$(k.$$.fragment,re),pe=!1},d:function(re){re&&v(e),Te(k)}};return q("SvelteRegisterBlock",{block:He,id:tr.name,type:"else",source:"(241:2) {:else}",ctx:n}),He}function nr(n){let e,t,s,o,i,a,l,c,u,d=(n[3].name||"Untitled Session")+"",h,m,b,k,y=n[4].icon+"",S,C,E=n[4].label+"",I,V,T,R,M="",z,j,H,N,A=n[5]!==1?"s":"",O,L,se,x="",B,Y,J,ee,U=n[1]!==1?"s":"",X,ne,ge,de,W,te,me,he,ve,pe,He,Pe,re="",Se,ue,Ae="Session Goal",st,ke,_e="OBJECTIVE",ce,Ce,tt,Ye,ht,Ee,be,Fe,xe,kt="Participants",yt,mt,gt,Ct,ut,Le,ft,qe,Xe,Oe,Qe,at="Oracle",Wt,Je,ze,_t,rt,Bt,it,et,vt="Configuration",xt,We,fe,Re,Ge,ae=n[3].createdAt&&Xi(n);const nt=[ir,sr],Rt=[];function zt(It,Ve){return It[0]==="configuring"?0:It[0]==="paused"?1:-1}~(W=zt(n))&&(te=Rt[W]=nt[W](n));function on(It,Ve){return It[6]?or:lr}let Vt=on(n),Dt=Vt(n);be=new Ue({props:{name:"users",size:18},$$inline:!0});function Yn(It,Ve){return It[3].participants&&It[3].participants.length>0?rr:ar}let Gt=Yn(n),Et=Gt(n);Xe=new Ue({props:{name:"brain",size:18},$$inline:!0});function gn(It,Ve){return It[3].oracle?ur:cr}let wn=gn(n),Ht=wn(n);Bt=new Ue({props:{name:"settings",size:18},$$inline:!0});function Hn(It,Ve){return It[3].config?dr:fr}let Qt=Hn(n),At=Qt(n),wt=(n[0]==="drafting"||n[0]==="critiquing"||n[0]==="deliberating"||n[0]==="converging")&&el(n),Ze=n[0]==="completed"&&tl(n);const En={c:function(){e=_("div"),t=_("header"),s=_("div"),o=_("div"),i=_("img"),l=D(),c=_("div"),u=_("h1"),h=F(d),m=D(),b=_("div"),k=_("span"),S=F(y),C=D(),I=F(E),T=D(),R=_("span"),R.textContent=M,z=D(),j=_("span"),H=F(n[5]),N=F(" human"),O=F(A),L=D(),se=_("span"),se.textContent=x,B=D(),Y=_("span"),J=F(n[1]),ee=F(" AI agent"),X=F(U),ne=D(),ae&&ae.c(),ge=D(),de=_("div"),te&&te.c(),me=D(),he=_("div"),ve=_("section"),pe=_("div"),He=_("div"),Pe=_("span"),Pe.textContent=re,Se=D(),ue=_("h2"),ue.textContent=Ae,st=D(),ke=_("span"),ke.textContent=_e,ce=D(),Ce=_("div"),Dt.c(),tt=D(),Ye=_("div"),ht=_("section"),Ee=_("div"),Be(be.$$.fragment),Fe=D(),xe=_("h3"),xe.textContent=kt,yt=D(),mt=_("span"),gt=F(n[2]),Ct=D(),ut=_("div"),Et.c(),Le=D(),ft=_("section"),qe=_("div"),Be(Xe.$$.fragment),Oe=D(),Qe=_("h3"),Qe.textContent=at,Wt=D(),Je=_("div"),Ht.c(),ze=D(),_t=_("section"),rt=_("div"),Be(Bt.$$.fragment),it=D(),et=_("h3"),et.textContent=vt,xt=D(),We=_("div"),At.c(),fe=D(),wt&&wt.c(),Re=D(),Ze&&Ze.c(),this.h()},l:function(Ve){e=g(Ve,"DIV",{class:!0});var bt=w(e);t=g(bt,"HEADER",{class:!0});var Sn=w(t);s=g(Sn,"DIV",{class:!0});var un=w(s);o=g(un,"DIV",{class:!0});var Tn=w(o);i=g(Tn,"IMG",{src:!0,alt:!0,class:!0}),Tn.forEach(v),l=P(un),c=g(un,"DIV",{class:!0});var fn=w(c);u=g(fn,"H1",{class:!0});var In=w(u);h=G(In,d),In.forEach(v),m=P(fn),b=g(fn,"DIV",{class:!0});var an=w(b);k=g(an,"SPAN",{class:!0,"data-color":!0});var Xn=w(k);S=G(Xn,y),C=P(Xn),I=G(Xn,E),Xn.forEach(v),T=P(an),R=g(an,"SPAN",{class:!0,"data-svelte-h":!0}),Z(R)!=="svelte-1u8v1a8"&&(R.textContent=M),z=P(an),j=g(an,"SPAN",{class:!0});var _n=w(j);H=G(_n,n[5]),N=G(_n," human"),O=G(_n,A),_n.forEach(v),L=P(an),se=g(an,"SPAN",{class:!0,"data-svelte-h":!0}),Z(se)!=="svelte-1u8v1a8"&&(se.textContent=x),B=P(an),Y=g(an,"SPAN",{class:!0});var os=w(Y);J=G(os,n[1]),ee=G(os," AI agent"),X=G(os,U),os.forEach(v),ne=P(an),ae&&ae.l(an),an.forEach(v),fn.forEach(v),un.forEach(v),ge=P(Sn),de=g(Sn,"DIV",{class:!0});var ds=w(de);te&&te.l(ds),ds.forEach(v),Sn.forEach(v),me=P(bt),he=g(bt,"DIV",{class:!0});var Jt=w(he);ve=g(Jt,"SECTION",{class:!0});var tn=w(ve);pe=g(tn,"DIV",{class:!0});var dn=w(pe);He=g(dn,"DIV",{class:!0});var bn=w(He);Pe=g(bn,"SPAN",{class:!0,"data-svelte-h":!0}),Z(Pe)!=="svelte-1gtzmqj"&&(Pe.textContent=re),Se=P(bn),ue=g(bn,"H2",{class:!0,"data-svelte-h":!0}),Z(ue)!=="svelte-25ac3x"&&(ue.textContent=Ae),bn.forEach(v),st=P(dn),ke=g(dn,"SPAN",{class:!0,"data-svelte-h":!0}),Z(ke)!=="svelte-12rq7em"&&(ke.textContent=_e),dn.forEach(v),ce=P(tn),Ce=g(tn,"DIV",{class:!0});var ks=w(Ce);Dt.l(ks),ks.forEach(v),tn.forEach(v),tt=P(Jt),Ye=g(Jt,"DIV",{class:!0});var Mn=w(Ye);ht=g(Mn,"SECTION",{class:!0});var kn=w(ht);Ee=g(kn,"DIV",{class:!0});var Nn=w(Ee);Ne(be.$$.fragment,Nn),Fe=P(Nn),xe=g(Nn,"H3",{class:!0,"data-svelte-h":!0}),Z(xe)!=="svelte-py7b26"&&(xe.textContent=kt),yt=P(Nn),mt=g(Nn,"SPAN",{class:!0});var Zn=w(mt);gt=G(Zn,n[2]),Zn.forEach(v),Nn.forEach(v),Ct=P(kn),ut=g(kn,"DIV",{class:!0});var as=w(ut);Et.l(as),as.forEach(v),kn.forEach(v),Le=P(Mn),ft=g(Mn,"SECTION",{class:!0});var $n=w(ft);qe=g($n,"DIV",{class:!0});var hn=w(qe);Ne(Xe.$$.fragment,hn),Oe=P(hn),Qe=g(hn,"H3",{class:!0,"data-svelte-h":!0}),Z(Qe)!=="svelte-180em3i"&&(Qe.textContent=at),hn.forEach(v),Wt=P($n),Je=g($n,"DIV",{class:!0});var Pn=w(Je);Ht.l(Pn),Pn.forEach(v),$n.forEach(v),ze=P(Mn),_t=g(Mn,"SECTION",{class:!0});var rs=w(_t);rt=g(rs,"DIV",{class:!0});var xn=w(rt);Ne(Bt.$$.fragment,xn),it=P(xn),et=g(xn,"H3",{class:!0,"data-svelte-h":!0}),Z(et)!=="svelte-u4g4lc"&&(et.textContent=vt),xn.forEach(v),xt=P(rs),We=g(rs,"DIV",{class:!0});var Dn=w(We);At.l(Dn),Dn.forEach(v),rs.forEach(v),Mn.forEach(v),fe=P(Jt),wt&&wt.l(Jt),Re=P(Jt),Ze&&Ze.l(Jt),Jt.forEach(v),bt.forEach(v),this.h()},h:function(){On(i.src,a="/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Blue.32.png")||f(i,"src",a),f(i,"alt","Tachikoma"),f(i,"class","session-tachi-icon svelte-1m5bgor"),p(i,le,72,12,2753),f(o,"class","session-icon svelte-1m5bgor"),p(o,le,71,10,2714),f(u,"class","session-title svelte-1m5bgor"),p(u,le,79,12,2993),f(k,"class","phase-badge svelte-1m5bgor"),f(k,"data-color",V=n[4].color),p(k,le,81,14,3117),f(R,"class","meta-divider svelte-1m5bgor"),p(R,le,84,14,3266),f(j,"class","meta-item"),p(j,le,85,14,3316),f(se,"class","meta-divider svelte-1m5bgor"),p(se,le,86,14,3409),f(Y,"class","meta-item"),p(Y,le,87,14,3459),f(b,"class","session-details svelte-1m5bgor"),p(b,le,80,12,3073),f(c,"class","session-meta svelte-1m5bgor"),p(c,le,78,10,2954),f(s,"class","header-left svelte-1m5bgor"),p(s,le,70,8,2678),f(de,"class","header-actions svelte-1m5bgor"),p(de,le,95,8,3791),f(t,"class","session-header svelte-1m5bgor"),p(t,le,69,6,2638),f(Pe,"class","section-icon svelte-1m5bgor"),p(Pe,le,120,14,4744),f(ue,"class","svelte-1m5bgor"),p(ue,le,121,14,4795),f(He,"class","section-title svelte-1m5bgor"),p(He,le,119,12,4702),f(ke,"class","section-tag svelte-1m5bgor"),p(ke,le,123,12,4848),f(pe,"class","section-header svelte-1m5bgor"),p(pe,le,118,10,4661),f(Ce,"class","goal-body svelte-1m5bgor"),p(Ce,le,125,10,4918),f(ve,"class","goal-section svelte-1m5bgor"),p(ve,le,117,8,4620),f(xe,"class","svelte-1m5bgor"),p(xe,le,142,14,5498),f(mt,"class","card-count svelte-1m5bgor"),p(mt,le,143,14,5534),f(Ee,"class","card-header svelte-1m5bgor"),p(Ee,le,140,12,5412),f(ut,"class","card-body svelte-1m5bgor"),p(ut,le,145,12,5616),f(ht,"class","info-card participants-card svelte-1m5bgor"),p(ht,le,139,10,5354),f(Qe,"class","svelte-1m5bgor"),p(Qe,le,178,14,7128),f(qe,"class","card-header svelte-1m5bgor"),p(qe,le,176,12,7042),f(Je,"class","card-body svelte-1m5bgor"),p(Je,le,180,12,7175),f(ft,"class","info-card oracle-card svelte-1m5bgor"),p(ft,le,175,10,6990),f(et,"class","svelte-1m5bgor"),p(et,le,201,14,8008),f(rt,"class","card-header svelte-1m5bgor"),p(rt,le,199,12,7919),f(We,"class","card-body svelte-1m5bgor"),p(We,le,203,12,8062),f(_t,"class","info-card config-card svelte-1m5bgor"),p(_t,le,198,10,7867),f(Ye,"class","info-grid svelte-1m5bgor"),p(Ye,le,137,8,5280),f(he,"class","session-content svelte-1m5bgor"),p(he,le,115,6,4545),f(e,"class","session-view svelte-1m5bgor"),p(e,le,67,4,2575)},m:function(Ve,bt){Q(Ve,e,bt),r(e,t),r(t,s),r(s,o),r(o,i),r(s,l),r(s,c),r(c,u),r(u,h),r(c,m),r(c,b),r(b,k),r(k,S),r(k,C),r(k,I),r(b,T),r(b,R),r(b,z),r(b,j),r(j,H),r(j,N),r(j,O),r(b,L),r(b,se),r(b,B),r(b,Y),r(Y,J),r(Y,ee),r(Y,X),r(b,ne),ae&&ae.m(b,null),r(t,ge),r(t,de),~W&&Rt[W].m(de,null),r(e,me),r(e,he),r(he,ve),r(ve,pe),r(pe,He),r(He,Pe),r(He,Se),r(He,ue),r(pe,st),r(pe,ke),r(ve,ce),r(ve,Ce),Dt.m(Ce,null),r(he,tt),r(he,Ye),r(Ye,ht),r(ht,Ee),Me(be,Ee,null),r(Ee,Fe),r(Ee,xe),r(Ee,yt),r(Ee,mt),r(mt,gt),r(ht,Ct),r(ht,ut),Et.m(ut,null),r(Ye,Le),r(Ye,ft),r(ft,qe),Me(Xe,qe,null),r(qe,Oe),r(qe,Qe),r(ft,Wt),r(ft,Je),Ht.m(Je,null),r(Ye,ze),r(Ye,_t),r(_t,rt),Me(Bt,rt,null),r(rt,it),r(rt,et),r(_t,xt),r(_t,We),At.m(We,null),r(he,fe),wt&&wt.m(he,null),r(he,Re),Ze&&Ze.m(he,null),Ge=!0},p:function(Ve,bt){(!Ge||bt&8)&&d!==(d=(Ve[3].name||"Untitled Session")+"")&&ie(h,d),(!Ge||bt&16)&&y!==(y=Ve[4].icon+"")&&ie(S,y),(!Ge||bt&16)&&E!==(E=Ve[4].label+"")&&ie(I,E),(!Ge||bt&16&&V!==(V=Ve[4].color))&&f(k,"data-color",V),(!Ge||bt&32)&&ie(H,Ve[5]),(!Ge||bt&32)&&A!==(A=Ve[5]!==1?"s":"")&&ie(O,A),(!Ge||bt&2)&&ie(J,Ve[1]),(!Ge||bt&2)&&U!==(U=Ve[1]!==1?"s":"")&&ie(X,U),Ve[3].createdAt?ae?ae.p(Ve,bt):(ae=Xi(Ve),ae.c(),ae.m(b,null)):ae&&(ae.d(1),ae=null);let Sn=W;W=zt(Ve),W===Sn?~W&&Rt[W].p(Ve,bt):(te&&(lt(),$(Rt[Sn],1,1,()=>{Rt[Sn]=null}),ot()),~W?(te=Rt[W],te?te.p(Ve,bt):(te=Rt[W]=nt[W](Ve),te.c()),K(te,1),te.m(de,null)):te=null),Vt===(Vt=on(Ve))&&Dt?Dt.p(Ve,bt):(Dt.d(1),Dt=Vt(Ve),Dt&&(Dt.c(),Dt.m(Ce,null))),(!Ge||bt&4)&&ie(gt,Ve[2]),Gt===(Gt=Yn(Ve))&&Et?Et.p(Ve,bt):(Et.d(1),Et=Gt(Ve),Et&&(Et.c(),Et.m(ut,null))),wn===(wn=gn(Ve))&&Ht?Ht.p(Ve,bt):(Ht.d(1),Ht=wn(Ve),Ht&&(Ht.c(),Ht.m(Je,null))),Qt===(Qt=Hn(Ve))&&At?At.p(Ve,bt):(At.d(1),At=Qt(Ve),At&&(At.c(),At.m(We,null))),Ve[0]==="drafting"||Ve[0]==="critiquing"||Ve[0]==="deliberating"||Ve[0]==="converging"?wt?(wt.p(Ve,bt),bt&1&&K(wt,1)):(wt=el(Ve),wt.c(),K(wt,1),wt.m(he,Re)):wt&&(lt(),$(wt,1,1,()=>{wt=null}),ot()),Ve[0]==="completed"?Ze?bt&1&&K(Ze,1):(Ze=tl(Ve),Ze.c(),K(Ze,1),Ze.m(he,null)):Ze&&(lt(),$(Ze,1,1,()=>{Ze=null}),ot())},i:function(Ve){Ge||(K(te),K(be.$$.fragment,Ve),K(Xe.$$.fragment,Ve),K(Bt.$$.fragment,Ve),K(wt),K(Ze),Ge=!0)},o:function(Ve){$(te),$(be.$$.fragment,Ve),$(Xe.$$.fragment,Ve),$(Bt.$$.fragment,Ve),$(wt),$(Ze),Ge=!1},d:function(Ve){Ve&&v(e),ae&&ae.d(),~W&&Rt[W].d(),Dt.d(),Te(be),Et.d(),Te(Xe),Ht.d(),Te(Bt),At.d(),wt&&wt.d(),Ze&&Ze.d()}};return q("SvelteRegisterBlock",{block:En,id:nr.name,type:"if",source:"(51:2) {#if session && phase !== 'idle'}",ctx:n}),En}function Xi(n){let e,t="",s,o,i,a=sl(n[3].createdAt)+"",l;const c={c:function(){e=_("span"),e.textContent=t,s=D(),o=_("span"),i=F("Created "),l=F(a),this.h()},l:function(d){e=g(d,"SPAN",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1u8v1a8"&&(e.textContent=t),s=P(d),o=g(d,"SPAN",{class:!0});var h=w(o);i=G(h,"Created "),l=G(h,a),h.forEach(v),this.h()},h:function(){f(e,"class","meta-divider svelte-1m5bgor"),p(e,le,89,16,3589),f(o,"class","meta-item"),p(o,le,90,16,3641)},m:function(d,h){Q(d,e,h),Q(d,s,h),Q(d,o,h),r(o,i),r(o,l)},p:function(d,h){h&8&&a!==(a=sl(d[3].createdAt)+"")&&ie(l,a)},d:function(d){d&&(v(e),v(s),v(o))}};return q("SvelteRegisterBlock",{block:c,id:Xi.name,type:"if",source:"(74:14) {#if session.createdAt}",ctx:n}),c}function sr(n){let e,t,s,o,i,a;t=new Ue({props:{name:"play",size:16},$$inline:!0});const l={c:function(){e=_("button"),Be(t.$$.fragment),s=F(`
              Resume Session`),this.h()},l:function(u){e=g(u,"BUTTON",{type:!0,class:!0});var d=w(e);Ne(t.$$.fragment,d),s=G(d,`
              Resume Session`),d.forEach(v),this.h()},h:function(){f(e,"type","button"),f(e,"class","btn btn-primary svelte-1m5bgor"),p(e,le,106,12,4285)},m:function(u,d){Q(u,e,d),Me(t,e,null),r(e,s),o=!0,i||(a=De(e,"click",n[7],!1,!1,!1,!1),i=!0)},p:$e,i:function(u){o||(K(t.$$.fragment,u),o=!0)},o:function(u){$(t.$$.fragment,u),o=!1},d:function(u){u&&v(e),Te(t),i=!1,a()}};return q("SvelteRegisterBlock",{block:l,id:sr.name,type:"if",source:"(91:39) ",ctx:n}),l}function ir(n){let e,t,s,o,i,a,l,c,u,d;t=new Ue({props:{name:"settings",size:16},$$inline:!0}),a=new Ue({props:{name:"zap",size:16},$$inline:!0});const h={c:function(){e=_("button"),Be(t.$$.fragment),s=F(`
              Edit`),o=D(),i=_("button"),Be(a.$$.fragment),l=F(`
              Start Deliberation`),this.h()},l:function(b){e=g(b,"BUTTON",{type:!0,class:!0});var k=w(e);Ne(t.$$.fragment,k),s=G(k,`
              Edit`),k.forEach(v),o=P(b),i=g(b,"BUTTON",{type:!0,class:!0});var y=w(i);Ne(a.$$.fragment,y),l=G(y,`
              Start Deliberation`),y.forEach(v),this.h()},h:function(){f(e,"type","button"),f(e,"class","btn btn-secondary svelte-1m5bgor"),p(e,le,97,12,3872),f(i,"type","button"),f(i,"class","btn btn-primary svelte-1m5bgor"),p(i,le,101,12,4052)},m:function(b,k){Q(b,e,k),Me(t,e,null),r(e,s),Q(b,o,k),Q(b,i,k),Me(a,i,null),r(i,l),c=!0,u||(d=[De(e,"click",n[8],!1,!1,!1,!1),De(i,"click",n[7],!1,!1,!1,!1)],u=!0)},p:$e,i:function(b){c||(K(t.$$.fragment,b),K(a.$$.fragment,b),c=!0)},o:function(b){$(t.$$.fragment,b),$(a.$$.fragment,b),c=!1},d:function(b){b&&(v(e),v(o),v(i)),Te(t),Te(a),u=!1,Cn(d)}};return q("SvelteRegisterBlock",{block:h,id:ir.name,type:"if",source:"(82:10) {#if phase === 'configuring'}",ctx:n}),h}function lr(n){let e,t="No goal defined for this session.";const s={c:function(){e=_("p"),e.textContent=t,this.h()},l:function(i){e=g(i,"P",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1yk2rvc"&&(e.textContent=t),this.h()},h:function(){f(e,"class","goal-empty svelte-1m5bgor"),p(e,le,131,14,5122)},m:function(i,a){Q(i,e,a)},p:$e,d:function(i){i&&v(e)}};return q("SvelteRegisterBlock",{block:s,id:lr.name,type:"else",source:"(116:12) {:else}",ctx:n}),s}function or(n){let e,t;const s={c:function(){e=_("div"),t=new Ps(!1),this.h()},l:function(i){e=g(i,"DIV",{class:!0,"data-testid":!0});var a=w(e);t=Is(a,!1),a.forEach(v),this.h()},h:function(){t.a=null,f(e,"class","goal-text svelte-1m5bgor"),f(e,"data-testid","session-goal"),p(e,le,127,14,4983)},m:function(i,a){Q(i,e,a),t.m(n[6],e)},p:function(i,a){a&64&&t.p(i[6])},d:function(i){i&&v(e)}};return q("SvelteRegisterBlock",{block:s,id:or.name,type:"if",source:"(112:12) {#if goalHtml}",ctx:n}),s}function ar(n){let e,t="No participants configured";const s={c:function(){e=_("p"),e.textContent=t,this.h()},l:function(i){e=g(i,"P",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1f6a4ze"&&(e.textContent=t),this.h()},h:function(){f(e,"class","card-empty svelte-1m5bgor"),p(e,le,169,16,6840)},m:function(i,a){Q(i,e,a)},p:$e,d:function(i){i&&v(e)}};return q("SvelteRegisterBlock",{block:s,id:ar.name,type:"else",source:"(154:14) {:else}",ctx:n}),s}function rr(n){let e,t,s=Ke(n[3].participants.slice(0,6)),o=[];for(let l=0;l<s.length;l+=1)o[l]=Zi(Yo(n,s,l));let i=n[3].participants.length>6&&$i(n);const a={c:function(){e=_("ul");for(let c=0;c<o.length;c+=1)o[c].c();t=D(),i&&i.c(),this.h()},l:function(c){e=g(c,"UL",{class:!0});var u=w(e);for(let d=0;d<o.length;d+=1)o[d].l(u);t=P(u),i&&i.l(u),u.forEach(v),this.h()},h:function(){f(e,"class","participant-list svelte-1m5bgor"),p(e,le,147,16,5732)},m:function(c,u){Q(c,e,u);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(e,null);r(e,t),i&&i.m(e,null)},p:function(c,u){if(u&8){s=Ke(c[3].participants.slice(0,6));let d;for(d=0;d<s.length;d+=1){const h=Yo(c,s,d);o[d]?o[d].p(h,u):(o[d]=Zi(h),o[d].c(),o[d].m(e,t))}for(;d<o.length;d+=1)o[d].d(1);o.length=s.length}c[3].participants.length>6?i?i.p(c,u):(i=$i(c),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d:function(c){c&&v(e),cn(o,c),i&&i.d()}};return q("SvelteRegisterBlock",{block:a,id:rr.name,type:"if",source:"(132:14) {#if session.participants && session.participants.length > 0}",ctx:n}),a}function Zi(n){let e,t,s=n[12].name.charAt(0).toUpperCase()+"",o,i,a,l,c=n[12].name+"",u,d,h,m=n[12].role+"",b,k,y,S=n[12].type.toUpperCase()+"",C;const E={c:function(){e=_("li"),t=_("span"),o=F(s),i=D(),a=_("div"),l=_("span"),u=F(c),d=D(),h=_("span"),b=F(m),k=D(),y=_("span"),C=F(S),this.h()},l:function(V){e=g(V,"LI",{class:!0});var T=w(e);t=g(T,"SPAN",{class:!0});var R=w(t);o=G(R,s),R.forEach(v),i=P(T),a=g(T,"DIV",{class:!0});var M=w(a);l=g(M,"SPAN",{class:!0});var z=w(l);u=G(z,c),z.forEach(v),d=P(M),h=g(M,"SPAN",{class:!0});var j=w(h);b=G(j,m),j.forEach(v),M.forEach(v),k=P(T),y=g(T,"SPAN",{class:!0});var H=w(y);C=G(H,S),H.forEach(v),T.forEach(v),this.h()},h:function(){f(t,"class","participant-avatar svelte-1m5bgor"),we(t,"ai",n[12].type==="ai"),p(t,le,150,22,5907),f(l,"class","participant-name svelte-1m5bgor"),p(l,le,154,24,6152),f(h,"class","participant-role svelte-1m5bgor"),p(h,le,155,24,6233),f(a,"class","participant-info svelte-1m5bgor"),p(a,le,153,22,6097),f(y,"class","participant-type svelte-1m5bgor"),we(y,"ai",n[12].type==="ai"),p(y,le,157,22,6341),f(e,"class","participant-row svelte-1m5bgor"),p(e,le,149,20,5856)},m:function(V,T){Q(V,e,T),r(e,t),r(t,o),r(e,i),r(e,a),r(a,l),r(l,u),r(a,d),r(a,h),r(h,b),r(e,k),r(e,y),r(y,C)},p:function(V,T){T&8&&s!==(s=V[12].name.charAt(0).toUpperCase()+"")&&ie(o,s),T&8&&we(t,"ai",V[12].type==="ai"),T&8&&c!==(c=V[12].name+"")&&ie(u,c),T&8&&m!==(m=V[12].role+"")&&ie(b,m),T&8&&S!==(S=V[12].type.toUpperCase()+"")&&ie(C,S),T&8&&we(y,"ai",V[12].type==="ai")},d:function(V){V&&v(e)}};return q("SvelteRegisterBlock",{block:E,id:Zi.name,type:"each",source:"(134:18) {#each session.participants.slice(0, 6) as participant}",ctx:n}),E}function $i(n){let e,t,s=n[3].participants.length-6+"",o,i;const a={c:function(){e=_("li"),t=F("+"),o=F(s),i=F(" more participants"),this.h()},l:function(c){e=g(c,"LI",{class:!0});var u=w(e);t=G(u,"+"),o=G(u,s),i=G(u," more participants"),u.forEach(v),this.h()},h:function(){f(e,"class","participant-more svelte-1m5bgor"),p(e,le,163,20,6625)},m:function(c,u){Q(c,e,u),r(e,t),r(e,o),r(e,i)},p:function(c,u){u&8&&s!==(s=c[3].participants.length-6+"")&&ie(o,s)},d:function(c){c&&v(e)}};return q("SvelteRegisterBlock",{block:a,id:$i.name,type:"if",source:"(148:18) {#if session.participants.length > 6}",ctx:n}),a}function cr(n){let e,t="No oracle selected";const s={c:function(){e=_("p"),e.textContent=t,this.h()},l:function(i){e=g(i,"P",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-ow37mz"&&(e.textContent=t),this.h()},h:function(){f(e,"class","card-empty svelte-1m5bgor"),p(e,le,192,16,7717)},m:function(i,a){Q(i,e,a)},p:$e,d:function(i){i&&v(e)}};return q("SvelteRegisterBlock",{block:s,id:cr.name,type:"else",source:"(177:14) {:else}",ctx:n}),s}function ur(n){let e,t,s=n[3].oracle.name+"",o,i,a,l=n[3].oracle.type+"",c,u,d=n[3].oracle.estimatedCostPerRound&&xi(n);const h={c:function(){e=_("div"),t=_("div"),o=F(s),i=D(),a=_("div"),c=F(l),u=D(),d&&d.c(),this.h()},l:function(b){e=g(b,"DIV",{class:!0});var k=w(e);t=g(k,"DIV",{class:!0});var y=w(t);o=G(y,s),y.forEach(v),i=P(k),a=g(k,"DIV",{class:!0});var S=w(a);c=G(S,l),S.forEach(v),u=P(k),d&&d.l(k),k.forEach(v),this.h()},h:function(){f(t,"class","oracle-name svelte-1m5bgor"),p(t,le,183,18,7294),f(a,"class","oracle-type svelte-1m5bgor"),p(a,le,184,18,7365),f(e,"class","oracle-info svelte-1m5bgor"),p(e,le,182,16,7250)},m:function(b,k){Q(b,e,k),r(e,t),r(t,o),r(e,i),r(e,a),r(a,c),r(e,u),d&&d.m(e,null)},p:function(b,k){k&8&&s!==(s=b[3].oracle.name+"")&&ie(o,s),k&8&&l!==(l=b[3].oracle.type+"")&&ie(c,l),b[3].oracle.estimatedCostPerRound?d?d.p(b,k):(d=xi(b),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d:function(b){b&&v(e),d&&d.d()}};return q("SvelteRegisterBlock",{block:h,id:ur.name,type:"if",source:"(167:14) {#if session.oracle}",ctx:n}),h}function xi(n){let e,t,s=n[3].oracle.estimatedCostPerRound.toFixed(4)+"",o,i;const a={c:function(){e=_("div"),t=F("~$"),o=F(s),i=F("/round"),this.h()},l:function(c){e=g(c,"DIV",{class:!0});var u=w(e);t=G(u,"~$"),o=G(u,s),i=G(u,"/round"),u.forEach(v),this.h()},h:function(){f(e,"class","oracle-cost svelte-1m5bgor"),p(e,le,186,20,7499)},m:function(c,u){Q(c,e,u),r(e,t),r(e,o),r(e,i)},p:function(c,u){u&8&&s!==(s=c[3].oracle.estimatedCostPerRound.toFixed(4)+"")&&ie(o,s)},d:function(c){c&&v(e)}};return q("SvelteRegisterBlock",{block:a,id:xi.name,type:"if",source:"(171:18) {#if session.oracle.estimatedCostPerRound}",ctx:n}),a}function fr(n){let e,t="Default configuration";const s={c:function(){e=_("p"),e.textContent=t,this.h()},l:function(i){e=g(i,"P",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-vgb5se"&&(e.textContent=t),this.h()},h:function(){f(e,"class","card-empty svelte-1m5bgor"),p(e,le,224,16,8981)},m:function(i,a){Q(i,e,a)},p:$e,d:function(i){i&&v(e)}};return q("SvelteRegisterBlock",{block:s,id:fr.name,type:"else",source:"(209:14) {:else}",ctx:n}),s}function dr(n){let e,t,s,o="Max Rounds",i,a,l=(n[3].config.maxRounds||5)+"",c,u,d,h,m="Convergence",b,k,y=((n[3].config.convergenceThreshold||.8)*100).toFixed(0)+"",S,C,E,I,V,T="Timeout",R,M,z=(n[3].config.timeoutMinutes||60)+"",j,H,N,A,O,L="Human Override",se,x,B=n[3].config.allowHumanIntervention?"Enabled":"Disabled",Y;const J={c:function(){e=_("dl"),t=_("div"),s=_("dt"),s.textContent=o,i=D(),a=_("dd"),c=F(l),u=D(),d=_("div"),h=_("dt"),h.textContent=m,b=D(),k=_("dd"),S=F(y),C=F("%"),E=D(),I=_("div"),V=_("dt"),V.textContent=T,R=D(),M=_("dd"),j=F(z),H=F("min"),N=D(),A=_("div"),O=_("dt"),O.textContent=L,se=D(),x=_("dd"),Y=F(B),this.h()},l:function(U){e=g(U,"DL",{class:!0});var X=w(e);t=g(X,"DIV",{class:!0});var ne=w(t);s=g(ne,"DT",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-1w42vrd"&&(s.textContent=o),i=P(ne),a=g(ne,"DD",{class:!0});var ge=w(a);c=G(ge,l),ge.forEach(v),u=P(ne),ne.forEach(v),d=g(X,"DIV",{class:!0});var de=w(d);h=g(de,"DT",{class:!0,"data-svelte-h":!0}),Z(h)!=="svelte-191dn99"&&(h.textContent=m),b=P(de),k=g(de,"DD",{class:!0});var W=w(k);S=G(W,y),C=G(W,"%"),W.forEach(v),E=P(de),de.forEach(v),I=g(X,"DIV",{class:!0});var te=w(I);V=g(te,"DT",{class:!0,"data-svelte-h":!0}),Z(V)!=="svelte-11axbdv"&&(V.textContent=T),R=P(te),M=g(te,"DD",{class:!0});var me=w(M);j=G(me,z),H=G(me,"min"),me.forEach(v),N=P(te),te.forEach(v),A=g(X,"DIV",{class:!0});var he=w(A);O=g(he,"DT",{class:!0,"data-svelte-h":!0}),Z(O)!=="svelte-1kjksk1"&&(O.textContent=L),se=P(he),x=g(he,"DD",{class:!0});var ve=w(x);Y=G(ve,B),ve.forEach(v),he.forEach(v),X.forEach(v),this.h()},h:function(){f(s,"class","svelte-1m5bgor"),p(s,le,207,20,8226),f(a,"class","svelte-1m5bgor"),p(a,le,208,20,8266),f(t,"class","config-item svelte-1m5bgor"),p(t,le,206,18,8180),f(h,"class","svelte-1m5bgor"),p(h,le,211,20,8396),f(k,"class","svelte-1m5bgor"),p(k,le,212,20,8437),f(d,"class","config-item svelte-1m5bgor"),p(d,le,210,18,8350),f(V,"class","svelte-1m5bgor"),p(V,le,215,20,8602),f(M,"class","svelte-1m5bgor"),p(M,le,216,20,8639),f(I,"class","config-item svelte-1m5bgor"),p(I,le,214,18,8556),f(O,"class","svelte-1m5bgor"),p(O,le,219,20,8778),f(x,"class","svelte-1m5bgor"),p(x,le,220,20,8822),f(A,"class","config-item svelte-1m5bgor"),p(A,le,218,18,8732),f(e,"class","config-list svelte-1m5bgor"),p(e,le,205,16,8137)},m:function(U,X){Q(U,e,X),r(e,t),r(t,s),r(t,i),r(t,a),r(a,c),r(t,u),r(e,d),r(d,h),r(d,b),r(d,k),r(k,S),r(k,C),r(d,E),r(e,I),r(I,V),r(I,R),r(I,M),r(M,j),r(M,H),r(I,N),r(e,A),r(A,O),r(A,se),r(A,x),r(x,Y)},p:function(U,X){X&8&&l!==(l=(U[3].config.maxRounds||5)+"")&&ie(c,l),X&8&&y!==(y=((U[3].config.convergenceThreshold||.8)*100).toFixed(0)+"")&&ie(S,y),X&8&&z!==(z=(U[3].config.timeoutMinutes||60)+"")&&ie(j,z),X&8&&B!==(B=U[3].config.allowHumanIntervention?"Enabled":"Disabled")&&ie(Y,B)},d:function(U){U&&v(e)}};return q("SvelteRegisterBlock",{block:J,id:dr.name,type:"if",source:"(190:14) {#if session.config}",ctx:n}),J}function el(n){let e,t;e=new er({props:{session:n[3],phase:n[0]},$$inline:!0});const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},p:function(i,a){const l={};a&8&&(l.session=i[3]),a&1&&(l.phase=i[0]),e.$set(l)},i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:el.name,type:"if",source:"(217:8) {#if phase === 'drafting' || phase === 'critiquing' || phase === 'deliberating' || phase === 'converging'}",ctx:n}),s}function tl(n){let e,t,s,o,i="",a,l,c="Session Results",u,d,h="COMPLETE",m,b,k,y="Review the outcomes and decisions from this deliberation session.",S,C,E,I,V,T="Results display coming soon",R;E=new Ue({props:{name:"file-text",size:48},$$inline:!0});const M={c:function(){e=_("section"),t=_("div"),s=_("div"),o=_("span"),o.textContent=i,a=D(),l=_("h2"),l.textContent=c,u=D(),d=_("span"),d.textContent=h,m=D(),b=_("div"),k=_("p"),k.textContent=y,S=D(),C=_("div"),Be(E.$$.fragment),I=D(),V=_("p"),V.textContent=T,this.h()},l:function(j){e=g(j,"SECTION",{class:!0});var H=w(e);t=g(H,"DIV",{class:!0});var N=w(t);s=g(N,"DIV",{class:!0});var A=w(s);o=g(A,"SPAN",{class:!0,"data-svelte-h":!0}),Z(o)!=="svelte-bgh96c"&&(o.textContent=i),a=P(A),l=g(A,"H2",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-19yvgss"&&(l.textContent=c),A.forEach(v),u=P(N),d=g(N,"SPAN",{class:!0,"data-svelte-h":!0}),Z(d)!=="svelte-k5oc54"&&(d.textContent=h),N.forEach(v),m=P(H),b=g(H,"DIV",{class:!0});var O=w(b);k=g(O,"P",{"data-svelte-h":!0}),Z(k)!=="svelte-18eqhp6"&&(k.textContent=y),S=P(O),C=g(O,"DIV",{class:!0});var L=w(C);Ne(E.$$.fragment,L),I=P(L),V=g(L,"P",{"data-svelte-h":!0}),Z(V)!=="svelte-yr1zc2"&&(V.textContent=T),L.forEach(v),O.forEach(v),H.forEach(v),this.h()},h:function(){f(o,"class","section-icon svelte-1m5bgor"),p(o,le,239,16,9522),f(l,"class","svelte-1m5bgor"),p(l,le,240,16,9575),f(s,"class","section-title svelte-1m5bgor"),p(s,le,238,14,9478),f(d,"class","section-tag svelte-1m5bgor"),p(d,le,242,14,9635),f(t,"class","section-header svelte-1m5bgor"),p(t,le,237,12,9435),p(k,le,245,14,9749),p(V,le,248,16,9938),f(C,"class","results-placeholder svelte-1m5bgor"),p(C,le,246,14,9836),f(b,"class","results-body svelte-1m5bgor"),p(b,le,244,12,9708),f(e,"class","results-section svelte-1m5bgor"),p(e,le,236,10,9389)},m:function(j,H){Q(j,e,H),r(e,t),r(t,s),r(s,o),r(s,a),r(s,l),r(t,u),r(t,d),r(e,m),r(e,b),r(b,k),r(b,S),r(b,C),Me(E,C,null),r(C,I),r(C,V),R=!0},i:function(j){R||(K(E.$$.fragment,j),R=!0)},o:function(j){$(E.$$.fragment,j),R=!1},d:function(j){j&&v(e),Te(E)}};return q("SvelteRegisterBlock",{block:M,id:tl.name,type:"if",source:"(221:8) {#if phase === 'completed'}",ctx:n}),M}function nl(n){let e,t,s,o;const i=[nr,tr],a=[];function l(u,d){return u[3]&&u[0]!=="idle"?0:1}t=l(n),s=a[t]=i[t](n);const c={c:function(){e=_("div"),s.c(),this.h()},l:function(d){e=g(d,"DIV",{class:!0,"data-testid":!0,"data-phase":!0});var h=w(e);s.l(h),h.forEach(v),this.h()},h:function(){f(e,"class","main-content-area svelte-1m5bgor"),f(e,"data-testid","main-content-area"),f(e,"data-phase",n[0]),p(e,le,64,0,2419)},m:function(d,h){Q(d,e,h),a[t].m(e,null),o=!0},p:function(d,[h]){let m=t;t=l(d),t===m?a[t].p(d,h):(lt(),$(a[m],1,1,()=>{a[m]=null}),ot(),s=a[t],s?s.p(d,h):(s=a[t]=i[t](d),s.c()),K(s,1),s.m(e,null)),(!o||h&1)&&f(e,"data-phase",d[0])},i:function(d){o||(K(s),o=!0)},o:function(d){$(s),o=!1},d:function(d){d&&v(e),a[t].d()}};return q("SvelteRegisterBlock",{block:c,id:nl.name,type:"component",source:"",ctx:n}),c}function Xo(n){const e={idle:{icon:"",label:"READY",color:"slate",description:"Select or create a session"},configuring:{icon:"",label:"CONFIGURING",color:"cyan",description:"Session ready to begin deliberation"},drafting:{icon:"",label:"DRAFTING",color:"blue",description:"Participants are creating initial proposals"},critiquing:{icon:"",label:"CRITIQUE",color:"amber",description:"Reviewing and providing feedback"},deliberating:{icon:"",label:"DELIBERATING",color:"purple",description:"Structured debate in progress"},converging:{icon:"",label:"CONVERGING",color:"green",description:"Working towards consensus"},completed:{icon:"",label:"COMPLETE",color:"emerald",description:"Session concluded successfully"},paused:{icon:"",label:"PAUSED",color:"yellow",description:"Session paused - resume when ready"},error:{icon:"",label:"ERROR",color:"red",description:"An error occurred"}};return e[n]||e.idle}function sl(n){return n?new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(n):"Unknown"}function Dc(n,e,t){let s,o,i,a,l,c,u;qt(Nt,"forgeSessionStore"),Ut(n,Nt,E=>t(10,u=E));let{$$slots:d={},$$scope:h}=e;$t("MainContentArea",d,[]);let{sessionId:m=null}=e,{phase:b="idle"}=e;const k=Yt();function y(){m&&Nt.updateSessionPhase(m,"drafting")}function S(){m&&k("editSession",{sessionId:m})}const C=["sessionId","phase"];return Object.keys(e).forEach(E=>{!~C.indexOf(E)&&E.slice(0,2)}),n.$$set=E=>{"sessionId"in E&&t(9,m=E.sessionId),"phase"in E&&t(0,b=E.phase)},n.$capture_state=()=>({createEventDispatcher:Yt,marked:Fn,forgeSessionStore:Nt,Icon:Ue,GlassPanel:bo,DeliberationView:er,sessionId:m,phase:b,getPhaseConfig:Xo,dispatch:k,handleStartDeliberation:y,handleEditSession:S,formatDate:sl,phaseConfig:c,aiCount:a,participantCount:i,humanCount:l,session:s,goalHtml:o,$forgeSessionStore:u}),n.$inject_state=E=>{"sessionId"in E&&t(9,m=E.sessionId),"phase"in E&&t(0,b=E.phase),"phaseConfig"in E&&t(4,c=E.phaseConfig),"aiCount"in E&&t(1,a=E.aiCount),"participantCount"in E&&t(2,i=E.participantCount),"humanCount"in E&&t(5,l=E.humanCount),"session"in E&&t(3,s=E.session),"goalHtml"in E&&t(6,o=E.goalHtml)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1024&&t(3,s=u.activeSession),n.$$.dirty&8&&t(6,o=s?.goal?Fn(s.goal):""),n.$$.dirty&8&&t(2,i=s?.participants?.length||0),n.$$.dirty&8&&t(1,a=s?.participants?.filter(E=>E.type==="ai").length||0),n.$$.dirty&6&&t(5,l=i-a),n.$$.dirty&1&&t(4,c=Xo(b))},[b,a,i,s,c,l,o,y,S,m,u]}class hr extends Xt{constructor(e){super(e),Zt(this,e,Dc,nl,Kt,{sessionId:9,phase:0}),q("SvelteRegisterComponent",{component:this,tagName:"MainContentArea",options:e,id:nl.name})}get sessionId(){throw new Error("<MainContentArea>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sessionId(e){throw new Error("<MainContentArea>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get phase(){throw new Error("<MainContentArea>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set phase(e){throw new Error("<MainContentArea>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Error:si}=_o,Ie="src/lib/components/forge/ResultPanel.svelte";function Zo(n,e,t){const s=n.slice();return s[17]=e[t],s}function ii(n,e,t){const s=n.slice();return s[20]=e[t],s}function li(n,e,t){const s=n.slice();return s[23]=e[t],s}function oi(n,e,t){const s=n.slice();return s[26]=e[t],s}function il(n){let e,t,s=n[0].phase+"",o,i;const a={c:function(){e=_("div"),t=_("span"),o=F(s),this.h()},l:function(c){e=g(c,"DIV",{class:!0});var u=w(e);t=g(u,"SPAN",{class:!0});var d=w(t);o=G(d,s),d.forEach(v),u.forEach(v),this.h()},h:function(){f(t,"class",i="phase-badge phase-"+n[0].phase+" svelte-1o9mh7m"),p(t,Ie,135,8,3487),f(e,"class","session-status svelte-1o9mh7m"),p(e,Ie,134,6,3450)},m:function(c,u){Q(c,e,u),r(e,t),r(t,o)},p:function(c,u){u&1&&s!==(s=c[0].phase+"")&&ie(o,s),u&1&&i!==(i="phase-badge phase-"+c[0].phase+" svelte-1o9mh7m")&&f(t,"class",i)},d:function(c){c&&v(e)}};return q("SvelteRegisterBlock",{block:a,id:il.name,type:"if",source:"(122:4) {#if session}",ctx:n}),a}function vr(n){let e,t,s,o=n[2].length+"",i,a,l,c="Rounds Completed",u,d,h,m,b,k,y="Contributions",S,C,E,I,V,T,R="Critiques",M,z,j,H,N="Round History",A,O,L=[],se=new Map,x,B,Y,J="Key Insights",ee,U,X,ne="Insights will be generated automatically as the session progresses.",ge,de,W,te="Export Results",me,he,ve,pe,He=Ke(n[2]);const Pe=ke=>ke[20].id;ln(n,He,ii,Pe);for(let ke=0;ke<He.length;ke+=1){let _e=ii(n,He,ke),ce=Pe(_e);se.set(ce,L[ke]=rl(ce,_e))}let re=n[4]&&cl(n),Se=Ke(n[10]),ue=[];for(let ke=0;ke<Se.length;ke+=1)ue[ke]=ul(Zo(n,Se,ke));const Ae=ke=>$(ue[ke],1,1,()=>{ue[ke]=null}),st={c:function(){e=_("div"),t=_("div"),s=_("div"),i=F(o),a=D(),l=_("div"),l.textContent=c,u=D(),d=_("div"),h=_("div"),m=F(n[8]),b=D(),k=_("div"),k.textContent=y,S=D(),C=_("div"),E=_("div"),I=F(n[7]),V=D(),T=_("div"),T.textContent=R,M=D(),z=_("div"),j=_("section"),H=_("h3"),H.textContent=N,A=D(),O=_("div");for(let _e=0;_e<L.length;_e+=1)L[_e].c();x=D(),B=_("section"),Y=_("h3"),Y.textContent=J,ee=D(),U=_("div"),X=_("p"),X.textContent=ne,ge=D(),de=_("section"),W=_("h3"),W.textContent=te,me=D(),re&&re.c(),he=D(),ve=_("div");for(let _e=0;_e<ue.length;_e+=1)ue[_e].c();this.h()},l:function(_e){e=g(_e,"DIV",{class:!0});var ce=w(e);t=g(ce,"DIV",{class:!0});var Ce=w(t);s=g(Ce,"DIV",{class:!0});var tt=w(s);i=G(tt,o),tt.forEach(v),a=P(Ce),l=g(Ce,"DIV",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-7govyy"&&(l.textContent=c),Ce.forEach(v),u=P(ce),d=g(ce,"DIV",{class:!0});var Ye=w(d);h=g(Ye,"DIV",{class:!0});var ht=w(h);m=G(ht,n[8]),ht.forEach(v),b=P(Ye),k=g(Ye,"DIV",{class:!0,"data-svelte-h":!0}),Z(k)!=="svelte-i1uosh"&&(k.textContent=y),Ye.forEach(v),S=P(ce),C=g(ce,"DIV",{class:!0});var Ee=w(C);E=g(Ee,"DIV",{class:!0});var be=w(E);I=G(be,n[7]),be.forEach(v),V=P(Ee),T=g(Ee,"DIV",{class:!0,"data-svelte-h":!0}),Z(T)!=="svelte-1b6ut7r"&&(T.textContent=R),Ee.forEach(v),ce.forEach(v),M=P(_e),z=g(_e,"DIV",{class:!0});var Fe=w(z);j=g(Fe,"SECTION",{class:!0});var xe=w(j);H=g(xe,"H3",{class:!0,"data-svelte-h":!0}),Z(H)!=="svelte-nhe1ni"&&(H.textContent=N),A=P(xe),O=g(xe,"DIV",{class:!0});var kt=w(O);for(let ut=0;ut<L.length;ut+=1)L[ut].l(kt);kt.forEach(v),xe.forEach(v),x=P(Fe),B=g(Fe,"SECTION",{class:!0});var yt=w(B);Y=g(yt,"H3",{class:!0,"data-svelte-h":!0}),Z(Y)!=="svelte-1ulgkp8"&&(Y.textContent=J),ee=P(yt),U=g(yt,"DIV",{class:!0});var mt=w(U);X=g(mt,"P",{"data-svelte-h":!0}),Z(X)!=="svelte-6saxkk"&&(X.textContent=ne),mt.forEach(v),yt.forEach(v),ge=P(Fe),de=g(Fe,"SECTION",{class:!0});var gt=w(de);W=g(gt,"H3",{class:!0,"data-svelte-h":!0}),Z(W)!=="svelte-1urs9do"&&(W.textContent=te),me=P(gt),re&&re.l(gt),he=P(gt),ve=g(gt,"DIV",{class:!0});var Ct=w(ve);for(let ut=0;ut<ue.length;ut+=1)ue[ut].l(Ct);Ct.forEach(v),gt.forEach(v),Fe.forEach(v),this.h()},h:function(){f(s,"class","stat-value svelte-1o9mh7m"),p(s,Ie,153,10,3982),f(l,"class","stat-label svelte-1o9mh7m"),p(l,Ie,154,10,4047),f(t,"class","stat-card svelte-1o9mh7m"),p(t,Ie,152,8,3948),f(h,"class","stat-value svelte-1o9mh7m"),p(h,Ie,157,10,4151),f(k,"class","stat-label svelte-1o9mh7m"),p(k,Ie,158,10,4212),f(d,"class","stat-card svelte-1o9mh7m"),p(d,Ie,156,8,4117),f(E,"class","stat-value svelte-1o9mh7m"),p(E,Ie,161,10,4313),f(T,"class","stat-label svelte-1o9mh7m"),p(T,Ie,162,10,4370),f(C,"class","stat-card svelte-1o9mh7m"),p(C,Ie,160,8,4279),f(e,"class","results-summary svelte-1o9mh7m"),p(e,Ie,151,6,3910),f(H,"class","svelte-1o9mh7m"),p(H,Ie,168,10,4527),f(O,"class","rounds-list svelte-1o9mh7m"),p(O,Ie,169,10,4560),f(j,"class","rounds-section svelte-1o9mh7m"),p(j,Ie,167,8,4484),f(Y,"class","svelte-1o9mh7m"),p(Y,Ie,228,10,7021),p(X,Ie,230,12,7100),f(U,"class","insights-placeholder svelte-1o9mh7m"),p(U,Ie,229,10,7053),f(B,"class","insights-section svelte-1o9mh7m"),p(B,Ie,227,8,6976),f(W,"class","svelte-1o9mh7m"),p(W,Ie,236,10,7295),f(ve,"class","export-buttons svelte-1o9mh7m"),p(ve,Ie,244,10,7538),f(de,"class","export-section svelte-1o9mh7m"),p(de,Ie,235,8,7252),f(z,"class","results-sections svelte-1o9mh7m"),p(z,Ie,166,6,4445)},m:function(_e,ce){Q(_e,e,ce),r(e,t),r(t,s),r(s,i),r(t,a),r(t,l),r(e,u),r(e,d),r(d,h),r(h,m),r(d,b),r(d,k),r(e,S),r(e,C),r(C,E),r(E,I),r(C,V),r(C,T),Q(_e,M,ce),Q(_e,z,ce),r(z,j),r(j,H),r(j,A),r(j,O);for(let Ce=0;Ce<L.length;Ce+=1)L[Ce]&&L[Ce].m(O,null);r(z,x),r(z,B),r(B,Y),r(B,ee),r(B,U),r(U,X),r(z,ge),r(z,de),r(de,W),r(de,me),re&&re.m(de,null),r(de,he),r(de,ve);for(let Ce=0;Ce<ue.length;Ce+=1)ue[Ce]&&ue[Ce].m(ve,null);pe=!0},p:function(_e,ce){if((!pe||ce&4)&&o!==(o=_e[2].length+"")&&ie(i,o),(!pe||ce&256)&&ie(m,_e[8]),(!pe||ce&128)&&ie(I,_e[7]),ce&4&&(He=Ke(_e[2]),ln(_e,He,ii,Pe),L=ls(L,ce,Pe,1,_e,He,se,O,Cs,rl,null,ii)),_e[4]?re?(re.p(_e,ce),ce&16&&K(re,1)):(re=cl(_e),re.c(),K(re,1),re.m(de,he)):re&&(lt(),$(re,1,1,()=>{re=null}),ot()),ce&7176){Se=Ke(_e[10]);let Ce;for(Ce=0;Ce<Se.length;Ce+=1){const tt=Zo(_e,Se,Ce);ue[Ce]?(ue[Ce].p(tt,ce),K(ue[Ce],1)):(ue[Ce]=ul(tt),ue[Ce].c(),K(ue[Ce],1),ue[Ce].m(ve,null))}for(lt(),Ce=Se.length;Ce<ue.length;Ce+=1)Ae(Ce);ot()}},i:function(_e){if(!pe){K(re);for(let ce=0;ce<Se.length;ce+=1)K(ue[ce]);pe=!0}},o:function(_e){$(re),ue=ue.filter(Boolean);for(let ce=0;ce<ue.length;ce+=1)$(ue[ce]);pe=!1},d:function(_e){_e&&(v(e),v(M),v(z));for(let ce=0;ce<L.length;ce+=1)L[ce].d();re&&re.d(),cn(ue,_e)}};return q("SvelteRegisterBlock",{block:st,id:vr.name,type:"else",source:"(139:4) {:else}",ctx:n}),st}function mr(n){let e,t,s="No results yet",o,i,a="Results will appear as the session progresses";const l={c:function(){e=_("div"),t=_("p"),t.textContent=s,o=D(),i=_("small"),i.textContent=a,this.h()},l:function(u){e=g(u,"DIV",{class:!0});var d=w(e);t=g(d,"P",{"data-svelte-h":!0}),Z(t)!=="svelte-wiwy91"&&(t.textContent=s),o=P(d),i=g(d,"SMALL",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-1l4lgpr"&&(i.textContent=a),d.forEach(v),this.h()},h:function(){p(t,Ie,147,8,3788),f(i,"class","svelte-1o9mh7m"),p(i,Ie,148,8,3818),f(e,"class","empty-state svelte-1o9mh7m"),p(e,Ie,146,6,3754)},m:function(u,d){Q(u,e,d),r(e,t),r(e,o),r(e,i)},p:$e,i:$e,o:$e,d:function(u){u&&v(e)}};return q("SvelteRegisterBlock",{block:l,id:mr.name,type:"if",source:"(134:26) ",ctx:n}),l}function pr(n){let e,t,s="No active session";const o={c:function(){e=_("div"),t=_("p"),t.textContent=s,this.h()},l:function(a){e=g(a,"DIV",{class:!0});var l=w(e);t=g(l,"P",{"data-svelte-h":!0}),Z(t)!=="svelte-434jcj"&&(t.textContent=s),l.forEach(v),this.h()},h:function(){p(t,Ie,143,8,3683),f(e,"class","empty-state svelte-1o9mh7m"),p(e,Ie,142,6,3649)},m:function(a,l){Q(a,e,l),r(e,t)},p:$e,i:$e,o:$e,d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:pr.name,type:"if",source:"(130:4) {#if !session}",ctx:n}),o}function ll(n){let e=Math.round((n[20].endTime.getTime()-n[20].startTime.getTime())/6e4)+"",t,s;const o={c:function(){t=F(e),s=F("m")},l:function(a){t=G(a,e),s=G(a,"m")},m:function(a,l){Q(a,t,l),Q(a,s,l)},p:function(a,l){l&4&&e!==(e=Math.round((a[20].endTime.getTime()-a[20].startTime.getTime())/6e4)+"")&&ie(t,e)},d:function(a){a&&(v(t),v(s))}};return q("SvelteRegisterBlock",{block:o,id:ll.name,type:"if",source:"(164:20) {#if round.endTime}",ctx:n}),o}function ol(n,e){let t,s,o,i=e[26].type+"",a,l,c,u=Es(e[26].timestamp)+"",d,h,m,b=e[26].content.substring(0,100)+"",k,y,S;const C={key:n,first:null,c:function(){t=_("div"),s=_("div"),o=_("div"),a=F(i),l=D(),c=_("span"),d=F(u),h=D(),m=_("div"),k=F(b),y=F("..."),S=D(),this.h()},l:function(I){t=g(I,"DIV",{class:!0});var V=w(t);s=g(V,"DIV",{class:!0});var T=w(s);o=g(T,"DIV",{class:!0,style:!0});var R=w(o);a=G(R,i),R.forEach(v),l=P(T),c=g(T,"SPAN",{class:!0});var M=w(c);d=G(M,u),M.forEach(v),T.forEach(v),h=P(V),m=g(V,"DIV",{class:!0});var z=w(m);k=G(z,b),y=G(z,"..."),z.forEach(v),S=P(V),V.forEach(v),this.h()},h:function(){f(o,"class","contribution-type svelte-1o9mh7m"),mn(o,"background-color",hl(e[26].type)),p(o,Ie,185,24,5338),f(c,"class","timestamp svelte-1o9mh7m"),p(c,Ie,191,24,5621),f(s,"class","contribution-header svelte-1o9mh7m"),p(s,Ie,184,22,5280),f(m,"class","contribution-content svelte-1o9mh7m"),p(m,Ie,195,22,5797),f(t,"class","contribution-item svelte-1o9mh7m"),p(t,Ie,183,20,5226),this.first=t},m:function(I,V){Q(I,t,V),r(t,s),r(s,o),r(o,a),r(s,l),r(s,c),r(c,d),r(t,h),r(t,m),r(m,k),r(m,y),r(t,S)},p:function(I,V){e=I,V&4&&i!==(i=e[26].type+"")&&ie(a,i),V&4&&mn(o,"background-color",hl(e[26].type)),V&4&&u!==(u=Es(e[26].timestamp)+"")&&ie(d,u),V&4&&b!==(b=e[26].content.substring(0,100)+"")&&ie(k,b)},d:function(I){I&&v(t)}};return q("SvelteRegisterBlock",{block:C,id:ol.name,type:"each",source:"(171:18) {#each round.contributions as contribution (contribution.id)}",ctx:e}),C}function al(n,e){let t,s,o,i=e[23].severity+"",a,l,c,u=Es(e[23].timestamp)+"",d,h,m,b=e[23].content.substring(0,80)+"",k,y,S;const C={key:n,first:null,c:function(){t=_("div"),s=_("div"),o=_("div"),a=F(i),l=D(),c=_("span"),d=F(u),h=D(),m=_("div"),k=F(b),y=F("..."),S=D(),this.h()},l:function(I){t=g(I,"DIV",{class:!0});var V=w(t);s=g(V,"DIV",{class:!0});var T=w(s);o=g(T,"DIV",{class:!0,style:!0});var R=w(o);a=G(R,i),R.forEach(v),l=P(T),c=g(T,"SPAN",{class:!0});var M=w(c);d=G(M,u),M.forEach(v),T.forEach(v),h=P(V),m=g(V,"DIV",{class:!0});var z=w(m);k=G(z,b),y=G(z,"..."),z.forEach(v),S=P(V),V.forEach(v),this.h()},h:function(){f(o,"class","critique-severity svelte-1o9mh7m"),mn(o,"background-color",vl(e[23].severity)),p(o,Ie,206,24,6244),f(c,"class","timestamp svelte-1o9mh7m"),p(c,Ie,212,24,6519),f(s,"class","critique-header svelte-1o9mh7m"),p(s,Ie,205,22,6190),f(m,"class","critique-content svelte-1o9mh7m"),p(m,Ie,216,22,6691),f(t,"class","critique-item svelte-1o9mh7m"),p(t,Ie,204,20,6140),this.first=t},m:function(I,V){Q(I,t,V),r(t,s),r(s,o),r(o,a),r(s,l),r(s,c),r(c,d),r(t,h),r(t,m),r(m,k),r(m,y),r(t,S)},p:function(I,V){e=I,V&4&&i!==(i=e[23].severity+"")&&ie(a,i),V&4&&mn(o,"background-color",vl(e[23].severity)),V&4&&u!==(u=Es(e[23].timestamp)+"")&&ie(d,u),V&4&&b!==(b=e[23].content.substring(0,80)+"")&&ie(k,b)},d:function(I){I&&v(t)}};return q("SvelteRegisterBlock",{block:C,id:al.name,type:"each",source:"(192:18) {#each round.critiques as critique (critique.id)}",ctx:e}),C}function rl(n,e){let t,s,o,i,a=e[20].number+"",l,c,u,d,h,m=[],b=new Map,k,y,S=[],C=new Map,E,I=e[20].endTime&&ll(e),V=Ke(e[20].contributions);const T=j=>j[26].id;ln(e,V,oi,T);for(let j=0;j<V.length;j+=1){let H=oi(e,V,j),N=T(H);b.set(N,m[j]=ol(N,H))}let R=Ke(e[20].critiques);const M=j=>j[23].id;ln(e,R,li,M);for(let j=0;j<R.length;j+=1){let H=li(e,R,j),N=M(H);C.set(N,S[j]=al(N,H))}const z={key:n,first:null,c:function(){t=_("div"),s=_("div"),o=_("span"),i=F("Round "),l=F(a),c=D(),u=_("span"),I&&I.c(),d=D(),h=_("div");for(let H=0;H<m.length;H+=1)m[H].c();k=D(),y=_("div");for(let H=0;H<S.length;H+=1)S[H].c();E=D(),this.h()},l:function(H){t=g(H,"DIV",{class:!0});var N=w(t);s=g(N,"DIV",{class:!0});var A=w(s);o=g(A,"SPAN",{class:!0});var O=w(o);i=G(O,"Round "),l=G(O,a),O.forEach(v),c=P(A),u=g(A,"SPAN",{class:!0});var L=w(u);I&&I.l(L),L.forEach(v),A.forEach(v),d=P(N),h=g(N,"DIV",{class:!0});var se=w(h);for(let B=0;B<m.length;B+=1)m[B].l(se);se.forEach(v),k=P(N),y=g(N,"DIV",{class:!0});var x=w(y);for(let B=0;B<S.length;B+=1)S[B].l(x);x.forEach(v),E=P(N),N.forEach(v),this.h()},h:function(){f(o,"class","round-number svelte-1o9mh7m"),p(o,Ie,173,18,4742),f(u,"class","round-duration svelte-1o9mh7m"),p(u,Ie,174,18,4815),f(s,"class","round-header svelte-1o9mh7m"),p(s,Ie,172,16,4697),f(h,"class","round-contributions svelte-1o9mh7m"),p(h,Ie,181,16,5092),f(y,"class","round-critiques svelte-1o9mh7m"),p(y,Ie,202,16,6022),f(t,"class","round-item svelte-1o9mh7m"),p(t,Ie,171,14,4656),this.first=t},m:function(H,N){Q(H,t,N),r(t,s),r(s,o),r(o,i),r(o,l),r(s,c),r(s,u),I&&I.m(u,null),r(t,d),r(t,h);for(let A=0;A<m.length;A+=1)m[A]&&m[A].m(h,null);r(t,k),r(t,y);for(let A=0;A<S.length;A+=1)S[A]&&S[A].m(y,null);r(t,E)},p:function(H,N){e=H,N&4&&a!==(a=e[20].number+"")&&ie(l,a),e[20].endTime?I?I.p(e,N):(I=ll(e),I.c(),I.m(u,null)):I&&(I.d(1),I=null),N&4&&(V=Ke(e[20].contributions),ln(e,V,oi,T),m=ls(m,N,T,1,e,V,b,h,Cs,ol,null,oi)),N&4&&(R=Ke(e[20].critiques),ln(e,R,li,M),S=ls(S,N,M,1,e,R,C,y,Cs,al,null,li))},d:function(H){H&&v(t),I&&I.d();for(let N=0;N<m.length;N+=1)m[N].d();for(let N=0;N<S.length;N+=1)S[N].d()}};return q("SvelteRegisterBlock",{block:z,id:rl.name,type:"each",source:"(159:12) {#each completedRounds as round (round.id)}",ctx:e}),z}function cl(n){let e,t,s,o,i,a;t=new Ue({props:{name:"alert-triangle",size:14},$$inline:!0});const l={c:function(){e=_("div"),Be(t.$$.fragment),s=D(),o=_("span"),i=F(n[4]),this.h()},l:function(u){e=g(u,"DIV",{class:!0});var d=w(e);Ne(t.$$.fragment,d),s=P(d),o=g(d,"SPAN",{});var h=w(o);i=G(h,n[4]),h.forEach(v),d.forEach(v),this.h()},h:function(){p(o,Ie,240,14,7455),f(e,"class","export-error svelte-1o9mh7m"),p(e,Ie,238,12,7359)},m:function(u,d){Q(u,e,d),Me(t,e,null),r(e,s),r(e,o),r(o,i),a=!0},p:function(u,d){(!a||d&16)&&ie(i,u[4])},i:function(u){a||(K(t.$$.fragment,u),a=!0)},o:function(u){$(t.$$.fragment,u),a=!1},d:function(u){u&&v(e),Te(t)}};return q("SvelteRegisterBlock",{block:l,id:cl.name,type:"if",source:"(226:10) {#if exportError}",ctx:n}),l}function gr(n){let e,t;e=new Ue({props:{name:n[17].icon,size:16},$$inline:!0});const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},p:$e,i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:gr.name,type:"else",source:"(244:18) {:else}",ctx:n}),s}function _r(n){let e,t;e=new Wn({props:{size:14},$$inline:!0});const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},p:$e,i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:_r.name,type:"if",source:"(242:18) {#if isExporting}",ctx:n}),s}function ul(n){let e,t,s,o,i,a,l=n[17].label+"",c,u,d,h,m,b,k,y;const S=[_r,gr],C=[];function E(R,M){return R[3]?0:1}s=E(n),o=C[s]=S[s](n);function I(){return n[14](n[17])}h=new Ue({props:{name:"eye",size:14},$$inline:!0});function V(){return n[15](n[17])}const T={c:function(){e=_("div"),t=_("button"),o.c(),i=D(),a=_("span"),c=F(l),u=D(),d=_("button"),Be(h.$$.fragment),m=D(),this.h()},l:function(M){e=g(M,"DIV",{class:!0});var z=w(e);t=g(z,"BUTTON",{class:!0,title:!0});var j=w(t);o.l(j),i=P(j),a=g(j,"SPAN",{});var H=w(a);c=G(H,l),H.forEach(v),j.forEach(v),u=P(z),d=g(z,"BUTTON",{class:!0,title:!0});var N=w(d);Ne(h.$$.fragment,N),N.forEach(v),m=P(z),z.forEach(v),this.h()},h:function(){p(a,Ie,258,18,8098),f(t,"class","export-btn svelte-1o9mh7m"),t.disabled=n[3],f(t,"title","Download as "+n[17].label),p(t,Ie,247,16,7675),f(d,"class","preview-btn svelte-1o9mh7m"),d.disabled=n[3],f(d,"title","Preview "+n[17].label),p(d,Ie,260,16,8168),f(e,"class","export-button-group svelte-1o9mh7m"),p(e,Ie,246,14,7625)},m:function(M,z){Q(M,e,z),r(e,t),C[s].m(t,null),r(t,i),r(t,a),r(a,c),r(e,u),r(e,d),Me(h,d,null),r(e,m),b=!0,k||(y=[De(t,"click",I,!1,!1,!1,!1),De(d,"click",V,!1,!1,!1,!1)],k=!0)},p:function(M,z){n=M;let j=s;s=E(n),s===j?C[s].p(n,z):(lt(),$(C[j],1,1,()=>{C[j]=null}),ot(),o=C[s],o?o.p(n,z):(o=C[s]=S[s](n),o.c()),K(o,1),o.m(t,i)),(!b||z&8)&&Gn(t,"disabled",n[3]),(!b||z&8)&&Gn(d,"disabled",n[3])},i:function(M){b||(K(o),K(h.$$.fragment,M),b=!0)},o:function(M){$(o),$(h.$$.fragment,M),b=!1},d:function(M){M&&v(e),C[s].d(),Te(h),k=!1,Cn(y)}};return q("SvelteRegisterBlock",{block:T,id:ul.name,type:"each",source:"(234:12) {#each outputFormats as format}",ctx:n}),T}function fl(n){let e,t,s,o,i,a=n[6].toUpperCase()+"",l,c,u,d,h,m,b,k,y,S,C,E,I="Close",V,T,R,M,z,j,H;d=new Ue({props:{name:"x",size:18},$$inline:!0}),R=new Ue({props:{name:"download",size:16},$$inline:!0});const N={c:function(){e=_("div"),t=_("div"),s=_("div"),o=_("h3"),i=F("Preview: "),l=F(a),c=D(),u=_("button"),Be(d.$$.fragment),h=D(),m=_("div"),b=_("pre"),k=_("code"),y=F(n[5]),S=D(),C=_("div"),E=_("button"),E.textContent=I,V=D(),T=_("button"),Be(R.$$.fragment),M=F(`
            Download`),this.h()},l:function(O){e=g(O,"DIV",{class:!0});var L=w(e);t=g(L,"DIV",{class:!0,role:!0,"aria-modal":!0});var se=w(t);s=g(se,"DIV",{class:!0});var x=w(s);o=g(x,"H3",{class:!0});var B=w(o);i=G(B,"Preview: "),l=G(B,a),B.forEach(v),c=P(x),u=g(x,"BUTTON",{class:!0,"aria-label":!0});var Y=w(u);Ne(d.$$.fragment,Y),Y.forEach(v),x.forEach(v),h=P(se),m=g(se,"DIV",{class:!0});var J=w(m);b=g(J,"PRE",{class:!0});var ee=w(b);k=g(ee,"CODE",{class:!0});var U=w(k);y=G(U,n[5]),U.forEach(v),ee.forEach(v),J.forEach(v),S=P(se),C=g(se,"DIV",{class:!0});var X=w(C);E=g(X,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(E)!=="svelte-zlikrk"&&(E.textContent=I),V=P(X),T=g(X,"BUTTON",{class:!0});var ne=w(T);Ne(R.$$.fragment,ne),M=G(ne,`
            Download`),ne.forEach(v),X.forEach(v),se.forEach(v),L.forEach(v),this.h()},h:function(){f(o,"class","svelte-1o9mh7m"),p(o,Ie,283,10,9001),f(u,"class","close-btn svelte-1o9mh7m"),f(u,"aria-label","Close preview"),p(u,Ie,284,10,9059),f(s,"class","preview-header svelte-1o9mh7m"),p(s,Ie,282,8,8962),f(k,"class","svelte-1o9mh7m"),p(k,Ie,289,15,9265),f(b,"class","svelte-1o9mh7m"),p(b,Ie,289,10,9260),f(m,"class","preview-content svelte-1o9mh7m"),p(m,Ie,288,8,9220),f(E,"class","btn-secondary svelte-1o9mh7m"),p(E,Ie,292,10,9364),f(T,"class","btn-primary svelte-1o9mh7m"),p(T,Ie,293,10,9443),f(C,"class","preview-actions svelte-1o9mh7m"),p(C,Ie,291,8,9324),f(t,"class","preview-modal svelte-1o9mh7m"),f(t,"role","dialog"),f(t,"aria-modal","true"),p(t,Ie,281,6,8858),f(e,"class","preview-overlay svelte-1o9mh7m"),p(e,Ie,279,4,8699)},m:function(O,L){Q(O,e,L),r(e,t),r(t,s),r(s,o),r(o,i),r(o,l),r(s,c),r(s,u),Me(d,u,null),r(t,h),r(t,m),r(m,b),r(b,k),r(k,y),r(t,S),r(t,C),r(C,E),r(C,V),r(C,T),Me(R,T,null),r(T,M),z=!0,j||(H=[De(u,"click",n[13],!1,!1,!1,!1),De(E,"click",n[13],!1,!1,!1,!1),De(T,"click",n[16],!1,!1,!1,!1),De(t,"click",rc(Rc),!1,!1,!0,!1),De(e,"click",n[13],!1,!1,!1,!1)],j=!0)},p:function(O,L){(!z||L&64)&&a!==(a=O[6].toUpperCase()+"")&&ie(l,a),(!z||L&32)&&ie(y,O[5])},i:function(O){z||(K(d.$$.fragment,O),K(R.$$.fragment,O),z=!0)},o:function(O){$(d.$$.fragment,O),$(R.$$.fragment,O),z=!1},d:function(O){O&&v(e),Te(d),Te(R),j=!1,Cn(H)}};return q("SvelteRegisterBlock",{block:N,id:fl.name,type:"if",source:"(266:2) {#if previewContent && previewFormat}",ctx:n}),N}function dl(n){let e,t,s,o="Session Results",i,a,l,c,u,d,h,m=n[0]&&il(n);const b=[pr,mr,vr],k=[];function y(E,I){return E[0]?E[9]?2:1:0}c=y(n),u=k[c]=b[c](n);let S=n[5]&&n[6]&&fl(n);const C={c:function(){e=_("div"),t=_("header"),s=_("h2"),s.textContent=o,i=D(),m&&m.c(),a=D(),l=_("div"),u.c(),d=D(),S&&S.c(),this.h()},l:function(I){e=g(I,"DIV",{class:!0});var V=w(e);t=g(V,"HEADER",{class:!0});var T=w(t);s=g(T,"H2",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-19yvgss"&&(s.textContent=o),i=P(T),m&&m.l(T),T.forEach(v),a=P(V),l=g(V,"DIV",{class:!0});var R=w(l);u.l(R),R.forEach(v),d=P(V),S&&S.l(V),V.forEach(v),this.h()},h:function(){f(s,"class","svelte-1o9mh7m"),p(s,Ie,132,4,3401),f(t,"class","panel-header svelte-1o9mh7m"),p(t,Ie,131,2,3367),f(l,"class","panel-content svelte-1o9mh7m"),p(l,Ie,140,2,3596),f(e,"class","result-panel svelte-1o9mh7m"),we(e,"visible",n[1]),p(e,Ie,130,0,3324)},m:function(I,V){Q(I,e,V),r(e,t),r(t,s),r(t,i),m&&m.m(t,null),r(e,a),r(e,l),k[c].m(l,null),r(e,d),S&&S.m(e,null),h=!0},p:function(I,[V]){I[0]?m?m.p(I,V):(m=il(I),m.c(),m.m(t,null)):m&&(m.d(1),m=null);let T=c;c=y(I),c===T?k[c].p(I,V):(lt(),$(k[T],1,1,()=>{k[T]=null}),ot(),u=k[c],u?u.p(I,V):(u=k[c]=b[c](I),u.c()),K(u,1),u.m(l,null)),I[5]&&I[6]?S?(S.p(I,V),V&96&&K(S,1)):(S=fl(I),S.c(),K(S,1),S.m(e,null)):S&&(lt(),$(S,1,1,()=>{S=null}),ot()),(!h||V&2)&&we(e,"visible",I[1])},i:function(I){h||(K(u),K(S),h=!0)},o:function(I){$(u),$(S),h=!1},d:function(I){I&&v(e),m&&m.d(),k[c].d(),S&&S.d()}};return q("SvelteRegisterBlock",{block:C,id:dl.name,type:"component",source:"",ctx:n}),C}function $o(n,e,t){const s=new Blob([n],{type:t}),o=URL.createObjectURL(s),i=document.createElement("a");i.href=o,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}function xo(n){return{markdown:"text/markdown",json:"application/json",yaml:"text/yaml",html:"text/html",plain:"text/plain",beads:"text/yaml"}[n]||"text/plain"}function Es(n){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(n)}function hl(n){switch(n){case"proposal":return"#4a9eff";case"refinement":return"#f39c12";case"alternative":return"#e74c3c";default:return"#95a5a6"}}function vl(n){switch(n){case"critical":return"#e74c3c";case"concern":return"#f39c12";case"suggestion":return"#3498db";case"info":return"#95a5a6";default:return"#95a5a6"}}const Rc=()=>{};function Vc(n,e,t){let s,o,i,a,{$$slots:l={},$$scope:c}=e;$t("ResultPanel",l,[]);let{session:u=null}=e,{visible:d=!1}=e,h=!1,m=null,b=null,k=null;const y=[{value:"markdown",label:"Markdown",icon:"file-text"},{value:"json",label:"JSON",icon:"code"},{value:"yaml",label:"YAML",icon:"file"},{value:"html",label:"HTML",icon:"globe"},{value:"beads",label:"Beads Issue",icon:"circle"}];async function S(M){if(u){t(3,h=!0),t(4,m=null);try{const z=await zn.generateOutput({sessionId:u.id,format:M,includeMetadata:!0,includeHistory:!0,includeMetrics:!0});$o(z.content,z.filename,xo(M))}catch(z){t(4,m=z instanceof Error?z.message:"Export failed")}finally{t(3,h=!1)}}}async function C(M){if(u){t(3,h=!0),t(4,m=null);try{const z=await zn.generateOutput({sessionId:u.id,format:M,includeMetadata:!0});t(5,b=z.content),t(6,k=M)}catch(z){t(4,m=z instanceof Error?z.message:"Preview failed")}finally{t(3,h=!1)}}}function E(){t(5,b=null),t(6,k=null)}const I=["session","visible"];Object.keys(e).forEach(M=>{!~I.indexOf(M)&&M.slice(0,2)});const V=M=>S(M.value),T=M=>C(M.value),R=()=>k&&S(k);return n.$$set=M=>{"session"in M&&t(0,u=M.session),"visible"in M&&t(1,d=M.visible)},n.$capture_state=()=>({forgeService:zn,Icon:Ue,Spinner:Wn,session:u,visible:d,isExporting:h,exportError:m,previewContent:b,previewFormat:k,outputFormats:y,handleExport:S,handlePreview:C,closePreview:E,downloadFile:$o,getMimeType:xo,formatTimestamp:Es,getContributionTypeColor:hl,getCritiqueColor:vl,completedRounds:o,totalCritiques:a,totalContributions:i,hasResults:s}),n.$inject_state=M=>{"session"in M&&t(0,u=M.session),"visible"in M&&t(1,d=M.visible),"isExporting"in M&&t(3,h=M.isExporting),"exportError"in M&&t(4,m=M.exportError),"previewContent"in M&&t(5,b=M.previewContent),"previewFormat"in M&&t(6,k=M.previewFormat),"completedRounds"in M&&t(2,o=M.completedRounds),"totalCritiques"in M&&t(7,a=M.totalCritiques),"totalContributions"in M&&t(8,i=M.totalContributions),"hasResults"in M&&t(9,s=M.hasResults)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&t(9,s=u?.hasResults??!1),n.$$.dirty&1&&t(2,o=u?.rounds.filter(M=>M.status==="completed")??[]),n.$$.dirty&4&&t(8,i=o.reduce((M,z)=>M+z.contributions.length,0)),n.$$.dirty&4&&t(7,a=o.reduce((M,z)=>M+z.critiques.length,0))},[u,d,o,h,m,b,k,a,i,s,y,S,C,E,V,T,R]}class br extends Xt{constructor(e){super(e),Zt(this,e,Vc,dl,Kt,{session:0,visible:1}),q("SvelteRegisterComponent",{component:this,tagName:"ResultPanel",options:e,id:dl.name})}get session(){throw new si("<ResultPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set session(e){throw new si("<ResultPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get visible(){throw new si("<ResultPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set visible(e){throw new si("<ResultPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Tt="src/lib/components/forge/ForgeToolbar.svelte";function ml(n){let e,t=(n[2]?.name??"Session Active")+"",s;const o={c:function(){e=_("span"),s=F(t),this.h()},l:function(a){e=g(a,"SPAN",{class:!0});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){f(e,"class","session-indicator svelte-1ccaw87"),p(e,Tt,38,8,740)},m:function(a,l){Q(a,e,l),r(e,s)},p:function(a,l){l&4&&t!==(t=(a[2]?.name??"Session Active")+"")&&ie(s,t)},d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:ml.name,type:"if",source:"(26:6) {#if sessionId}",ctx:n}),o}function kr(n){let e,t,s,o="Idle";const i={c:function(){e=_("span"),t=D(),s=_("span"),s.textContent=o,this.h()},l:function(l){e=g(l,"SPAN",{class:!0,"aria-label":!0}),w(e).forEach(v),t=P(l),s=g(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-ajunu5"&&(s.textContent=o),this.h()},h:function(){f(e,"class","status-dot inactive svelte-1ccaw87"),f(e,"aria-label","No active session"),p(e,Tt,101,8,2864),f(s,"class","status-text svelte-1ccaw87"),p(s,Tt,102,8,2945)},m:function(l,c){Q(l,e,c),Q(l,t,c),Q(l,s,c)},d:function(l){l&&(v(e),v(t),v(s))}};return q("SvelteRegisterBlock",{block:i,id:kr.name,type:"else",source:"(89:6) {:else}",ctx:n}),i}function yr(n){let e,t,s,o="Active";const i={c:function(){e=_("span"),t=D(),s=_("span"),s.textContent=o,this.h()},l:function(l){e=g(l,"SPAN",{class:!0,"aria-label":!0}),w(e).forEach(v),t=P(l),s=g(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-bab8f9"&&(s.textContent=o),this.h()},h:function(){f(e,"class","status-dot active svelte-1ccaw87"),f(e,"aria-label","Session active"),p(e,Tt,98,8,2726),f(s,"class","status-text svelte-1ccaw87"),p(s,Tt,99,8,2802)},m:function(l,c){Q(l,e,c),Q(l,t,c),Q(l,s,c)},d:function(l){l&&(v(e),v(t),v(s))}};return q("SvelteRegisterBlock",{block:i,id:yr.name,type:"if",source:"(86:6) {#if sessionId}",ctx:n}),i}function pl(n){let e,t,s,o,i,a,l,c,u,d,h,m,b,k,y,S,C,E,I,V,T,R,M,z,j,H,N,A,O,L,se,x,B="New",Y,J,ee,U=n[0]&&ml(n);function X(W,te){return W[0]?yr:kr}let ne=X(n),ge=ne(n);L=new Ue({props:{name:"zap",size:16},$$inline:!0});const de={c:function(){e=_("header"),t=_("div"),s=_("h1"),o=F(`Think Tank
      `),U&&U.c(),i=D(),a=_("div"),l=_("nav"),c=_("button"),u=An("svg"),d=An("path"),h=F(`
        Sidebar`),b=D(),k=_("button"),y=An("svg"),S=An("path"),C=F(`
        Results`),I=D(),V=_("button"),T=An("svg"),R=An("path"),M=F(`
        Logs`),j=D(),H=_("div"),N=_("div"),ge.c(),A=D(),O=_("button"),Be(L.$$.fragment),se=D(),x=_("span"),x.textContent=B,this.h()},l:function(te){e=g(te,"HEADER",{class:!0,role:!0});var me=w(e);t=g(me,"DIV",{class:!0});var he=w(t);s=g(he,"H1",{class:!0});var ve=w(s);o=G(ve,`Think Tank
      `),U&&U.l(ve),ve.forEach(v),he.forEach(v),i=P(me),a=g(me,"DIV",{class:!0});var pe=w(a);l=g(pe,"NAV",{class:!0,role:!0,"aria-label":!0});var He=w(l);c=g(He,"BUTTON",{type:!0,class:!0,title:!0,"aria-label":!0,"aria-pressed":!0});var Pe=w(c);u=Vn(Pe,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,"aria-hidden":!0,class:!0});var re=w(u);d=Vn(re,"path",{d:!0}),w(d).forEach(v),re.forEach(v),h=G(Pe,`
        Sidebar`),Pe.forEach(v),b=P(He),k=g(He,"BUTTON",{type:!0,class:!0,title:!0,"aria-label":!0,"aria-pressed":!0});var Se=w(k);y=Vn(Se,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,"aria-hidden":!0,class:!0});var ue=w(y);S=Vn(ue,"path",{d:!0}),w(S).forEach(v),ue.forEach(v),C=G(Se,`
        Results`),Se.forEach(v),I=P(He),V=g(He,"BUTTON",{type:!0,class:!0,title:!0,"aria-label":!0,"aria-pressed":!0});var Ae=w(V);T=Vn(Ae,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,"aria-hidden":!0,class:!0});var st=w(T);R=Vn(st,"path",{d:!0}),w(R).forEach(v),st.forEach(v),M=G(Ae,`
        Logs`),Ae.forEach(v),He.forEach(v),pe.forEach(v),j=P(me),H=g(me,"DIV",{class:!0});var ke=w(H);N=g(ke,"DIV",{class:!0});var _e=w(N);ge.l(_e),_e.forEach(v),A=P(ke),O=g(ke,"BUTTON",{type:!0,class:!0,title:!0});var ce=w(O);Ne(L.$$.fragment,ce),se=P(ce),x=g(ce,"SPAN",{class:!0,"data-svelte-h":!0}),Z(x)!=="svelte-nr5oww"&&(x.textContent=B),ce.forEach(v),ke.forEach(v),me.forEach(v),this.h()},h:function(){f(s,"class","forge-title svelte-1ccaw87"),p(s,Tt,35,4,668),f(t,"class","toolbar-section left svelte-1ccaw87"),p(t,Tt,34,2,629),f(d,"d","M2 2h4v12H2V2zm6 0h6v12H8V2z"),p(d,Tt,56,10,1427),f(u,"width","16"),f(u,"height","16"),f(u,"viewBox","0 0 16 16"),f(u,"fill","currentColor"),f(u,"aria-hidden","true"),f(u,"class","svelte-1ccaw87"),p(u,Tt,55,8,1329),f(c,"type","button"),f(c,"class","panel-toggle svelte-1ccaw87"),f(c,"title","Toggle left sidebar (Ctrl+B)"),f(c,"aria-label","Toggle left sidebar"),f(c,"aria-pressed",m=n[1].leftSidebarVisible),we(c,"active",n[1].leftSidebarVisible),p(c,Tt,45,6,978),f(S,"d","M2 2h6v12H2V2zm8 0h4v12h-4V2z"),p(S,Tt,72,10,1969),f(y,"width","16"),f(y,"height","16"),f(y,"viewBox","0 0 16 16"),f(y,"fill","currentColor"),f(y,"aria-hidden","true"),f(y,"class","svelte-1ccaw87"),p(y,Tt,71,8,1871),f(k,"type","button"),f(k,"class","panel-toggle svelte-1ccaw87"),f(k,"title","Toggle right panel (Ctrl+\\)"),f(k,"aria-label","Toggle right panel"),f(k,"aria-pressed",E=n[1].rightPanelVisible),we(k,"active",n[1].rightPanelVisible),p(k,Tt,61,6,1523),f(R,"d","M2 2h12v6H2V2zm0 8h12v4H2v-4z"),p(R,Tt,88,10,2517),f(T,"width","16"),f(T,"height","16"),f(T,"viewBox","0 0 16 16"),f(T,"fill","currentColor"),f(T,"aria-hidden","true"),f(T,"class","svelte-1ccaw87"),p(T,Tt,87,8,2419),f(V,"type","button"),f(V,"class","panel-toggle svelte-1ccaw87"),f(V,"title","Toggle bottom panel (Ctrl+J)"),f(V,"aria-label","Toggle bottom panel"),f(V,"aria-pressed",z=n[1].bottomPanelVisible),we(V,"active",n[1].bottomPanelVisible),p(V,Tt,77,6,2066),f(l,"class","panel-controls svelte-1ccaw87"),f(l,"role","navigation"),f(l,"aria-label","Panel controls"),p(l,Tt,44,4,897),f(a,"class","toolbar-section center svelte-1ccaw87"),p(a,Tt,43,2,856),f(N,"class","session-status svelte-1ccaw87"),p(N,Tt,96,4,2667),f(x,"class","svelte-1ccaw87"),p(x,Tt,108,6,3164),f(O,"type","button"),f(O,"class","new-session svelte-1ccaw87"),f(O,"title","Start a new Think Tank session"),p(O,Tt,106,4,3011),f(H,"class","toolbar-section right svelte-1ccaw87"),p(H,Tt,95,2,2627),f(e,"class","forge-toolbar svelte-1ccaw87"),f(e,"role","banner"),p(e,Tt,33,0,582)},m:function(te,me){Q(te,e,me),r(e,t),r(t,s),r(s,o),U&&U.m(s,null),r(e,i),r(e,a),r(a,l),r(l,c),r(c,u),r(u,d),r(c,h),r(l,b),r(l,k),r(k,y),r(y,S),r(k,C),r(l,I),r(l,V),r(V,T),r(T,R),r(V,M),r(e,j),r(e,H),r(H,N),ge.m(N,null),r(H,A),r(H,O),Me(L,O,null),r(O,se),r(O,x),Y=!0,J||(ee=[De(c,"click",n[5],!1,!1,!1,!1),De(c,"keydown",fi,!1,!1,!1,!1),De(k,"click",n[6],!1,!1,!1,!1),De(k,"keydown",fi,!1,!1,!1,!1),De(V,"click",n[7],!1,!1,!1,!1),De(V,"keydown",fi,!1,!1,!1,!1),De(O,"click",n[4],!1,!1,!1,!1)],J=!0)},p:function(te,[me]){te[0]?U?U.p(te,me):(U=ml(te),U.c(),U.m(s,null)):U&&(U.d(1),U=null),(!Y||me&2&&m!==(m=te[1].leftSidebarVisible))&&f(c,"aria-pressed",m),(!Y||me&2)&&we(c,"active",te[1].leftSidebarVisible),(!Y||me&2&&E!==(E=te[1].rightPanelVisible))&&f(k,"aria-pressed",E),(!Y||me&2)&&we(k,"active",te[1].rightPanelVisible),(!Y||me&2&&z!==(z=te[1].bottomPanelVisible))&&f(V,"aria-pressed",z),(!Y||me&2)&&we(V,"active",te[1].bottomPanelVisible),ne!==(ne=X(te))&&(ge.d(1),ge=ne(te),ge&&(ge.c(),ge.m(N,null)))},i:function(te){Y||(K(L.$$.fragment,te),Y=!0)},o:function(te){$(L.$$.fragment,te),Y=!1},d:function(te){te&&v(e),U&&U.d(),ge.d(),Te(L),J=!1,Cn(ee)}};return q("SvelteRegisterBlock",{block:de,id:pl.name,type:"component",source:"",ctx:n}),de}function fi(n){(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),n.target.click())}function Ac(n,e,t){let s;qt(ms,"activeSession"),Ut(n,ms,y=>t(2,s=y));let{$$slots:o={},$$scope:i}=e;$t("ForgeToolbar",o,[]);let{sessionId:a=null}=e,{layoutConfig:l}=e;const c=Yt();function u(y){c("togglePanel",y)}function d(){c("newSession")}n.$$.on_mount.push(function(){l===void 0&&("layoutConfig"in e||n.$$.bound[n.$$.props.layoutConfig])});const h=["sessionId","layoutConfig"];Object.keys(e).forEach(y=>{!~h.indexOf(y)&&y.slice(0,2)});const m=()=>u("left"),b=()=>u("right"),k=()=>u("bottom");return n.$$set=y=>{"sessionId"in y&&t(0,a=y.sessionId),"layoutConfig"in y&&t(1,l=y.layoutConfig)},n.$capture_state=()=>({createEventDispatcher:Yt,Icon:Ue,activeSession:ms,sessionId:a,layoutConfig:l,dispatch:c,togglePanel:u,requestNewSession:d,handleKeydown:fi,$activeSession:s}),n.$inject_state=y=>{"sessionId"in y&&t(0,a=y.sessionId),"layoutConfig"in y&&t(1,l=y.layoutConfig)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[a,l,s,u,d,m,b,k]}class wr extends Xt{constructor(e){super(e),Zt(this,e,Ac,pl,Kt,{sessionId:0,layoutConfig:1}),q("SvelteRegisterComponent",{component:this,tagName:"ForgeToolbar",options:e,id:pl.name})}get sessionId(){throw new Error("<ForgeToolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sessionId(e){throw new Error("<ForgeToolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get layoutConfig(){throw new Error("<ForgeToolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set layoutConfig(e){throw new Error("<ForgeToolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Tc={};function Mc(){const n=Sa(Tc,{key:"layout-preferences",storage:"localStorage",version:1});return{...n,async save(e,t){n.update(s=>({...s,[e]:t}))},async load(e){return new Promise(t=>{const s=n.subscribe(o=>{t(o[e]||null),s()})})}}}const Ai=Mc(),Kn="src/lib/components/forge/ForgeLayout.svelte",Nc=n=>({}),ea=n=>({});function gl(n){let e,t,s,o,i,a,l,c,u;t=new Ia({props:{sessionId:n[0]},$$inline:!0});let d=n[4].showParticipants&&_l(n);const h={c:function(){e=_("aside"),Be(t.$$.fragment),s=D(),d&&d.c(),o=D(),i=_("div"),this.h()},l:function(b){e=g(b,"ASIDE",{class:!0,style:!0,"aria-label":!0,"data-visible":!0});var k=w(e);Ne(t.$$.fragment,k),s=P(k),d&&d.l(k),o=P(k),i=g(k,"DIV",{class:!0,role:!0,"aria-orientation":!0,"aria-label":!0,tabindex:!0}),w(i).forEach(v),k.forEach(v),this.h()},h:function(){f(i,"class","resize-handle vertical svelte-1jg80m0"),f(i,"role","separator"),f(i,"aria-orientation","vertical"),f(i,"aria-label","Resize left sidebar"),f(i,"tabindex","0"),p(i,Kn,157,8,4517),f(e,"class","left-sidebar svelte-1jg80m0"),mn(e,"width",n[2].leftSidebarWidth+"px"),f(e,"aria-label","Session sidebar"),f(e,"data-visible",a=n[2].leftSidebarVisible),p(e,Kn,145,6,4141)},m:function(b,k){Q(b,e,k),Me(t,e,null),r(e,s),d&&d.m(e,null),r(e,o),r(e,i),l=!0,c||(u=De(i,"mousedown",n[10]("left"),!1,!1,!1,!1),c=!0)},p:function(b,k){const y={};k&1&&(y.sessionId=b[0]),t.$set(y),b[4].showParticipants?d?(d.p(b,k),k&16&&K(d,1)):(d=_l(b),d.c(),K(d,1),d.m(e,o)):d&&(lt(),$(d,1,1,()=>{d=null}),ot()),(!l||k&4)&&mn(e,"width",b[2].leftSidebarWidth+"px"),(!l||k&4&&a!==(a=b[2].leftSidebarVisible))&&f(e,"data-visible",a)},i:function(b){l||(K(t.$$.fragment,b),K(d),l=!0)},o:function(b){$(t.$$.fragment,b),$(d),l=!1},d:function(b){b&&v(e),Te(t),d&&d.d(),c=!1,u()}};return q("SvelteRegisterBlock",{block:h,id:gl.name,type:"if",source:"(125:4) {#if $layoutConfig.leftSidebarVisible}",ctx:n}),h}function _l(n){let e,t;e=new Ma({props:{session:n[5].activeSession},$$inline:!0});const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},p:function(i,a){const l={};a&32&&(l.session=i[5].activeSession),e.$set(l)},i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:_l.name,type:"if",source:"(134:8) {#if $panelStates.showParticipants}",ctx:n}),s}function bl(n){let e,t,s,o,i,a;const l=n[13]["bottom-panel"],c=pa(l,n,n[12],ea),u={c:function(){e=_("div"),t=D(),s=_("div"),c&&c.c(),this.h()},l:function(h){e=g(h,"DIV",{class:!0,role:!0,"aria-orientation":!0,"aria-label":!0,tabindex:!0}),w(e).forEach(v),t=P(h),s=g(h,"DIV",{class:!0,style:!0,"aria-label":!0});var m=w(s);c&&c.l(m),m.forEach(v),this.h()},h:function(){f(e,"class","resize-handle horizontal svelte-1jg80m0"),f(e,"role","separator"),f(e,"aria-orientation","horizontal"),f(e,"aria-label","Resize bottom panel"),f(e,"tabindex","0"),p(e,Kn,176,8,5075),f(s,"class","bottom-panel svelte-1jg80m0"),mn(s,"height",n[2].bottomPanelHeight+"px"),f(s,"aria-label","Session logs"),p(s,Kn,184,8,5328)},m:function(h,m){Q(h,e,m),Q(h,t,m),Q(h,s,m),c&&c.m(s,null),o=!0,i||(a=De(e,"mousedown",n[10]("bottom"),!1,!1,!1,!1),i=!0)},p:function(h,m){c&&c.p&&(!o||m&4096)&&ga(c,l,h,h[12],o?ba(l,h[12],m,Nc):_a(h[12]),ea),(!o||m&4)&&mn(s,"height",h[2].bottomPanelHeight+"px")},i:function(h){o||(K(c,h),o=!0)},o:function(h){$(c,h),o=!1},d:function(h){h&&(v(e),v(t),v(s)),c&&c.d(h),i=!1,a()}};return q("SvelteRegisterBlock",{block:u,id:bl.name,type:"if",source:"(156:6) {#if $layoutConfig.bottomPanelVisible}",ctx:n}),u}function kl(n){let e,t,s,o,i,a,l,c;o=new br({props:{session:n[5].activeSession,visible:n[4].showResults},$$inline:!0});const u={c:function(){e=_("aside"),t=_("div"),s=D(),Be(o.$$.fragment),this.h()},l:function(h){e=g(h,"ASIDE",{class:!0,style:!0,"aria-label":!0,"data-visible":!0});var m=w(e);t=g(m,"DIV",{class:!0,role:!0,"aria-orientation":!0,"aria-label":!0,tabindex:!0}),w(t).forEach(v),s=P(m),Ne(o.$$.fragment,m),m.forEach(v),this.h()},h:function(){f(t,"class","resize-handle vertical svelte-1jg80m0"),f(t,"role","separator"),f(t,"aria-orientation","vertical"),f(t,"aria-label","Resize right panel"),f(t,"tabindex","0"),p(t,Kn,201,8,5797),f(e,"class","right-panel svelte-1jg80m0"),mn(e,"width",n[2].rightPanelWidth+"px"),f(e,"aria-label","Results panel"),f(e,"data-visible",i=n[2].rightPanelVisible),p(e,Kn,195,6,5599)},m:function(h,m){Q(h,e,m),r(e,t),r(e,s),Me(o,e,null),a=!0,l||(c=De(t,"mousedown",n[10]("right"),!1,!1,!1,!1),l=!0)},p:function(h,m){const b={};m&32&&(b.session=h[5].activeSession),m&16&&(b.visible=h[4].showResults),o.$set(b),(!a||m&4)&&mn(e,"width",h[2].rightPanelWidth+"px"),(!a||m&4&&i!==(i=h[2].rightPanelVisible))&&f(e,"data-visible",i)},i:function(h){a||(K(o.$$.fragment,h),a=!0)},o:function(h){$(o.$$.fragment,h),a=!1},d:function(h){h&&v(e),Te(o),l=!1,c()}};return q("SvelteRegisterBlock",{block:u,id:kl.name,type:"if",source:"(175:4) {#if $layoutConfig.rightPanelVisible}",ctx:n}),u}function yl(n){let e,t,s,o,i,a,l,c,u,d;t=new wr({props:{sessionId:n[0],layoutConfig:n[2]},$$inline:!0}),t.$on("togglePanel",n[14]),t.$on("newSession",n[15]);let h=n[2].leftSidebarVisible&&gl(n);l=new hr({props:{sessionId:n[0],phase:n[4].sessionPhase},$$inline:!0}),l.$on("editSession",n[16]);let m=n[2].bottomPanelVisible&&bl(n),b=n[2].rightPanelVisible&&kl(n);const k={c:function(){e=_("div"),Be(t.$$.fragment),s=D(),o=_("div"),h&&h.c(),i=D(),a=_("main"),Be(l.$$.fragment),c=D(),m&&m.c(),u=D(),b&&b.c(),this.h()},l:function(S){e=g(S,"DIV",{class:!0,"data-testid":!0});var C=w(e);Ne(t.$$.fragment,C),s=P(C),o=g(C,"DIV",{class:!0});var E=w(o);h&&h.l(E),i=P(E),a=g(E,"MAIN",{class:!0,role:!0,"aria-label":!0});var I=w(a);Ne(l.$$.fragment,I),c=P(I),m&&m.l(I),I.forEach(v),u=P(E),b&&b.l(E),E.forEach(v),C.forEach(v),this.h()},h:function(){f(a,"class","main-content svelte-1jg80m0"),f(a,"role","main"),f(a,"aria-label","Forge session content"),p(a,Kn,168,4,4786),f(o,"class","forge-content svelte-1jg80m0"),p(o,Kn,143,2,4064),f(e,"class","forge-layout svelte-1jg80m0"),f(e,"data-testid","forge-layout"),we(e,"resizing",n[3]!==null),p(e,Kn,130,0,3766)},m:function(S,C){Q(S,e,C),Me(t,e,null),r(e,s),r(e,o),h&&h.m(o,null),r(o,i),r(o,a),Me(l,a,null),r(a,c),m&&m.m(a,null),r(o,u),b&&b.m(o,null),n[17](e),d=!0},p:function(S,[C]){const E={};C&1&&(E.sessionId=S[0]),C&4&&(E.layoutConfig=S[2]),t.$set(E),S[2].leftSidebarVisible?h?(h.p(S,C),C&4&&K(h,1)):(h=gl(S),h.c(),K(h,1),h.m(o,i)):h&&(lt(),$(h,1,1,()=>{h=null}),ot());const I={};C&1&&(I.sessionId=S[0]),C&16&&(I.phase=S[4].sessionPhase),l.$set(I),S[2].bottomPanelVisible?m?(m.p(S,C),C&4&&K(m,1)):(m=bl(S),m.c(),K(m,1),m.m(a,null)):m&&(lt(),$(m,1,1,()=>{m=null}),ot()),S[2].rightPanelVisible?b?(b.p(S,C),C&4&&K(b,1)):(b=kl(S),b.c(),K(b,1),b.m(o,null)):b&&(lt(),$(b,1,1,()=>{b=null}),ot()),(!d||C&8)&&we(e,"resizing",S[3]!==null)},i:function(S){d||(K(t.$$.fragment,S),K(h),K(l.$$.fragment,S),K(m),K(b),d=!0)},o:function(S){$(t.$$.fragment,S),$(h),$(l.$$.fragment,S),$(m),$(b),d=!1},d:function(S){S&&v(e),Te(t),h&&h.d(),Te(l),m&&m.d(),b&&b.d(),n[17](null)}};return q("SvelteRegisterBlock",{block:k,id:yl.name,type:"component",source:"",ctx:n}),k}function Bc(n,e,t){let s,o,i,a;qt(Nt,"forgeSessionStore"),Ut(n,Nt,N=>t(5,a=N));let{$$slots:l={},$$scope:c}=e;$t("ForgeLayout",l,["bottom-panel"]);let{sessionId:u=null}=e;const d=Yt(),h={leftSidebarWidth:280,rightPanelWidth:320,leftSidebarVisible:!0,rightPanelVisible:!0,bottomPanelVisible:!1,bottomPanelHeight:200};let m=sn(h);qt(m,"layoutConfig"),Ut(n,m,N=>t(2,s=N));let b=sn(null);qt(b,"isResizing"),Ut(n,b,N=>t(3,o=N));let k;const y=Qn([m,Nt],([N,A])=>({hasActiveSession:!!A?.activeSession,showParticipants:N.leftSidebarVisible&&!!A?.activeSession,showResults:N.rightPanelVisible&&!!A?.activeSession?.hasResults,sessionPhase:A?.activeSession?.phase??"idle"}));qt(y,"panelStates"),Ut(n,y,N=>t(4,i=N));function S(N){return A=>{A.preventDefault(),b.set(N),document.addEventListener("mousemove",C),document.addEventListener("mouseup",E)}}function C(N){const A=o;if(!A||!k)return;const O=k.getBoundingClientRect();m.update(L=>{if(A==="left"){const se=Math.max(200,Math.min(400,N.clientX-O.left));return{...L,leftSidebarWidth:se}}else if(A==="right"){const se=Math.max(250,Math.min(500,O.right-N.clientX));return{...L,rightPanelWidth:se}}else if(A==="bottom"){const se=Math.max(150,Math.min(400,O.bottom-N.clientY));return{...L,bottomPanelHeight:se}}return L})}function E(){b.set(null),document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",E),V()}function I(N){m.update(A=>{switch(N){case"left":return{...A,leftSidebarVisible:!A.leftSidebarVisible};case"right":return{...A,rightPanelVisible:!A.rightPanelVisible};case"bottom":return{...A,bottomPanelVisible:!A.bottomPanelVisible}}}),V()}function V(){Ai.save("forge",s)}function T(N){if(N.ctrlKey||N.metaKey)switch(N.key){case"b":N.preventDefault(),I("left");break;case"\\":N.preventDefault(),I("right");break;case"j":N.preventDefault(),I("bottom");break}}bs(async()=>{const N=await Ai.load("forge");N&&m.set({...h,...N}),window.addEventListener("keydown",T)}),vi(()=>{window.removeEventListener("keydown",T)});const R=["sessionId"];Object.keys(e).forEach(N=>{!~R.indexOf(N)&&N.slice(0,2)});const M=N=>I(N.detail),z=()=>d("newSession"),j=N=>d("editSession",N.detail);function H(N){hi[N?"unshift":"push"](()=>{k=N,t(1,k)})}return n.$$set=N=>{"sessionId"in N&&t(0,u=N.sessionId),"$$scope"in N&&t(12,c=N.$$scope)},n.$capture_state=()=>({createEventDispatcher:Yt,onMount:bs,onDestroy:vi,writable:sn,derived:Qn,SessionSidebar:Ia,ParticipantPanel:Ma,MainContentArea:hr,ResultPanel:br,ForgeToolbar:wr,forgeSessionStore:Nt,layoutPreferencesStore:Ai,sessionId:u,dispatch:d,defaultConfig:h,layoutConfig:m,isResizing:b,containerRef:k,panelStates:y,handleResizeStart:S,handleResizeMove:C,handleResizeEnd:E,togglePanel:I,saveLayoutPreferences:V,handleKeydown:T,$layoutConfig:s,$isResizing:o,$panelStates:i,$forgeSessionStore:a}),n.$inject_state=N=>{"sessionId"in N&&t(0,u=N.sessionId),"layoutConfig"in N&&t(7,m=N.layoutConfig),"isResizing"in N&&t(8,b=N.isResizing),"containerRef"in N&&t(1,k=N.containerRef)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[u,k,s,o,i,a,d,m,b,y,S,I,c,l,M,z,j,H]}class xc extends Xt{constructor(e){super(e),Zt(this,e,Bc,yl,Kt,{sessionId:0}),q("SvelteRegisterComponent",{component:this,tagName:"ForgeLayout",options:e,id:yl.name})}get sessionId(){throw new Error("<ForgeLayout>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sessionId(e){throw new Error("<ForgeLayout>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ta=[{pattern:/\b(repo|repository|repositories|git|code\s*base|codebase)\b/i,topic:"repositories",questions:["Which repository providers do you need to support? (GitHub, GitLab, Bitbucket, local file system, etc.)","Should this work with private repos that require authentication?","Do you need to track multiple branches, or just main/default?"]},{pattern:/\b(index|indexing|search|find|lookup)\b/i,topic:"indexing",questions:["What do you want to index? (file contents, symbols/functions, dependencies, commit history?)","How should search work - full text, semantic/meaning-based, or symbol lookup?","Should the index update automatically when code changes, or on-demand?"]},{pattern:/\b(connect|connection|sync|pull|fetch|clone)\b/i,topic:"connection",questions:["For remote connections, what authentication methods should be supported? (SSH keys, tokens, OAuth?)","Should it handle large repos efficiently, or is size not a concern?","Do you need offline support when remote is unavailable?"]},{pattern:/\b(local|remote|both)\b/i,topic:"locality",questions:["For local repos, should it scan for repos automatically or require manual paths?","Should local and remote repos be treated the same, or have different capabilities?"]},{pattern:/\b(api|endpoint|service|backend)\b/i,topic:"api",questions:["What kind of API - REST, GraphQL, or CLI commands?","Are there rate limits or quotas to consider?","Does it need to integrate with existing Tachikoma services?"]},{pattern:/\b(database|storage|persist|save|store)\b/i,topic:"storage",questions:["What storage backend - SQLite, PostgreSQL, file-based?","How much data are we talking about? Rough estimate of repo count/size?"]},{pattern:/\b(ui|interface|display|show|view|screen)\b/i,topic:"interface",questions:["Where should this appear in the Tachikoma UI?","Any specific interactions or workflows you envision?"]},{pattern:/\b(fast|performance|speed|efficient|scale)\b/i,topic:"performance",questions:["What scale are we dealing with? Number of repos, lines of code?","Are there specific performance targets to hit?"]},{pattern:/\b(config|configure|settings|options)\b/i,topic:"configuration",questions:["What should be configurable by the user vs hardcoded?","Should config be per-project, per-workspace, or global?"]}];function zc(n){const e=n.toLowerCase(),t=[],s=new Set,o=new Set;for(const{pattern:i,topic:a,questions:l}of ta)if(i.test(e)){o.add(a);for(const c of l)if(!s.has(c)&&t.length<4){s.add(c),t.push({category:a,question:c,priority:t.length===0?"high":"medium",filled:!1});break}}if(n.trim().length<50&&t.length===0&&t.unshift({category:"clarity",question:`You mentioned: "${n.trim()}"

Can you expand on this? What specifically are you trying to accomplish?`,priority:"high",filled:!1}),t.length<3&&o.size>0){for(const{pattern:i,topic:a,questions:l}of ta)if(i.test(e)&&o.has(a))for(const c of l)!s.has(c)&&t.length<4&&(s.add(c),t.push({category:a,question:c,priority:"low",filled:!1}))}return t.length===0&&t.push({category:"scope",question:`I want to make sure I understand correctly.

What's the main outcome you're looking for from this session? What would success look like?`,priority:"high",filled:!1}),t.slice(0,4)}function jc(n){const{initialGoal:e,exchanges:t}=n;let s=`## Objective
${e}`;if(t.length>0){s+=`

## Details
`;for(const{question:o,answer:i}of t){const a=o.split(`
`)[0].replace(/[?:]+$/,"").trim();s+=`
**${a}**
${i}
`}}return s}function Oc(){const n=sn({isActive:!1,isStreaming:!1,initialGoal:"",contextGaps:[],currentGapIndex:0,refinedGoal:"",error:null}),e=sn([]),t=sn({initialGoal:"",exchanges:[]});function s(b){const k=zc(b);n.update(y=>({...y,isActive:!0,initialGoal:b,contextGaps:k,currentGapIndex:0,error:null})),e.set([]),t.set({initialGoal:b,exchanges:[]}),k.length>0?o(k[0].question):c("Your goal looks clear. Proceed when ready, or ask me to clarify anything.")}async function o(b){const k=l();await Ss(200+Math.random()*150),n.update(y=>({...y,isStreaming:!0})),await u(k,b),n.update(y=>({...y,isStreaming:!1}))}async function i(b){const k=nn(n),y=k.contextGaps[k.currentGapIndex];e.update(E=>[...E,{id:`user-${Date.now()}`,role:"user",content:b,timestamp:new Date,status:"complete"}]),t.update(E=>({...E,exchanges:[...E.exchanges,{question:y?.question||"",answer:b}]})),n.update(E=>{const I=[...E.contextGaps];return I[E.currentGapIndex]&&(I[E.currentGapIndex].filled=!0),{...E,contextGaps:I}}),await Ss(150);const S=nn(n),C=S.currentGapIndex+1;if(C<S.contextGaps.length){n.update(I=>({...I,currentGapIndex:C}));const E=S.contextGaps[C].question;await o(E)}else await a()}async function a(){const b=nn(t),k=l();await Ss(300),n.update(C=>({...C,isStreaming:!0}));const y=jc(b);n.update(C=>({...C,refinedGoal:y}));const S=`Here's your refined goal:

---

${y}

---

Click **Apply to Goal** to use this, or keep chatting to refine further.`;await u(k,S),n.update(C=>({...C,isStreaming:!1}))}function l(){const b=`msg-${Date.now()}`;return e.update(k=>[...k,{id:b,role:"assistant",content:"",timestamp:new Date,status:"pending"}]),b}async function c(b){const k=l();await Ss(150),n.update(y=>({...y,isStreaming:!0})),await u(k,b),n.update(y=>({...y,isStreaming:!1}))}async function u(b,k){const y=k.split(" ");let S="";e.update(C=>C.map(E=>E.id===b?{...E,status:"streaming"}:E));for(let C=0;C<y.length;C++)S+=(C>0?" ":"")+y[C],e.update(E=>E.map(I=>I.id===b?{...I,content:S}:I)),await Ss(10+Math.random()*15);e.update(C=>C.map(E=>E.id===b?{...E,status:"complete"}:E))}function d(){return nn(n).refinedGoal}function h(){n.update(b=>({...b,isActive:!1,isStreaming:!1,error:null}))}function m(){n.set({isActive:!1,isStreaming:!1,initialGoal:"",contextGaps:[],currentGapIndex:0,refinedGoal:"",error:null}),e.set([]),t.set({initialGoal:"",exchanges:[]})}return{state:{subscribe:n.subscribe},messages:{subscribe:e.subscribe},startRefinement:s,submitAnswer:i,stopRefinement:h,getRefinedGoalMarkdown:d,reset:m}}function Ss(n){return new Promise(e=>setTimeout(e,n))}const ss=Oc(),Mt="src/lib/components/forge/GoalRefinementChat.svelte";function ai(n,e,t){const s=n.slice();return s[22]=e[t],s}function wl(n){let e,t,s,o;const i={c:function(){e=_("div"),t=F(n[6]),s=F("/"),o=F(n[5]),this.h()},l:function(l){e=g(l,"DIV",{class:!0});var c=w(e);t=G(c,n[6]),s=G(c,"/"),o=G(c,n[5]),c.forEach(v),this.h()},h:function(){f(e,"class","progress-badge svelte-11tmy62"),p(e,Mt,100,6,2201)},m:function(l,c){Q(l,e,c),r(e,t),r(e,s),r(e,o)},p:function(l,c){c&64&&ie(t,l[6]),c&32&&ie(o,l[5])},d:function(l){l&&v(e)}};return q("SvelteRegisterBlock",{block:i,id:wl.name,type:"if",source:"(79:4) {#if totalGaps > 0}",ctx:n}),i}function Sl(n){let e,t;const s={c:function(){e=_("div"),t=_("div"),this.h()},l:function(i){e=g(i,"DIV",{class:!0});var a=w(e);t=g(a,"DIV",{class:!0,style:!0}),w(t).forEach(v),a.forEach(v),this.h()},h:function(){f(t,"class","progress-fill svelte-11tmy62"),mn(t,"width",n[6]/n[5]*100+"%"),p(t,Mt,117,6,2554),f(e,"class","progress-track svelte-11tmy62"),p(e,Mt,116,4,2519)},m:function(i,a){Q(i,e,a),r(e,t)},p:function(i,a){a&96&&mn(t,"width",i[6]/i[5]*100+"%")},d:function(i){i&&v(e)}};return q("SvelteRegisterBlock",{block:s,id:Sl.name,type:"if",source:"(95:2) {#if totalGaps > 0}",ctx:n}),s}function Sr(n){let e,t;e=new Ue({props:{name:"user",size:14},$$inline:!0});const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:Sr.name,type:"else",source:"(108:10) {:else}",ctx:n}),s}function Cr(n){let e,t;e=new Ue({props:{name:"cpu",size:14},$$inline:!0});const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:Cr.name,type:"if",source:"(106:10) {#if message.role === 'assistant'}",ctx:n}),s}function Er(n){let e,t,s=n[12](n[22].content)+"";const o={c:function(){e=_("div"),t=new Ps(!1),this.h()},l:function(a){e=g(a,"DIV",{class:!0});var l=w(e);t=Is(l,!1),l.forEach(v),this.h()},h:function(){t.a=null,f(e,"class","message-text svelte-11tmy62"),p(e,Mt,138,12,3318)},m:function(a,l){Q(a,e,l),t.m(s,e)},p:function(a,l){l&16&&s!==(s=a[12](a[22].content)+"")&&t.p(s)},d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Er.name,type:"if",source:"(117:36) ",ctx:n}),o}function Ir(n){let e,t,s,o;const i={c:function(){e=_("div"),t=_("span"),s=_("span"),o=_("span"),this.h()},l:function(l){e=g(l,"DIV",{class:!0});var c=w(e);t=g(c,"SPAN",{class:!0}),w(t).forEach(v),s=g(c,"SPAN",{class:!0}),w(s).forEach(v),o=g(c,"SPAN",{class:!0}),w(o).forEach(v),c.forEach(v),this.h()},h:function(){f(t,"class","svelte-11tmy62"),p(t,Mt,135,14,3210),f(s,"class","svelte-11tmy62"),p(s,Mt,135,27,3223),f(o,"class","svelte-11tmy62"),p(o,Mt,135,40,3236),f(e,"class","typing-dots svelte-11tmy62"),p(e,Mt,134,12,3170)},m:function(l,c){Q(l,e,c),r(e,t),r(e,s),r(e,o)},p:$e,d:function(l){l&&v(e)}};return q("SvelteRegisterBlock",{block:i,id:Ir.name,type:"if",source:"(113:10) {#if message.status === 'pending'}",ctx:n}),i}function Cl(n,e){let t,s,o,i,a,l,c,u;const d=[Cr,Sr],h=[];function m(C,E){return C[22].role==="assistant"?0:1}o=m(e),i=h[o]=d[o](e);function b(C,E){if(C[22].status==="pending")return Ir;if(C[22].content)return Er}let k=b(e),y=k&&k(e);const S={key:n,first:null,c:function(){t=_("div"),s=_("div"),i.c(),a=D(),l=_("div"),y&&y.c(),c=D(),this.h()},l:function(E){t=g(E,"DIV",{class:!0});var I=w(t);s=g(I,"DIV",{class:!0});var V=w(s);i.l(V),V.forEach(v),a=P(I),l=g(I,"DIV",{class:!0});var T=w(l);y&&y.l(T),T.forEach(v),c=P(I),I.forEach(v),this.h()},h:function(){f(s,"class","message-indicator svelte-11tmy62"),p(s,Mt,125,8,2864),f(l,"class","message-content svelte-11tmy62"),p(l,Mt,132,8,3083),f(t,"class","message svelte-11tmy62"),we(t,"is-user",e[22].role==="user"),p(t,Mt,124,6,2794),this.first=t},m:function(E,I){Q(E,t,I),r(t,s),h[o].m(s,null),r(t,a),r(t,l),y&&y.m(l,null),r(t,c),u=!0},p:function(E,I){e=E;let V=o;o=m(e),o!==V&&(lt(),$(h[V],1,1,()=>{h[V]=null}),ot(),i=h[o],i||(i=h[o]=d[o](e),i.c()),K(i,1),i.m(s,null)),k===(k=b(e))&&y?y.p(e,I):(y&&y.d(1),y=k&&k(e),y&&(y.c(),y.m(l,null))),(!u||I&16)&&we(t,"is-user",e[22].role==="user")},i:function(E){u||(K(i),u=!0)},o:function(E){$(i),u=!1},d:function(E){E&&v(t),h[o].d(),y&&y.d()}};return q("SvelteRegisterBlock",{block:S,id:Cl.name,type:"each",source:"(103:4) {#each messages as message (message.id)}",ctx:e}),S}function El(n){let e,t,s="Continue",o,i,a,l,c,u,d;a=new Ue({props:{name:"check",size:14},$$inline:!0});const h={c:function(){e=_("div"),t=_("button"),t.textContent=s,o=D(),i=_("button"),Be(a.$$.fragment),l=F(`
        Apply to Goal`),this.h()},l:function(b){e=g(b,"DIV",{class:!0});var k=w(e);t=g(k,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-fpbei8"&&(t.textContent=s),o=P(k),i=g(k,"BUTTON",{type:!0,class:!0});var y=w(i);Ne(a.$$.fragment,y),l=G(y,`
        Apply to Goal`),y.forEach(v),k.forEach(v),this.h()},h:function(){f(t,"type","button"),f(t,"class","btn-secondary svelte-11tmy62"),p(t,Mt,173,6,4133),f(i,"type","button"),f(i,"class","btn-primary svelte-11tmy62"),p(i,Mt,176,6,4256),f(e,"class","actions-bar svelte-11tmy62"),p(e,Mt,172,4,4101)},m:function(b,k){Q(b,e,k),r(e,t),r(e,o),r(e,i),Me(a,i,null),r(i,l),c=!0,u||(d=[De(t,"click",n[17],!1,!1,!1,!1),De(i,"click",n[11],!1,!1,!1,!1)],u=!0)},p:$e,i:function(b){c||(K(a.$$.fragment,b),c=!0)},o:function(b){$(a.$$.fragment,b),c=!1},d:function(b){b&&v(e),Te(a),u=!1,Cn(d)}};return q("SvelteRegisterBlock",{block:h,id:El.name,type:"if",source:"(151:2) {#if hasRefinedGoal}",ctx:n}),h}function Il(n){let e,t,s,o,i,a,l="Q&A REFINEMENT",c,u,d,h,m,b,k,y=[],S=new Map,C,E,I,V,T,R,M,z,j,H,N,A;o=new Ue({props:{name:"message-circle",size:16},$$inline:!0});let O=n[5]>0&&wl(n);h=new Ue({props:{name:"x",size:14},$$inline:!0});let L=n[5]>0&&Sl(n),se=Ke(n[4]);const x=J=>J[22].id;ln(n,se,ai,x);for(let J=0;J<se.length;J+=1){let ee=ai(n,se,J),U=x(ee);S.set(U,y[J]=Cl(U,ee))}M=new Ue({props:{name:"send",size:14},$$inline:!0});let B=n[7]&&El(n);const Y={c:function(){e=_("div"),t=_("header"),s=_("div"),Be(o.$$.fragment),i=D(),a=_("span"),a.textContent=l,c=D(),O&&O.c(),u=D(),d=_("button"),Be(h.$$.fragment),m=D(),L&&L.c(),b=D(),k=_("div");for(let ee=0;ee<y.length;ee+=1)y[ee].c();C=D(),E=_("div"),I=_("input"),T=D(),R=_("button"),Be(M.$$.fragment),j=D(),B&&B.c(),this.h()},l:function(ee){e=g(ee,"DIV",{class:!0,"data-testid":!0});var U=w(e);t=g(U,"HEADER",{class:!0});var X=w(t);s=g(X,"DIV",{class:!0});var ne=w(s);Ne(o.$$.fragment,ne),i=P(ne),a=g(ne,"SPAN",{"data-svelte-h":!0}),Z(a)!=="svelte-66k735"&&(a.textContent=l),ne.forEach(v),c=P(X),O&&O.l(X),u=P(X),d=g(X,"BUTTON",{type:!0,class:!0,"aria-label":!0});var ge=w(d);Ne(h.$$.fragment,ge),ge.forEach(v),X.forEach(v),m=P(U),L&&L.l(U),b=P(U),k=g(U,"DIV",{class:!0});var de=w(k);for(let me=0;me<y.length;me+=1)y[me].l(de);de.forEach(v),C=P(U),E=g(U,"DIV",{class:!0});var W=w(E);I=g(W,"INPUT",{type:!0,class:!0,placeholder:!0,"data-testid":!0}),T=P(W),R=g(W,"BUTTON",{type:!0,class:!0,"aria-label":!0});var te=w(R);Ne(M.$$.fragment,te),te.forEach(v),W.forEach(v),j=P(U),B&&B.l(U),U.forEach(v),this.h()},h:function(){p(a,Mt,97,6,2132),f(s,"class","header-title svelte-11tmy62"),p(s,Mt,95,4,2052),f(d,"type","button"),f(d,"class","close-btn svelte-11tmy62"),f(d,"aria-label","Close"),p(d,Mt,104,4,2291),f(t,"class","panel-header svelte-11tmy62"),p(t,Mt,94,2,2018),f(k,"class","messages-area svelte-11tmy62"),p(k,Mt,122,2,2685),f(I,"type","text"),f(I,"class","chat-input svelte-11tmy62"),f(I,"placeholder","Type your response..."),I.disabled=V=n[0].isStreaming,f(I,"data-testid","refinement-input"),p(I,Mt,149,4,3537),f(R,"type","button"),f(R,"class","send-btn svelte-11tmy62"),R.disabled=z=!n[1].trim()||n[0].isStreaming,f(R,"aria-label","Send"),p(R,Mt,159,4,3816),f(E,"class","input-area svelte-11tmy62"),p(E,Mt,148,2,3508),f(e,"class","refinement-panel svelte-11tmy62"),f(e,"data-testid","goal-refinement-chat"),p(e,Mt,92,0,1926)},m:function(ee,U){Q(ee,e,U),r(e,t),r(t,s),Me(o,s,null),r(s,i),r(s,a),r(t,c),O&&O.m(t,null),r(t,u),r(t,d),Me(h,d,null),r(e,m),L&&L.m(e,null),r(e,b),r(e,k);for(let X=0;X<y.length;X+=1)y[X]&&y[X].m(k,null);n[14](k),r(e,C),r(e,E),r(E,I),n[15](I),pn(I,n[1]),r(E,T),r(E,R),Me(M,R,null),r(e,j),B&&B.m(e,null),H=!0,N||(A=[De(d,"click",n[10],!1,!1,!1,!1),De(I,"input",n[16]),De(I,"keydown",n[9],!1,!1,!1,!1),De(R,"click",n[8],!1,!1,!1,!1)],N=!0)},p:function(ee,[U]){ee[5]>0?O?O.p(ee,U):(O=wl(ee),O.c(),O.m(t,u)):O&&(O.d(1),O=null),ee[5]>0?L?L.p(ee,U):(L=Sl(ee),L.c(),L.m(e,b)):L&&(L.d(1),L=null),U&4112&&(se=Ke(ee[4]),lt(),ln(ee,se,ai,x),y=ls(y,U,x,1,ee,se,S,k,go,Cl,null,ai),ot()),(!H||U&1&&V!==(V=ee[0].isStreaming))&&Gn(I,"disabled",V),U&2&&I.value!==ee[1]&&pn(I,ee[1]),(!H||U&3&&z!==(z=!ee[1].trim()||ee[0].isStreaming))&&Gn(R,"disabled",z),ee[7]?B?(B.p(ee,U),U&128&&K(B,1)):(B=El(ee),B.c(),K(B,1),B.m(e,null)):B&&(lt(),$(B,1,1,()=>{B=null}),ot())},i:function(ee){if(!H){K(o.$$.fragment,ee),K(h.$$.fragment,ee);for(let U=0;U<se.length;U+=1)K(y[U]);K(M.$$.fragment,ee),K(B),H=!0}},o:function(ee){$(o.$$.fragment,ee),$(h.$$.fragment,ee);for(let U=0;U<y.length;U+=1)$(y[U]);$(M.$$.fragment,ee),$(B),H=!1},d:function(ee){ee&&v(e),Te(o),O&&O.d(),Te(h),L&&L.d();for(let U=0;U<y.length;U+=1)y[U].d();n[14](null),n[15](null),Te(M),B&&B.d(),N=!1,Cn(A)}};return q("SvelteRegisterBlock",{block:Y,id:Il.name,type:"component",source:"",ctx:n}),Y}function Gc(n,e,t){let s,o,i,{$$slots:a={},$$scope:l}=e;$t("GoalRefinementChat",a,[]);let{currentGoal:c=""}=e;const u=Yt();let d="",h,m,b=[],k={isActive:!1,isStreaming:!1,initialGoal:"",contextGaps:[],currentGapIndex:0,refinedGoal:"",error:null};const y=ss.messages.subscribe(A=>{t(4,b=A),setTimeout(C,50)}),S=ss.state.subscribe(A=>{t(0,k=A)});bs(()=>{ss.startRefinement(c),m?.focus()}),vi(()=>{y(),S(),ss.reset()});function C(){h&&t(2,h.scrollTop=h.scrollHeight,h)}function E(){!d.trim()||k.isStreaming||(ss.submitAnswer(d.trim()),t(1,d=""))}function I(A){A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),E())}function V(){ss.stopRefinement(),u("close")}function T(){const A=ss.getRefinedGoalMarkdown();u("applySuggestions",A)}function R(A){try{return Fn(A)}catch{return A}}const M=["currentGoal"];Object.keys(e).forEach(A=>{!~M.indexOf(A)&&A.slice(0,2)});function z(A){hi[A?"unshift":"push"](()=>{h=A,t(2,h)})}function j(A){hi[A?"unshift":"push"](()=>{m=A,t(3,m)})}function H(){d=this.value,t(1,d)}const N=()=>m?.focus();return n.$$set=A=>{"currentGoal"in A&&t(13,c=A.currentGoal)},n.$capture_state=()=>({createEventDispatcher:Yt,onMount:bs,onDestroy:vi,marked:Fn,goalRefinementStore:ss,Icon:Ue,currentGoal:c,dispatch:u,inputValue:d,messagesContainer:h,inputElement:m,messages:b,refinementState:k,unsubMessages:y,unsubState:S,scrollToBottom:C,handleSubmit:E,handleKeydown:I,handleClose:V,handleApplySuggestions:T,renderMarkdown:R,totalGaps:i,filledCount:o,hasRefinedGoal:s}),n.$inject_state=A=>{"currentGoal"in A&&t(13,c=A.currentGoal),"inputValue"in A&&t(1,d=A.inputValue),"messagesContainer"in A&&t(2,h=A.messagesContainer),"inputElement"in A&&t(3,m=A.inputElement),"messages"in A&&t(4,b=A.messages),"refinementState"in A&&t(0,k=A.refinementState),"totalGaps"in A&&t(5,i=A.totalGaps),"filledCount"in A&&t(6,o=A.filledCount),"hasRefinedGoal"in A&&t(7,s=A.hasRefinedGoal)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&t(7,s=k.refinedGoal.length>0),n.$$.dirty&1&&t(6,o=k.contextGaps.filter(A=>A.filled).length),n.$$.dirty&1&&t(5,i=k.contextGaps.length)},[k,d,h,m,b,i,o,s,E,I,V,T,R,c,z,j,H,N]}class Pr extends Xt{constructor(e){super(e),Zt(this,e,Gc,Il,Kt,{currentGoal:13}),q("SvelteRegisterComponent",{component:this,tagName:"GoalRefinementChat",options:e,id:Il.name})}get currentGoal(){throw new Error("<GoalRefinementChat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentGoal(e){throw new Error("<GoalRefinementChat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ct="src/lib/components/forge/GoalInput.svelte";function na(n,e,t){const s=n.slice();return s[16]=e[t],s}function Dr(n){let e,t,s;const o={c:function(){e=_("textarea"),this.h()},l:function(a){e=g(a,"TEXTAREA",{id:!0,class:!0,placeholder:!0,"data-testid":!0}),w(e).forEach(v),this.h()},h:function(){f(e,"id","session-goal"),f(e,"class","goal-textarea svelte-sj5maf"),f(e,"placeholder",`Describe your session goal in detail. You can use markdown formatting:

**Key Questions:**
- What decisions need to be made?
- What constraints should we consider?
- What are the success criteria?

**Background:**
Provide relevant context...

**Expected Outcomes:**
- Specific deliverables
- Action items
- Next steps`),f(e,"data-testid","goal-textarea"),p(e,ct,139,8,3220)},m:function(a,l){Q(a,e,l),pn(e,n[0]),t||(s=[De(e,"input",n[13]),De(e,"input",n[6],!1,!1,!1,!1)],t=!0)},p:function(a,l){l&1&&pn(e,a[0])},d:function(a){a&&v(e),t=!1,Cn(s)}};return q("SvelteRegisterBlock",{block:o,id:Dr.name,type:"else",source:"(122:6) {:else}",ctx:n}),o}function Rr(n){let e,t;const s={c:function(){e=_("div"),t=new Ps(!1),this.h()},l:function(i){e=g(i,"DIV",{class:!0,"data-testid":!0});var a=w(e);t=Is(a,!1),a.forEach(v),this.h()},h:function(){t.a=null,f(e,"class","goal-preview svelte-sj5maf"),f(e,"data-testid","goal-preview"),p(e,ct,132,8,3068)},m:function(i,a){Q(i,e,a),t.m(n[5],e)},p:function(i,a){a&32&&t.p(i[5])},d:function(i){i&&v(e)}};return q("SvelteRegisterBlock",{block:s,id:Rr.name,type:"if",source:"(115:6) {#if showPreview}",ctx:n}),s}function Pl(n){let e,t;e=new Pr({props:{currentGoal:n[0]},$$inline:!0}),e.$on("close",n[10]),e.$on("applySuggestions",n[11]);const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},p:function(i,a){const l={};a&1&&(l.currentGoal=i[0]),e.$set(l)},i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:Pl.name,type:"if",source:"(153:2) {#if showRefinement}",ctx:n}),s}function Dl(n){let e,t=Ke(n[2]),s=[];for(let i=0;i<t.length;i+=1)s[i]=Rl(na(n,t,i));const o={c:function(){e=_("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l:function(a){e=g(a,"DIV",{class:!0,role:!0});var l=w(e);for(let c=0;c<s.length;c+=1)s[c].l(l);l.forEach(v),this.h()},h:function(){f(e,"class","error-list svelte-sj5maf"),f(e,"role","alert"),p(e,ct,178,4,4150)},m:function(a,l){Q(a,e,l);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null)},p:function(a,l){if(l&4){t=Ke(a[2]);let c;for(c=0;c<t.length;c+=1){const u=na(a,t,c);s[c]?s[c].p(u,l):(s[c]=Rl(u),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=t.length}},d:function(a){a&&v(e),cn(s,a)}};return q("SvelteRegisterBlock",{block:o,id:Dl.name,type:"if",source:"(161:2) {#if errors.length > 0}",ctx:n}),o}function Rl(n){let e,t,s="",o,i=n[16]+"",a,l;const c={c:function(){e=_("div"),t=_("span"),t.textContent=s,o=D(),a=F(i),l=D(),this.h()},l:function(d){e=g(d,"DIV",{class:!0});var h=w(e);t=g(h,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-afr8fm"&&(t.textContent=s),o=P(h),a=G(h,i),l=P(h),h.forEach(v),this.h()},h:function(){f(t,"class","error-icon svelte-sj5maf"),p(t,ct,181,10,4261),f(e,"class","error-item svelte-sj5maf"),p(e,ct,180,8,4226)},m:function(d,h){Q(d,e,h),r(e,t),r(e,o),r(e,a),r(e,l)},p:function(d,h){h&4&&i!==(i=d[16]+"")&&ie(a,i)},d:function(d){d&&v(e)}};return q("SvelteRegisterBlock",{block:c,id:Rl.name,type:"each",source:"(163:6) {#each errors as error}",ctx:n}),c}function Vl(n){let e,t,s,o="Define Session Goal",i,a,l="What do you want to achieve with this deliberation session? Be specific about your objectives, constraints, and success criteria.",c,u,d,h,m,b="*",k,y,S,C,E,I,V,T,R="*",M,z,j,H=" Q&A Mode",N,A,O=n[0].length+"",L,se,x,B,Y=n[3]?"Edit":"Preview",J,ee,U,X,ne,ge,de="",W,te,me,he,ve,pe,He=" Tips for Writing Effective Goals",Pe,re,Se,ue,Ae="Be Specific:",st,ke,_e,ce,Ce="Include Context:",tt,Ye,ht,Ee,be="Define Success:",Fe,xe,kt,yt,mt="Set Scope:",gt,Ct,ut,Le;function ft(Wt,Je){return Wt[3]?Rr:Dr}let qe=ft(n),Xe=qe(n),Oe=n[4]&&Pl(n),Qe=n[2].length>0&&Dl(n);const at={c:function(){e=_("div"),t=_("div"),s=_("h2"),s.textContent=o,i=D(),a=_("p"),a.textContent=l,c=D(),u=_("div"),d=_("label"),h=F(`Session Name
      `),m=_("span"),m.textContent=b,k=D(),y=_("input"),S=D(),C=_("div"),E=_("div"),I=_("label"),V=F(`Goal Description
        `),T=_("span"),T.textContent=R,M=D(),z=_("div"),j=_("button"),j.textContent=H,N=D(),A=_("span"),L=F(O),se=F("/5000"),x=D(),B=_("button"),J=F(Y),ee=D(),U=_("div"),Xe.c(),X=D(),ne=_("div"),ge=_("span"),ge.textContent=de,W=F(`
      Supports Markdown formatting: **bold**, *italic*, lists, links, etc.`),te=D(),Oe&&Oe.c(),me=D(),Qe&&Qe.c(),he=D(),ve=_("div"),pe=_("h3"),pe.textContent=He,Pe=D(),re=_("ul"),Se=_("li"),ue=_("strong"),ue.textContent=Ae,st=F(" Clear, concrete objectives lead to better outcomes"),ke=D(),_e=_("li"),ce=_("strong"),ce.textContent=Ce,tt=F(" Provide background information and constraints"),Ye=D(),ht=_("li"),Ee=_("strong"),Ee.textContent=be,Fe=F(" What would a successful session look like?"),xe=D(),kt=_("li"),yt=_("strong"),yt.textContent=mt,gt=F(" What's in scope vs. out of scope for this session?"),this.h()},l:function(Je){e=g(Je,"DIV",{class:!0,"data-testid":!0});var ze=w(e);t=g(ze,"DIV",{class:!0});var _t=w(t);s=g(_t,"H2",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-rupleo"&&(s.textContent=o),i=P(_t),a=g(_t,"P",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-vhengj"&&(a.textContent=l),_t.forEach(v),c=P(ze),u=g(ze,"DIV",{class:!0});var rt=w(u);d=g(rt,"LABEL",{for:!0,class:!0});var Bt=w(d);h=G(Bt,`Session Name
      `),m=g(Bt,"SPAN",{class:!0,"data-svelte-h":!0}),Z(m)!=="svelte-1ttfsis"&&(m.textContent=b),Bt.forEach(v),k=P(rt),y=g(rt,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0,"data-testid":!0}),rt.forEach(v),S=P(ze),C=g(ze,"DIV",{class:!0});var it=w(C);E=g(it,"DIV",{class:!0});var et=w(E);I=g(et,"LABEL",{for:!0,class:!0});var vt=w(I);V=G(vt,`Goal Description
        `),T=g(vt,"SPAN",{class:!0,"data-svelte-h":!0}),Z(T)!=="svelte-1ttfsis"&&(T.textContent=R),vt.forEach(v),M=P(et),z=g(et,"DIV",{class:!0});var xt=w(z);j=g(xt,"BUTTON",{type:!0,class:!0,"data-testid":!0,title:!0,"data-svelte-h":!0}),Z(j)!=="svelte-dqs2vo"&&(j.textContent=H),N=P(xt),A=g(xt,"SPAN",{class:!0});var We=w(A);L=G(We,O),se=G(We,"/5000"),We.forEach(v),x=P(xt),B=g(xt,"BUTTON",{type:!0,class:!0,"data-testid":!0});var fe=w(B);J=G(fe,Y),fe.forEach(v),xt.forEach(v),et.forEach(v),ee=P(it),U=g(it,"DIV",{class:!0});var Re=w(U);Xe.l(Re),Re.forEach(v),X=P(it),ne=g(it,"DIV",{class:!0});var Ge=w(ne);ge=g(Ge,"SPAN",{class:!0,"data-svelte-h":!0}),Z(ge)!=="svelte-1mbn8iu"&&(ge.textContent=de),W=G(Ge,`
      Supports Markdown formatting: **bold**, *italic*, lists, links, etc.`),Ge.forEach(v),it.forEach(v),te=P(ze),Oe&&Oe.l(ze),me=P(ze),Qe&&Qe.l(ze),he=P(ze),ve=g(ze,"DIV",{class:!0});var ae=w(ve);pe=g(ae,"H3",{class:!0,"data-svelte-h":!0}),Z(pe)!=="svelte-1c4or30"&&(pe.textContent=He),Pe=P(ae),re=g(ae,"UL",{class:!0});var nt=w(re);Se=g(nt,"LI",{class:!0});var Rt=w(Se);ue=g(Rt,"STRONG",{class:!0,"data-svelte-h":!0}),Z(ue)!=="svelte-1tg9m6j"&&(ue.textContent=Ae),st=G(Rt," Clear, concrete objectives lead to better outcomes"),Rt.forEach(v),ke=P(nt),_e=g(nt,"LI",{class:!0});var zt=w(_e);ce=g(zt,"STRONG",{class:!0,"data-svelte-h":!0}),Z(ce)!=="svelte-322p5f"&&(ce.textContent=Ce),tt=G(zt," Provide background information and constraints"),zt.forEach(v),Ye=P(nt),ht=g(nt,"LI",{class:!0});var on=w(ht);Ee=g(on,"STRONG",{class:!0,"data-svelte-h":!0}),Z(Ee)!=="svelte-88b01k"&&(Ee.textContent=be),Fe=G(on," What would a successful session look like?"),on.forEach(v),xe=P(nt),kt=g(nt,"LI",{class:!0});var Vt=w(kt);yt=g(Vt,"STRONG",{class:!0,"data-svelte-h":!0}),Z(yt)!=="svelte-lgjywe"&&(yt.textContent=mt),gt=G(Vt," What's in scope vs. out of scope for this session?"),Vt.forEach(v),nt.forEach(v),ae.forEach(v),ze.forEach(v),this.h()},h:function(){f(s,"class","svelte-sj5maf"),p(s,ct,76,4,1486),f(a,"class","step-description svelte-sj5maf"),p(a,ct,77,4,1519),f(t,"class","step-header svelte-sj5maf"),p(t,ct,75,2,1456),f(m,"class","required svelte-sj5maf"),p(m,ct,85,6,1805),f(d,"for","session-name"),f(d,"class","form-label svelte-sj5maf"),p(d,ct,83,4,1734),f(y,"id","session-name"),f(y,"type","text"),f(y,"class","form-input svelte-sj5maf"),f(y,"placeholder","e.g., Q4 Product Strategy Session"),f(y,"data-testid","session-name-input"),p(y,ct,87,4,1854),f(u,"class","form-group svelte-sj5maf"),p(u,ct,82,2,1705),f(T,"class","required svelte-sj5maf"),p(T,ct,102,8,2237),f(I,"for","session-goal"),f(I,"class","form-label svelte-sj5maf"),p(I,ct,100,6,2158),f(j,"type","button"),f(j,"class","refine-toggle svelte-sj5maf"),f(j,"data-testid","refine-toggle"),f(j,"title","Guided Q&A to refine your goal"),we(j,"active",n[4]),p(j,ct,105,8,2326),f(A,"class","char-count svelte-sj5maf"),we(A,"warning",n[0].length>4500),p(A,ct,115,8,2613),f(B,"type","button"),f(B,"class","preview-toggle svelte-sj5maf"),f(B,"data-testid","preview-toggle"),we(B,"active",n[3]),p(B,ct,118,8,2729),f(z,"class","goal-controls svelte-sj5maf"),p(z,ct,104,6,2290),f(E,"class","goal-header svelte-sj5maf"),p(E,ct,99,4,2126),f(U,"class","goal-container svelte-sj5maf"),p(U,ct,130,4,3007),f(ge,"class","hint-icon svelte-sj5maf"),p(ge,ct,164,6,3811),f(ne,"class","markdown-hint svelte-sj5maf"),p(ne,ct,163,4,3777),f(C,"class","form-group svelte-sj5maf"),p(C,ct,98,2,2097),f(pe,"class","svelte-sj5maf"),p(pe,ct,189,4,4396),f(ue,"class","svelte-sj5maf"),p(ue,ct,191,10,4478),f(Se,"class","svelte-sj5maf"),p(Se,ct,191,6,4474),f(ce,"class","svelte-sj5maf"),p(ce,ct,192,10,4574),f(_e,"class","svelte-sj5maf"),p(_e,ct,192,6,4570),f(Ee,"class","svelte-sj5maf"),p(Ee,ct,193,10,4670),f(ht,"class","svelte-sj5maf"),p(ht,ct,193,6,4666),f(yt,"class","svelte-sj5maf"),p(yt,ct,194,10,4761),f(kt,"class","svelte-sj5maf"),p(kt,ct,194,6,4757),f(re,"class","tips-list svelte-sj5maf"),p(re,ct,190,4,4445),f(ve,"class","tips-section svelte-sj5maf"),p(ve,ct,188,2,4365),f(e,"class","goal-input-step svelte-sj5maf"),f(e,"data-testid","goal-input-step"),p(e,ct,74,0,1394)},m:function(Je,ze){Q(Je,e,ze),r(e,t),r(t,s),r(t,i),r(t,a),r(e,c),r(e,u),r(u,d),r(d,h),r(d,m),r(u,k),r(u,y),pn(y,n[1]),r(e,S),r(e,C),r(C,E),r(E,I),r(I,V),r(I,T),r(E,M),r(E,z),r(z,j),r(z,N),r(z,A),r(A,L),r(A,se),r(z,x),r(z,B),r(B,J),r(C,ee),r(C,U),Xe.m(U,null),r(C,X),r(C,ne),r(ne,ge),r(ne,W),r(e,te),Oe&&Oe.m(e,null),r(e,me),Qe&&Qe.m(e,null),r(e,he),r(e,ve),r(ve,pe),r(ve,Pe),r(ve,re),r(re,Se),r(Se,ue),r(Se,st),r(re,ke),r(re,_e),r(_e,ce),r(_e,tt),r(re,Ye),r(re,ht),r(ht,Ee),r(ht,Fe),r(re,xe),r(re,kt),r(kt,yt),r(kt,gt),Ct=!0,ut||(Le=[De(y,"input",n[12]),De(y,"input",n[7],!1,!1,!1,!1),De(j,"click",n[9],!1,!1,!1,!1),De(B,"click",n[8],!1,!1,!1,!1)],ut=!0)},p:function(Je,[ze]){ze&2&&y.value!==Je[1]&&pn(y,Je[1]),(!Ct||ze&16)&&we(j,"active",Je[4]),(!Ct||ze&1)&&O!==(O=Je[0].length+"")&&ie(L,O),(!Ct||ze&1)&&we(A,"warning",Je[0].length>4500),(!Ct||ze&8)&&Y!==(Y=Je[3]?"Edit":"Preview")&&ie(J,Y),(!Ct||ze&8)&&we(B,"active",Je[3]),qe===(qe=ft(Je))&&Xe?Xe.p(Je,ze):(Xe.d(1),Xe=qe(Je),Xe&&(Xe.c(),Xe.m(U,null))),Je[4]?Oe?(Oe.p(Je,ze),ze&16&&K(Oe,1)):(Oe=Pl(Je),Oe.c(),K(Oe,1),Oe.m(e,me)):Oe&&(lt(),$(Oe,1,1,()=>{Oe=null}),ot()),Je[2].length>0?Qe?Qe.p(Je,ze):(Qe=Dl(Je),Qe.c(),Qe.m(e,he)):Qe&&(Qe.d(1),Qe=null)},i:function(Je){Ct||(K(Oe),Ct=!0)},o:function(Je){$(Oe),Ct=!1},d:function(Je){Je&&v(e),Xe.d(),Oe&&Oe.d(),Qe&&Qe.d(),ut=!1,Cn(Le)}};return q("SvelteRegisterBlock",{block:at,id:Vl.name,type:"component",source:"",ctx:n}),at}function Fc(n,e,t){let{$$slots:s={},$$scope:o}=e;$t("GoalInput",s,[]);let{value:i=""}=e,{name:a=""}=e,{errors:l=[]}=e;const c=Yt();let u=!1,d=!1,h="";function m(R){const z=R.target.value;t(0,i=z),c("goalChange",z),E(z)}function b(R){const z=R.target.value;t(1,a=z),c("nameChange",z)}function k(){t(3,u=!u),u&&E(i)}function y(){t(4,d=!d),d&&u&&t(3,u=!1)}function S(){t(4,d=!1)}function C(R){const M=R.detail;t(0,i=M),c("goalChange",M),E(M),t(4,d=!1)}function E(R){R.trim()?t(5,h=Fn(R)):t(5,h="<p><em>No content to preview</em></p>")}i&&E(i);const I=["value","name","errors"];Object.keys(e).forEach(R=>{!~I.indexOf(R)&&R.slice(0,2)});function V(){a=this.value,t(1,a)}function T(){i=this.value,t(0,i)}return n.$$set=R=>{"value"in R&&t(0,i=R.value),"name"in R&&t(1,a=R.name),"errors"in R&&t(2,l=R.errors)},n.$capture_state=()=>({createEventDispatcher:Yt,marked:Fn,GoalRefinementChat:Pr,value:i,name:a,errors:l,dispatch:c,showPreview:u,showRefinement:d,previewHtml:h,handleGoalInput:m,handleNameInput:b,togglePreview:k,toggleRefinement:y,handleRefinementClose:S,handleApplySuggestions:C,updatePreview:E}),n.$inject_state=R=>{"value"in R&&t(0,i=R.value),"name"in R&&t(1,a=R.name),"errors"in R&&t(2,l=R.errors),"showPreview"in R&&t(3,u=R.showPreview),"showRefinement"in R&&t(4,d=R.showRefinement),"previewHtml"in R&&t(5,h=R.previewHtml)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[i,a,l,u,d,h,m,b,k,y,S,C,V,T]}class Vr extends Xt{constructor(e){super(e),Zt(this,e,Fc,Vl,Kt,{value:0,name:1,errors:2}),q("SvelteRegisterComponent",{component:this,tagName:"GoalInput",options:e,id:Vl.name})}get value(){throw new Error("<GoalInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<GoalInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get name(){throw new Error("<GoalInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<GoalInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get errors(){throw new Error("<GoalInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set errors(e){throw new Error("<GoalInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const je="src/lib/components/forge/ParticipantSelect.svelte";function sa(n,e,t){const s=n.slice();return s[22]=e[t],s}function ri(n,e,t){const s=n.slice();s[25]=e[t];const o=ko(s[25].avatar);return s[26]=o,s}function ci(n,e,t){const s=n.slice();s[25]=e[t];const o=ko(s[25].avatar);return s[26]=o,s}function Ar(n){let e,t,s="",o,i,a="No participants selected yet",l,c,u="Choose from the available participants below";const d={c:function(){e=_("div"),t=_("div"),t.textContent=s,o=D(),i=_("p"),i.textContent=a,l=D(),c=_("p"),c.textContent=u,this.h()},l:function(m){e=g(m,"DIV",{class:!0});var b=w(e);t=g(b,"DIV",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1c531lc"&&(t.textContent=s),o=P(b),i=g(b,"P",{"data-svelte-h":!0}),Z(i)!=="svelte-1lpx1ua"&&(i.textContent=a),l=P(b),c=g(b,"P",{class:!0,"data-svelte-h":!0}),Z(c)!=="svelte-1de3v2y"&&(c.textContent=u),b.forEach(v),this.h()},h:function(){f(t,"class","empty-icon svelte-7k5usc"),p(t,je,240,8,6877),p(i,je,241,8,6918),f(c,"class","empty-hint svelte-7k5usc"),p(c,je,242,8,6962),f(e,"class","empty-state svelte-7k5usc"),p(e,je,239,6,6843)},m:function(m,b){Q(m,e,b),r(e,t),r(e,o),r(e,i),r(e,l),r(e,c)},p:$e,d:function(m){m&&v(e)}};return q("SvelteRegisterBlock",{block:d,id:Ar.name,type:"else",source:"(215:4) {:else}",ctx:n}),d}function Tr(n){let e,t=[],s=new Map,o,i=Ke(n[0]);const a=u=>u[25].id;ln(n,i,ci,a);for(let u=0;u<i.length;u+=1){let d=ci(n,i,u),h=a(d);s.set(h,t[u]=Tl(h,d))}let l=n[4]>0&&Ml(n);const c={c:function(){e=_("div");for(let d=0;d<t.length;d+=1)t[d].c();o=D(),l&&l.c(),this.h()},l:function(d){e=g(d,"DIV",{class:!0});var h=w(e);for(let m=0;m<t.length;m+=1)t[m].l(h);o=P(h),l&&l.l(h),h.forEach(v),this.h()},h:function(){f(e,"class","selected-list svelte-7k5usc"),p(e,je,193,6,4986)},m:function(d,h){Q(d,e,h);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);r(e,o),l&&l.m(e,null)},p:function(d,h){h&1409&&(i=Ke(d[0]),ln(d,i,ci,a),t=ls(t,h,a,1,d,i,s,e,Cs,Tl,o,ci)),d[4]>0?l?l.p(d,h):(l=Ml(d),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d:function(d){d&&v(e);for(let h=0;h<t.length;h+=1)t[h].d();l&&l.d()}};return q("SvelteRegisterBlock",{block:c,id:Tr.name,type:"if",source:"(169:4) {#if selected.length > 0}",ctx:n}),c}function Mr(n){let e,t=(n[26].emoji||"")+"",s;const o={c:function(){e=_("span"),s=F(t),this.h()},l:function(a){e=g(a,"SPAN",{class:!0,"aria-hidden":!0});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){f(e,"class","avatar-emoji svelte-7k5usc"),f(e,"aria-hidden","true"),p(e,je,205,16,5528)},m:function(a,l){Q(a,e,l),r(e,s)},p:function(a,l){l&1&&t!==(t=(a[26].emoji||"")+"")&&ie(s,t)},d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Mr.name,type:"else",source:"(181:14) {:else}",ctx:n}),o}function Nr(n){let e,t,s,o;function i(){return n[12](n[25])}const a={c:function(){e=_("img"),this.h()},l:function(c){e=g(c,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){On(e.src,t=n[26].src)||f(e,"src",t),f(e,"alt",""),f(e,"class","svelte-7k5usc"),p(e,je,199,16,5343)},m:function(c,u){Q(c,e,u),s||(o=De(e,"error",i,!1,!1,!1,!1),s=!0)},p:function(c,u){n=c,u&1&&!On(e.src,t=n[26].src)&&f(e,"src",t)},d:function(c){c&&v(e),s=!1,o()}};return q("SvelteRegisterBlock",{block:a,id:Nr.name,type:"if",source:"(175:14) {#if a.src && !brokenAvatarIds.has(participant.id)}",ctx:n}),a}function Al(n){let e,t,s=n[25].estimatedCostPerRound.toFixed(3)+"",o,i;const a={c:function(){e=_("span"),t=F("$"),o=F(s),i=F("/round"),this.h()},l:function(c){e=g(c,"SPAN",{class:!0});var u=w(e);t=G(u,"$"),o=G(u,s),i=G(u,"/round"),u.forEach(v),this.h()},h:function(){f(e,"class","participant-cost svelte-7k5usc"),p(e,je,217,16,6148)},m:function(c,u){Q(c,e,u),r(e,t),r(e,o),r(e,i)},p:function(c,u){u&1&&s!==(s=c[25].estimatedCostPerRound.toFixed(3)+"")&&ie(o,s)},d:function(c){c&&v(e)}};return q("SvelteRegisterBlock",{block:a,id:Al.name,type:"if",source:"(193:14) {#if participant.estimatedCostPerRound}",ctx:n}),a}function Tl(n,e){let t,s,o,i,a,l,c=e[25].name+"",u,d,h,m=e[25].role+"",b,k,y,S,C=e[25].type.toUpperCase()+"",E,I,V,T,R,M,z,j,H;function N(B,Y){return Y&1&&(o=null),o==null&&(o=!!(B[26].src&&!B[7].has(B[25].id))),o?Nr:Mr}let A=N(e,-1),O=A(e),L=e[25].estimatedCostPerRound&&Al(e);function se(){return e[13](e[25])}const x={key:n,first:null,c:function(){t=_("div"),s=_("div"),O.c(),i=D(),a=_("div"),l=_("div"),u=F(c),d=D(),h=_("div"),b=F(m),k=D(),y=_("div"),S=_("span"),E=F(C),I=D(),L&&L.c(),V=D(),T=_("button"),R=F(""),this.h()},l:function(Y){t=g(Y,"DIV",{class:!0,"data-testid":!0});var J=w(t);s=g(J,"DIV",{class:!0});var ee=w(s);O.l(ee),ee.forEach(v),i=P(J),a=g(J,"DIV",{class:!0});var U=w(a);l=g(U,"DIV",{class:!0});var X=w(l);u=G(X,c),X.forEach(v),d=P(U),h=g(U,"DIV",{class:!0});var ne=w(h);b=G(ne,m),ne.forEach(v),U.forEach(v),k=P(J),y=g(J,"DIV",{class:!0});var ge=w(y);S=g(ge,"SPAN",{class:!0});var de=w(S);E=G(de,C),de.forEach(v),I=P(ge),L&&L.l(ge),ge.forEach(v),V=P(J),T=g(J,"BUTTON",{type:!0,class:!0,"aria-label":!0});var W=w(T);R=G(W,""),W.forEach(v),J.forEach(v),this.h()},h:function(){f(s,"class","participant-avatar svelte-7k5usc"),p(s,je,197,12,5228),f(l,"class","participant-name svelte-7k5usc"),p(l,je,209,14,5695),f(h,"class","participant-role svelte-7k5usc"),p(h,je,210,14,5764),f(a,"class","participant-info svelte-7k5usc"),p(a,je,208,12,5650),f(S,"class","participant-type svelte-7k5usc"),we(S,"human",e[25].type==="human"),we(S,"ai",e[25].type==="ai"),p(S,je,213,14,5895),f(y,"class","participant-meta svelte-7k5usc"),p(y,je,212,12,5850),f(T,"type","button"),f(T,"class","remove-btn svelte-7k5usc"),f(T,"aria-label",M="Remove "+e[25].name),p(T,je,220,12,6291),f(t,"class","selected-item svelte-7k5usc"),f(t,"data-testid",z="selected-participant-"+e[25].id),p(t,je,196,10,5136),this.first=t},m:function(Y,J){Q(Y,t,J),r(t,s),O.m(s,null),r(t,i),r(t,a),r(a,l),r(l,u),r(a,d),r(a,h),r(h,b),r(t,k),r(t,y),r(y,S),r(S,E),r(y,I),L&&L.m(y,null),r(t,V),r(t,T),r(T,R),j||(H=De(T,"click",se,!1,!1,!1,!1),j=!0)},p:function(Y,J){e=Y,A===(A=N(e,J))&&O?O.p(e,J):(O.d(1),O=A(e),O&&(O.c(),O.m(s,null))),J&1&&c!==(c=e[25].name+"")&&ie(u,c),J&1&&m!==(m=e[25].role+"")&&ie(b,m),J&1&&C!==(C=e[25].type.toUpperCase()+"")&&ie(E,C),J&1&&we(S,"human",e[25].type==="human"),J&1&&we(S,"ai",e[25].type==="ai"),e[25].estimatedCostPerRound?L?L.p(e,J):(L=Al(e),L.c(),L.m(y,null)):L&&(L.d(1),L=null),J&1&&M!==(M="Remove "+e[25].name)&&f(T,"aria-label",M),J&1&&z!==(z="selected-participant-"+e[25].id)&&f(t,"data-testid",z)},d:function(Y){Y&&v(t),O.d(),L&&L.d(),j=!1,H()}};return q("SvelteRegisterBlock",{block:x,id:Tl.name,type:"each",source:"(171:8) {#each selected as participant (participant.id)}",ctx:e}),x}function Ml(n){let e,t,s="Total estimated cost per round:",o,i,a,l=n[4].toFixed(3)+"",c;const u={c:function(){e=_("div"),t=_("span"),t.textContent=s,o=D(),i=_("span"),a=F("$"),c=F(l),this.h()},l:function(h){e=g(h,"DIV",{class:!0});var m=w(e);t=g(m,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1pcrwab"&&(t.textContent=s),o=P(m),i=g(m,"SPAN",{class:!0});var b=w(i);a=G(b,"$"),c=G(b,l),b.forEach(v),m.forEach(v),this.h()},h:function(){f(t,"class","cost-label svelte-7k5usc"),p(t,je,233,12,6649),f(i,"class","cost-value svelte-7k5usc"),p(i,je,234,12,6725),f(e,"class","cost-summary svelte-7k5usc"),p(e,je,232,10,6610)},m:function(h,m){Q(h,e,m),r(e,t),r(e,o),r(e,i),r(i,a),r(i,c)},p:function(h,m){m&16&&l!==(l=h[4].toFixed(3)+"")&&ie(c,l)},d:function(h){h&&v(e)}};return q("SvelteRegisterBlock",{block:u,id:Ml.name,type:"if",source:"(208:8) {#if totalCost > 0}",ctx:n}),u}function Nl(n){let e,t="",s,o;const i={c:function(){e=_("button"),e.textContent=t,this.h()},l:function(l){e=g(l,"BUTTON",{type:!0,class:!0,"aria-label":!0,"data-svelte-h":!0}),Z(e)!=="svelte-1if8oty"&&(e.textContent=t),this.h()},h:function(){f(e,"type","button"),f(e,"class","search-clear svelte-7k5usc"),f(e,"aria-label","Clear search"),p(e,je,258,10,7430)},m:function(l,c){Q(l,e,c),s||(o=De(e,"click",n[11],!1,!1,!1,!1),s=!0)},p:$e,d:function(l){l&&v(e),s=!1,o()}};return q("SvelteRegisterBlock",{block:i,id:Nl.name,type:"if",source:"(234:8) {#if searchQuery}",ctx:n}),i}function Br(n){let e,t,s="",o,i,a="No participants found",l,c,u="Try adjusting your search or filter";const d={c:function(){e=_("div"),t=_("div"),t.textContent=s,o=D(),i=_("p"),i.textContent=a,l=D(),c=_("p"),c.textContent=u,this.h()},l:function(m){e=g(m,"DIV",{class:!0});var b=w(e);t=g(b,"DIV",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-10mpzpl"&&(t.textContent=s),o=P(b),i=g(b,"P",{"data-svelte-h":!0}),Z(i)!=="svelte-ntuytn"&&(i.textContent=a),l=P(b),c=g(b,"P",{class:!0,"data-svelte-h":!0}),Z(c)!=="svelte-16fokzv"&&(c.textContent=u),b.forEach(v),this.h()},h:function(){f(t,"class","no-results-icon svelte-7k5usc"),p(t,je,342,8,10161),p(i,je,343,8,10207),f(c,"class","no-results-hint svelte-7k5usc"),p(c,je,344,8,10244),f(e,"class","no-results svelte-7k5usc"),p(e,je,341,6,10128)},m:function(m,b){Q(m,e,b),r(e,t),r(e,o),r(e,i),r(e,l),r(e,c)},p:$e,d:function(m){m&&v(e)}};return q("SvelteRegisterBlock",{block:d,id:Br.name,type:"else",source:"(317:4) {:else}",ctx:n}),d}function zr(n){let e,t=[],s=new Map,o=Ke(n[6]);const i=l=>l[25].id;ln(n,o,ri,i);for(let l=0;l<o.length;l+=1){let c=ri(n,o,l),u=i(c);s.set(u,t[l]=jl(u,c))}const a={c:function(){e=_("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l:function(c){e=g(c,"DIV",{class:!0});var u=w(e);for(let d=0;d<t.length;d+=1)t[d].l(u);u.forEach(v),this.h()},h:function(){f(e,"class","participant-grid svelte-7k5usc"),p(e,je,301,6,8446)},m:function(c,u){Q(c,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null)},p:function(c,u){u&992&&(o=Ke(c[6]),ln(c,o,ri,i),t=ls(t,u,i,1,c,o,s,e,Cs,jl,null,ri))},d:function(c){c&&v(e);for(let u=0;u<t.length;u+=1)t[u].d()}};return q("SvelteRegisterBlock",{block:a,id:zr.name,type:"if",source:"(277:4) {#if filteredParticipants.length > 0}",ctx:n}),a}function jr(n){let e,t=(n[26].emoji||"")+"",s;const o={c:function(){e=_("span"),s=F(t),this.h()},l:function(a){e=g(a,"SPAN",{class:!0,"aria-hidden":!0});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){f(e,"class","avatar-emoji svelte-7k5usc"),f(e,"aria-hidden","true"),p(e,je,320,18,9238)},m:function(a,l){Q(a,e,l),r(e,s)},p:function(a,l){l&64&&t!==(t=(a[26].emoji||"")+"")&&ie(s,t)},d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:jr.name,type:"else",source:"(296:16) {:else}",ctx:n}),o}function Or(n){let e,t,s,o;function i(){return n[18](n[25])}const a={c:function(){e=_("img"),this.h()},l:function(c){e=g(c,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){On(e.src,t=n[26].src)||f(e,"src",t),f(e,"alt",""),f(e,"class","svelte-7k5usc"),p(e,je,314,18,9041)},m:function(c,u){Q(c,e,u),s||(o=De(e,"error",i,!1,!1,!1,!1),s=!0)},p:function(c,u){n=c,u&64&&!On(e.src,t=n[26].src)&&f(e,"src",t)},d:function(c){c&&v(e),s=!1,o()}};return q("SvelteRegisterBlock",{block:a,id:Or.name,type:"if",source:"(290:16) {#if a.src && !brokenAvatarIds.has(participant.id)}",ctx:n}),a}function Bl(n){let e,t,s=n[25].estimatedCostPerRound.toFixed(3)+"",o,i;const a={c:function(){e=_("div"),t=F("$"),o=F(s),i=F("/round"),this.h()},l:function(c){e=g(c,"DIV",{class:!0});var u=w(e);t=G(u,"$"),o=G(u,s),i=G(u,"/round"),u.forEach(v),this.h()},h:function(){f(e,"class","participant-cost svelte-7k5usc"),p(e,je,331,16,9810)},m:function(c,u){Q(c,e,u),r(e,t),r(e,o),r(e,i)},p:function(c,u){u&64&&s!==(s=c[25].estimatedCostPerRound.toFixed(3)+"")&&ie(o,s)},d:function(c){c&&v(e)}};return q("SvelteRegisterBlock",{block:a,id:Bl.name,type:"if",source:"(307:14) {#if participant.estimatedCostPerRound}",ctx:n}),a}function zl(n){let e,t="";const s={c:function(){e=_("div"),e.textContent=t,this.h()},l:function(i){e=g(i,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-zf432j"&&(e.textContent=t),this.h()},h:function(){f(e,"class","selected-indicator svelte-7k5usc"),p(e,je,335,14,10003)},m:function(i,a){Q(i,e,a)},d:function(i){i&&v(e)}};return q("SvelteRegisterBlock",{block:s,id:zl.name,type:"if",source:"(311:12) {#if selectedIds.has(participant.id)}",ctx:n}),s}function jl(n,e){let t,s,o,i,a,l,c=e[25].type.toUpperCase()+"",u,d,h,m,b=e[25].name+"",k,y,S,C=e[25].role+"",E,I,V,T=e[5].has(e[25].id),R,M,z,j;function H(B,Y){return Y&64&&(i=null),i==null&&(i=!!(B[26].src&&!B[7].has(B[25].id))),i?Or:jr}let N=H(e,-1),A=N(e),O=e[25].estimatedCostPerRound&&Bl(e),L=T&&zl(e);function se(){return e[19](e[25])}const x={key:n,first:null,c:function(){t=_("button"),s=_("div"),o=_("div"),A.c(),a=D(),l=_("div"),u=F(c),d=D(),h=_("div"),m=_("div"),k=F(b),y=D(),S=_("div"),E=F(C),I=D(),O&&O.c(),V=D(),L&&L.c(),R=D(),this.h()},l:function(Y){t=g(Y,"BUTTON",{type:!0,class:!0,"data-testid":!0});var J=w(t);s=g(J,"DIV",{class:!0});var ee=w(s);o=g(ee,"DIV",{class:!0});var U=w(o);A.l(U),U.forEach(v),a=P(ee),l=g(ee,"DIV",{class:!0});var X=w(l);u=G(X,c),X.forEach(v),ee.forEach(v),d=P(J),h=g(J,"DIV",{class:!0});var ne=w(h);m=g(ne,"DIV",{class:!0});var ge=w(m);k=G(ge,b),ge.forEach(v),y=P(ne),S=g(ne,"DIV",{class:!0});var de=w(S);E=G(de,C),de.forEach(v),I=P(ne),O&&O.l(ne),ne.forEach(v),V=P(J),L&&L.l(J),R=P(J),J.forEach(v),this.h()},h:function(){f(o,"class","participant-avatar svelte-7k5usc"),p(o,je,312,14,8922),f(l,"class","participant-type svelte-7k5usc"),we(l,"human",e[25].type==="human"),we(l,"ai",e[25].type==="ai"),p(l,je,323,14,9366),f(s,"class","card-header svelte-7k5usc"),p(s,je,311,12,8882),f(m,"class","participant-name svelte-7k5usc"),p(m,je,328,14,9616),f(S,"class","participant-role svelte-7k5usc"),p(S,je,329,14,9685),f(h,"class","card-body svelte-7k5usc"),p(h,je,327,12,9578),f(t,"type","button"),f(t,"class","participant-card svelte-7k5usc"),f(t,"data-testid",M="participant-"+e[25].id),we(t,"selected",e[5].has(e[25].id)),p(t,je,304,10,8611),this.first=t},m:function(Y,J){Q(Y,t,J),r(t,s),r(s,o),A.m(o,null),r(s,a),r(s,l),r(l,u),r(t,d),r(t,h),r(h,m),r(m,k),r(h,y),r(h,S),r(S,E),r(h,I),O&&O.m(h,null),r(t,V),L&&L.m(t,null),r(t,R),z||(j=De(t,"click",se,!1,!1,!1,!1),z=!0)},p:function(Y,J){e=Y,N===(N=H(e,J))&&A?A.p(e,J):(A.d(1),A=N(e),A&&(A.c(),A.m(o,null))),J&64&&c!==(c=e[25].type.toUpperCase()+"")&&ie(u,c),J&64&&we(l,"human",e[25].type==="human"),J&64&&we(l,"ai",e[25].type==="ai"),J&64&&b!==(b=e[25].name+"")&&ie(k,b),J&64&&C!==(C=e[25].role+"")&&ie(E,C),e[25].estimatedCostPerRound?O?O.p(e,J):(O=Bl(e),O.c(),O.m(h,null)):O&&(O.d(1),O=null),J&96&&(T=e[5].has(e[25].id)),T?L||(L=zl(e),L.c(),L.m(t,R)):L&&(L.d(1),L=null),J&64&&M!==(M="participant-"+e[25].id)&&f(t,"data-testid",M),J&96&&we(t,"selected",e[5].has(e[25].id))},d:function(Y){Y&&v(t),A.d(),O&&O.d(),L&&L.d(),z=!1,j()}};return q("SvelteRegisterBlock",{block:x,id:jl.name,type:"each",source:"(279:8) {#each filteredParticipants as participant (participant.id)}",ctx:e}),x}function Ol(n){let e,t=Ke(n[1]),s=[];for(let i=0;i<t.length;i+=1)s[i]=Gl(sa(n,t,i));const o={c:function(){e=_("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l:function(a){e=g(a,"DIV",{class:!0,role:!0});var l=w(e);for(let c=0;c<s.length;c+=1)s[c].l(l);l.forEach(v),this.h()},h:function(){f(e,"class","error-list svelte-7k5usc"),f(e,"role","alert"),p(e,je,350,4,10374)},m:function(a,l){Q(a,e,l);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null)},p:function(a,l){if(l&2){t=Ke(a[1]);let c;for(c=0;c<t.length;c+=1){const u=sa(a,t,c);s[c]?s[c].p(u,l):(s[c]=Gl(u),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=t.length}},d:function(a){a&&v(e),cn(s,a)}};return q("SvelteRegisterBlock",{block:o,id:Ol.name,type:"if",source:"(326:2) {#if errors.length > 0}",ctx:n}),o}function Gl(n){let e,t,s="",o,i=n[22]+"",a,l;const c={c:function(){e=_("div"),t=_("span"),t.textContent=s,o=D(),a=F(i),l=D(),this.h()},l:function(d){e=g(d,"DIV",{class:!0});var h=w(e);t=g(h,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-afr8fm"&&(t.textContent=s),o=P(h),a=G(h,i),l=P(h),h.forEach(v),this.h()},h:function(){f(t,"class","error-icon svelte-7k5usc"),p(t,je,353,10,10485),f(e,"class","error-item svelte-7k5usc"),p(e,je,352,8,10450)},m:function(d,h){Q(d,e,h),r(e,t),r(e,o),r(e,a),r(e,l)},p:function(d,h){h&2&&i!==(i=d[22]+"")&&ie(a,i)},d:function(d){d&&v(e)}};return q("SvelteRegisterBlock",{block:c,id:Gl.name,type:"each",source:"(328:6) {#each errors as error}",ctx:n}),c}function Fl(n){let e,t,s,o="Select Participants",i,a,l="Choose who will participate in this deliberation session. You need at least 2 participants for meaningful discussion.",c,u,d,h,m=n[0].length+"",b,k,y,S,C,E,I,V,T,R,M,z,j="All",H,N,A="Human",O,L,se="AI",x,B,Y,J="Available Participants",ee,U,X,ne;function ge(Pe,re){return Pe[0].length>0?Tr:Ar}let de=ge(n),W=de(n),te=n[2]&&Nl(n);function me(Pe,re){return Pe[6].length>0?zr:Br}let he=me(n),ve=he(n),pe=n[1].length>0&&Ol(n);const He={c:function(){e=_("div"),t=_("div"),s=_("h2"),s.textContent=o,i=D(),a=_("p"),a.textContent=l,c=D(),u=_("div"),d=_("h3"),h=F("Selected Participants ("),b=F(m),k=F(")"),y=D(),W.c(),S=D(),C=_("div"),E=_("div"),I=_("div"),V=_("input"),T=D(),te&&te.c(),R=D(),M=_("div"),z=_("button"),z.textContent=j,H=D(),N=_("button"),N.textContent=A,O=D(),L=_("button"),L.textContent=se,x=D(),B=_("div"),Y=_("h3"),Y.textContent=J,ee=D(),ve.c(),U=D(),pe&&pe.c(),this.h()},l:function(re){e=g(re,"DIV",{class:!0,"data-testid":!0});var Se=w(e);t=g(Se,"DIV",{class:!0});var ue=w(t);s=g(ue,"H2",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-1nf5hws"&&(s.textContent=o),i=P(ue),a=g(ue,"P",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-1wu18es"&&(a.textContent=l),ue.forEach(v),c=P(Se),u=g(Se,"DIV",{class:!0});var Ae=w(u);d=g(Ae,"H3",{class:!0});var st=w(d);h=G(st,"Selected Participants ("),b=G(st,m),k=G(st,")"),st.forEach(v),y=P(Ae),W.l(Ae),Ae.forEach(v),S=P(Se),C=g(Se,"DIV",{class:!0});var ke=w(C);E=g(ke,"DIV",{class:!0});var _e=w(E);I=g(_e,"DIV",{class:!0});var ce=w(I);V=g(ce,"INPUT",{type:!0,class:!0,placeholder:!0,"data-testid":!0}),T=P(ce),te&&te.l(ce),ce.forEach(v),R=P(_e),M=g(_e,"DIV",{class:!0});var Ce=w(M);z=g(Ce,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Z(z)!=="svelte-1ewpc01"&&(z.textContent=j),H=P(Ce),N=g(Ce,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Z(N)!=="svelte-ymhvwn"&&(N.textContent=A),O=P(Ce),L=g(Ce,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Z(L)!=="svelte-11f5o3y"&&(L.textContent=se),Ce.forEach(v),_e.forEach(v),ke.forEach(v),x=P(Se),B=g(Se,"DIV",{class:!0});var tt=w(B);Y=g(tt,"H3",{class:!0,"data-svelte-h":!0}),Z(Y)!=="svelte-ihhyqj"&&(Y.textContent=J),ee=P(tt),ve.l(tt),tt.forEach(v),U=P(Se),pe&&pe.l(Se),Se.forEach(v),this.h()},h:function(){f(s,"class","svelte-7k5usc"),p(s,je,184,4,4657),f(a,"class","step-description svelte-7k5usc"),p(a,je,185,4,4690),f(t,"class","step-header svelte-7k5usc"),p(t,je,183,2,4627),f(d,"class","svelte-7k5usc"),p(d,je,191,4,4899),f(u,"class","selected-section svelte-7k5usc"),p(u,je,190,2,4864),f(V,"type","text"),f(V,"class","search-input svelte-7k5usc"),f(V,"placeholder","Search participants by name or role..."),f(V,"data-testid","participant-search"),p(V,je,250,8,7182),f(I,"class","search-input-container svelte-7k5usc"),p(I,je,249,6,7137),f(z,"type","button"),f(z,"class","filter-btn svelte-7k5usc"),we(z,"active",n[3]==="all"),p(z,je,270,8,7690),f(N,"type","button"),f(N,"class","filter-btn svelte-7k5usc"),we(N,"active",n[3]==="human"),p(N,je,278,8,7893),f(L,"type","button"),f(L,"class","filter-btn svelte-7k5usc"),we(L,"active",n[3]==="ai"),p(L,je,286,8,8102),f(M,"class","filter-controls svelte-7k5usc"),p(M,je,269,6,7652),f(E,"class","search-controls svelte-7k5usc"),p(E,je,248,4,7101),f(C,"class","search-section svelte-7k5usc"),p(C,je,247,2,7068),f(Y,"class","svelte-7k5usc"),p(Y,je,299,4,8366),f(B,"class","available-section svelte-7k5usc"),p(B,je,298,2,8330),f(e,"class","participant-select-step svelte-7k5usc"),f(e,"data-testid","participant-select-step"),p(e,je,182,0,4549)},m:function(re,Se){Q(re,e,Se),r(e,t),r(t,s),r(t,i),r(t,a),r(e,c),r(e,u),r(u,d),r(d,h),r(d,b),r(d,k),r(u,y),W.m(u,null),r(e,S),r(e,C),r(C,E),r(E,I),r(I,V),pn(V,n[2]),r(I,T),te&&te.m(I,null),r(E,R),r(E,M),r(M,z),r(M,H),r(M,N),r(M,O),r(M,L),r(e,x),r(e,B),r(B,Y),r(B,ee),ve.m(B,null),r(e,U),pe&&pe.m(e,null),X||(ne=[De(V,"input",n[14]),De(z,"click",n[15],!1,!1,!1,!1),De(N,"click",n[16],!1,!1,!1,!1),De(L,"click",n[17],!1,!1,!1,!1)],X=!0)},p:function(re,[Se]){Se&1&&m!==(m=re[0].length+"")&&ie(b,m),de===(de=ge(re))&&W?W.p(re,Se):(W.d(1),W=de(re),W&&(W.c(),W.m(u,null))),Se&4&&V.value!==re[2]&&pn(V,re[2]),re[2]?te?te.p(re,Se):(te=Nl(re),te.c(),te.m(I,null)):te&&(te.d(1),te=null),Se&8&&we(z,"active",re[3]==="all"),Se&8&&we(N,"active",re[3]==="human"),Se&8&&we(L,"active",re[3]==="ai"),he===(he=me(re))&&ve?ve.p(re,Se):(ve.d(1),ve=he(re),ve&&(ve.c(),ve.m(B,null))),re[1].length>0?pe?pe.p(re,Se):(pe=Ol(re),pe.c(),pe.m(e,null)):pe&&(pe.d(1),pe=null)},i:$e,o:$e,d:function(re){re&&v(e),W.d(),te&&te.d(),ve.d(),pe&&pe.d(),X=!1,Cn(ne)}};return q("SvelteRegisterBlock",{block:He,id:Fl.name,type:"component",source:"",ctx:n}),He}function ko(n){if(!n)return{};if(n.startsWith("asset:")){const e=n.slice(6),[t,s]=e.split("|");return{src:t,emoji:s}}return n.startsWith("/")||n.startsWith("http")?{src:n}:{emoji:n}}function Wc(n,e,t){let s,o,i,{$$slots:a={},$$scope:l}=e;$t("ParticipantSelect",a,[]);let{selected:c=[]}=e,{errors:u=[]}=e;const d=Yt(),h=new Set;function m(A){h.add(A)}const b=[{id:"human-kusanagi",name:"Major Motoko Kusanagi",type:"human",role:"Visionary / Systems Architect",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Motoko-Kusanagi.32.png|",estimatedCostPerRound:0},{id:"human-batou",name:"Batou",type:"human",role:"Deployment Specialist / Reliability",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Bateau.32.png|",estimatedCostPerRound:0},{id:"human-togusa",name:"Togusa",type:"human",role:"QA Lead / Product Critic",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Togusa.32.png|",estimatedCostPerRound:0},{id:"human-aramaki",name:"Daisuke Aramaki",type:"human",role:"Stakeholder / Strategy & Risk",status:"active",avatar:"",estimatedCostPerRound:0},{id:"human-ishikawa",name:"Ishikawa",type:"human",role:"Observability / Telemetry",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Ishikawa.32.png|",estimatedCostPerRound:0},{id:"human-saito",name:"Saito",type:"human",role:"Security / Threat Modeling",status:"active",avatar:"",estimatedCostPerRound:0},{id:"ai-fuchikoma-blue",name:"Fuchikoma Blue",type:"ai",role:"Implementation Agent",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Blue.32.png|",estimatedCostPerRound:.03},{id:"ai-fuchikoma-red",name:"Fuchikoma Red",type:"ai",role:"Testing & Validation Agent",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Red.32.png|",estimatedCostPerRound:.03},{id:"ai-fuchikoma-purple",name:"Fuchikoma Purple",type:"ai",role:"Research & Analysis Agent",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Purple.32.png|",estimatedCostPerRound:.03},{id:"ai-arakone",name:"Arakone Unit",type:"ai",role:"Heavy Processing / Synthesis",status:"active",avatar:"asset:/icons/Iconfactory-Ghost-In-The-Shell-Arakone-Unit.32.png|",estimatedCostPerRound:.06},{id:"ai-laughing-man",name:"Laughing Man",type:"ai",role:"Adversarial Reviewer",status:"active",avatar:"",estimatedCostPerRound:.06},{id:"ai-puppet-master",name:"Puppet Master",type:"ai",role:"Orchestration & Arbitration",status:"active",avatar:"",estimatedCostPerRound:.08}];let k="",y="all";function S(A){let O;o.has(A.id)?O=c.filter(L=>L.id!==A.id):O=[...c,A],d("change",O)}function C(A){const O=c.filter(L=>L.id!==A);d("change",O)}function E(){t(2,k="")}const I=["selected","errors"];Object.keys(e).forEach(A=>{!~I.indexOf(A)&&A.slice(0,2)});const V=A=>m(A.id),T=A=>C(A.id);function R(){k=this.value,t(2,k)}const M=()=>t(3,y="all"),z=()=>t(3,y="human"),j=()=>t(3,y="ai"),H=A=>m(A.id),N=A=>S(A);return n.$$set=A=>{"selected"in A&&t(0,c=A.selected),"errors"in A&&t(1,u=A.errors)},n.$capture_state=()=>({createEventDispatcher:Yt,selected:c,errors:u,dispatch:d,brokenAvatarIds:h,parseAvatar:ko,markAvatarBroken:m,availableParticipants:b,searchQuery:k,filterType:y,toggleParticipant:S,removeParticipant:C,clearSearch:E,totalCost:i,selectedIds:o,filteredParticipants:s}),n.$inject_state=A=>{"selected"in A&&t(0,c=A.selected),"errors"in A&&t(1,u=A.errors),"searchQuery"in A&&t(2,k=A.searchQuery),"filterType"in A&&t(3,y=A.filterType),"totalCost"in A&&t(4,i=A.totalCost),"selectedIds"in A&&t(5,o=A.selectedIds),"filteredParticipants"in A&&t(6,s=A.filteredParticipants)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&12&&t(6,s=b.filter(A=>{const O=A.name.toLowerCase().includes(k.toLowerCase())||A.role.toLowerCase().includes(k.toLowerCase()),L=y==="all"||A.type===y;return O&&L})),n.$$.dirty&1&&t(5,o=new Set(c.map(A=>A.id))),n.$$.dirty&1&&t(4,i=c.reduce((A,O)=>A+(O.estimatedCostPerRound||0),0))},[c,u,k,y,i,o,s,h,m,S,C,E,V,T,R,M,z,j,H,N]}class Gr extends Xt{constructor(e){super(e),Zt(this,e,Wc,Fl,Kt,{selected:0,errors:1}),q("SvelteRegisterComponent",{component:this,tagName:"ParticipantSelect",options:e,id:Fl.name})}get selected(){throw new Error("<ParticipantSelect>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set selected(e){throw new Error("<ParticipantSelect>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get errors(){throw new Error("<ParticipantSelect>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set errors(e){throw new Error("<ParticipantSelect>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ye="src/lib/components/forge/OracleConfigPanel.svelte";function ia(n,e,t){const s=n.slice();return s[27]=e[t],s}function la(n,e,t){const s=n.slice();return s[27]=e[t],s}function oa(n,e,t){const s=n.slice();return s[32]=e[t],s}function aa(n,e,t){const s=n.slice();return s[27]=e[t],s}function ra(n,e,t){const s=n.slice();return s[37]=e[t],s}function ca(n,e,t){const s=n.slice();return s[37]=e[t],s}function ua(n,e,t){const s=n.slice();return s[42]=e[t],s}function Wl(n){let e,t,s,o;t=new Ue({props:{name:"alert-triangle",size:16},$$inline:!0});let i=Ke(n[2]),a=[];for(let c=0;c<i.length;c+=1)a[c]=Hl(ua(n,i,c));const l={c:function(){e=_("div"),Be(t.$$.fragment),s=D();for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l:function(u){e=g(u,"DIV",{class:!0,role:!0});var d=w(e);Ne(t.$$.fragment,d),s=P(d);for(let h=0;h<a.length;h+=1)a[h].l(d);d.forEach(v),this.h()},h:function(){f(e,"class","error-banner svelte-1ky0rb1"),f(e,"role","alert"),p(e,ye,165,4,4064)},m:function(u,d){Q(u,e,d),Me(t,e,null),r(e,s);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);o=!0},p:function(u,d){if(d[0]&4){i=Ke(u[2]);let h;for(h=0;h<i.length;h+=1){const m=ua(u,i,h);a[h]?a[h].p(m,d):(a[h]=Hl(m),a[h].c(),a[h].m(e,null))}for(;h<a.length;h+=1)a[h].d(1);a.length=i.length}},i:function(u){o||(K(t.$$.fragment,u),o=!0)},o:function(u){$(t.$$.fragment,u),o=!1},d:function(u){u&&v(e),Te(t),cn(a,u)}};return q("SvelteRegisterBlock",{block:l,id:Wl.name,type:"if",source:"(141:2) {#if errors.length > 0}",ctx:n}),l}function Hl(n){let e,t=n[42]+"",s;const o={c:function(){e=_("span"),s=F(t),this.h()},l:function(a){e=g(a,"SPAN",{});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){p(e,ye,168,8,4189)},m:function(a,l){Q(a,e,l),r(e,s)},p:function(a,l){l[0]&4&&t!==(t=a[42]+"")&&ie(s,t)},d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Hl.name,type:"each",source:"(144:6) {#each errors as error}",ctx:n}),o}function Ll(n){let e,t=n[37].name+"",s,o,i=n[37].type+"",a,l,c;const u={c:function(){e=_("option"),s=F(t),o=F(" ("),a=F(i),l=F(`)
            `),this.h()},l:function(h){e=g(h,"OPTION",{});var m=w(e);s=G(m,t),o=G(m," ("),a=G(m,i),l=G(m,`)
            `),m.forEach(v),this.h()},h:function(){e.__value=c=n[37].id,pn(e,e.__value),p(e,ye,194,12,5008)},m:function(h,m){Q(h,e,m),r(e,s),r(e,o),r(e,a),r(e,l)},p:function(h,m){m[0]&64&&t!==(t=h[37].name+"")&&ie(s,t),m[0]&64&&i!==(i=h[37].type+"")&&ie(a,i),m[0]&64&&c!==(c=h[37].id)&&(Gn(e,"__value",c),pn(e,e.__value))},d:function(h){h&&v(e)}};return q("SvelteRegisterBlock",{block:u,id:Ll.name,type:"each",source:"(170:10) {#each sortedOracles as oracle}",ctx:n}),u}function ql(n){let e,t,s="Temperature",o,i,a,l,c,u,d=n[3].toFixed(1)+"",h,m,b,k,y,S,C,E="Precise",I,V,T="Creative",R,M;const z={c:function(){e=_("div"),t=_("label"),t.textContent=s,o=D(),i=_("div"),a=_("input"),l=D(),c=_("div"),u=_("span"),h=F(d),m=D(),b=_("span"),k=F(n[5]),y=D(),S=_("div"),C=_("span"),C.textContent=E,I=D(),V=_("span"),V.textContent=T,this.h()},l:function(H){e=g(H,"DIV",{class:!0});var N=w(e);t=g(N,"LABEL",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-waxw41"&&(t.textContent=s),o=P(N),i=g(N,"DIV",{class:!0});var A=w(i);a=g(A,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),l=P(A),c=g(A,"DIV",{class:!0});var O=w(c);u=g(O,"SPAN",{class:!0});var L=w(u);h=G(L,d),L.forEach(v),m=P(O),b=g(O,"SPAN",{class:!0});var se=w(b);k=G(se,n[5]),se.forEach(v),O.forEach(v),A.forEach(v),y=P(N),S=g(N,"DIV",{class:!0});var x=w(S);C=g(x,"SPAN",{"data-svelte-h":!0}),Z(C)!=="svelte-170ef9t"&&(C.textContent=E),I=P(x),V=g(x,"SPAN",{"data-svelte-h":!0}),Z(V)!=="svelte-108qqx7"&&(V.textContent=T),x.forEach(v),N.forEach(v),this.h()},h:function(){f(t,"class","compact-label svelte-1ky0rb1"),p(t,ye,204,10,5352),f(a,"type","range"),f(a,"min","0"),f(a,"max","1"),f(a,"step","0.1"),a.value=n[3],f(a,"class","vertical-slider svelte-1ky0rb1"),p(a,ye,206,12,5457),f(u,"class","temp-value svelte-1ky0rb1"),p(u,ye,216,14,5801),f(b,"class","temp-label svelte-1ky0rb1"),p(b,ye,217,14,5878),f(c,"class","temperature-info svelte-1ky0rb1"),p(c,ye,215,12,5756),f(i,"class","temperature-control svelte-1ky0rb1"),p(i,ye,205,10,5411),p(C,ye,221,12,6015),p(V,ye,222,12,6048),f(S,"class","slider-labels svelte-1ky0rb1"),p(S,ye,220,10,5975),f(e,"class","compact-group svelte-1ky0rb1"),p(e,ye,203,8,5314)},m:function(H,N){Q(H,e,N),r(e,t),r(e,o),r(e,i),r(i,a),r(i,l),r(i,c),r(c,u),r(u,h),r(c,m),r(c,b),r(b,k),r(e,y),r(e,S),r(S,C),r(S,I),r(S,V),R||(M=De(a,"input",n[16],!1,!1,!1,!1),R=!0)},p:function(H,N){N[0]&8&&Gn(a,"value",H[3]),N[0]&8&&d!==(d=H[3].toFixed(1)+"")&&ie(h,d),N[0]&32&&ie(k,H[5])},d:function(H){H&&v(e),R=!1,M()}};return q("SvelteRegisterBlock",{block:z,id:ql.name,type:"if",source:"(179:6) {#if selectedOracle && (selectedOracle.type === 'llm' || selectedOracle.type === 'hybrid')}",ctx:n}),z}function Ul(n){let e,t,s,o,i,a=(n[0].estimatedCostPerRound?.toFixed(3)||"0.00")+"",l,c,u;t=new Ue({props:{name:"dollar-sign",size:14},$$inline:!0});const d={c:function(){e=_("div"),Be(t.$$.fragment),s=D(),o=_("span"),i=F("~$"),l=F(a),c=F("/round"),this.h()},l:function(m){e=g(m,"DIV",{class:!0});var b=w(e);Ne(t.$$.fragment,b),s=P(b),o=g(b,"SPAN",{});var k=w(o);i=G(k,"~$"),l=G(k,a),c=G(k,"/round"),k.forEach(v),b.forEach(v),this.h()},h:function(){p(o,ye,231,10,6264),f(e,"class","cost-display svelte-1ky0rb1"),p(e,ye,229,8,6179)},m:function(m,b){Q(m,e,b),Me(t,e,null),r(e,s),r(e,o),r(o,i),r(o,l),r(o,c),u=!0},p:function(m,b){(!u||b[0]&1)&&a!==(a=(m[0].estimatedCostPerRound?.toFixed(3)||"0.00")+"")&&ie(l,a)},i:function(m){u||(K(t.$$.fragment,m),u=!0)},o:function(m){$(t.$$.fragment,m),u=!1},d:function(m){m&&v(e),Te(t)}};return q("SvelteRegisterBlock",{block:d,id:Ul.name,type:"if",source:"(205:6) {#if selectedOracle}",ctx:n}),d}function Ql(n){let e,t,s,o,i=n[37].type+"",a,l,c,u,d;t=new Ue({props:{name:eo(n[37].type),size:14},$$inline:!0});function h(){return n[17](n[37])}const m={c:function(){e=_("button"),Be(t.$$.fragment),s=D(),o=_("span"),a=F(i),l=D(),this.h()},l:function(k){e=g(k,"BUTTON",{type:!0,class:!0,style:!0});var y=w(e);Ne(t.$$.fragment,y),s=P(y),o=g(y,"SPAN",{class:!0});var S=w(o);a=G(S,i),S.forEach(v),l=P(y),y.forEach(v),this.h()},h:function(){f(o,"class","chip-label"),p(o,ye,246,12,6855),f(e,"type","button"),f(e,"class","oracle-chip svelte-1ky0rb1"),mn(e,"--oracle-accent",to(n[37].type)),we(e,"selected",n[0]?.id===n[37].id),p(e,ye,238,10,6514)},m:function(k,y){Q(k,e,y),Me(t,e,null),r(e,s),r(e,o),r(o,a),r(e,l),c=!0,u||(d=De(e,"click",h,!1,!1,!1,!1),u=!0)},p:function(k,y){n=k;const S={};y[0]&64&&(S.name=eo(n[37].type)),t.$set(S),(!c||y[0]&64)&&i!==(i=n[37].type+"")&&ie(a,i),(!c||y[0]&64)&&mn(e,"--oracle-accent",to(n[37].type)),(!c||y[0]&65)&&we(e,"selected",n[0]?.id===n[37].id)},i:function(k){c||(K(t.$$.fragment,k),c=!0)},o:function(k){$(t.$$.fragment,k),c=!1},d:function(k){k&&v(e),Te(t),u=!1,d()}};return q("SvelteRegisterBlock",{block:m,id:Ql.name,type:"each",source:"(214:8) {#each sortedOracles as oracle}",ctx:n}),m}function Kl(n){let e,t=n[27]+"",s;const o={c:function(){e=_("option"),s=F(t),this.h()},l:function(a){e=g(a,"OPTION",{});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){e.__value=n[27],pn(e,e.__value),p(e,ye,268,12,7555)},m:function(a,l){Q(a,e,l),r(e,s)},p:$e,d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Kl.name,type:"each",source:"(244:10) {#each maxRoundsOptions as opt}",ctx:n}),o}function Jl(n){let e,t=n[32].label+"",s,o,i,a;function l(){return n[19](n[32])}const c={c:function(){e=_("button"),s=F(t),o=D(),this.h()},l:function(d){e=g(d,"BUTTON",{type:!0,class:!0});var h=w(e);s=G(h,t),o=P(h),h.forEach(v),this.h()},h:function(){f(e,"type","button"),f(e,"class","preset-btn svelte-1ky0rb1"),we(e,"active",n[1].convergenceThreshold===n[32].value),p(e,ye,278,12,7877)},m:function(d,h){Q(d,e,h),r(e,s),r(e,o),i||(a=De(e,"click",l,!1,!1,!1,!1),i=!0)},p:function(d,h){n=d,h[0]&130&&we(e,"active",n[1].convergenceThreshold===n[32].value)},d:function(d){d&&v(e),i=!1,a()}};return q("SvelteRegisterBlock",{block:c,id:Jl.name,type:"each",source:"(254:10) {#each convergencePresets as preset}",ctx:n}),c}function Yl(n){let e,t=n[27].label+"",s;const o={c:function(){e=_("option"),s=F(t),this.h()},l:function(a){e=g(a,"OPTION",{});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){e.__value=n[27].value,pn(e,e.__value),p(e,ye,299,12,8587)},m:function(a,l){Q(a,e,l),r(e,s)},p:$e,d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Yl.name,type:"each",source:"(275:10) {#each timeoutOptions as opt}",ctx:n}),o}function Xl(n){let e,t,s,o,i,a,l="Human Intervention",c,u,d,h="Auto-save",m,b,k,y,S,C,E,I=Ke(n[10]),V=[];for(let R=0;R<I.length;R+=1)V[R]=Zl(ia(n,I,R));const T={c:function(){e=_("div"),t=_("label"),s=_("input"),i=D(),a=_("span"),a.textContent=l,c=D(),u=_("div"),d=_("label"),d.textContent=h,m=D(),b=_("select");for(let M=0;M<V.length;M+=1)V[M].c();this.h()},l:function(M){e=g(M,"DIV",{class:!0});var z=w(e);t=g(z,"LABEL",{class:!0});var j=w(t);s=g(j,"INPUT",{type:!0,class:!0}),i=P(j),a=g(j,"SPAN",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-1sq08yp"&&(a.textContent=l),j.forEach(v),c=P(z),u=g(z,"DIV",{class:!0});var H=w(u);d=g(H,"LABEL",{class:!0,"data-svelte-h":!0}),Z(d)!=="svelte-11pg5ss"&&(d.textContent=h),m=P(H),b=g(H,"SELECT",{class:!0});var N=w(b);for(let A=0;A<V.length;A+=1)V[A].l(N);N.forEach(v),H.forEach(v),z.forEach(v),this.h()},h:function(){f(s,"type","checkbox"),s.checked=o=n[1].allowHumanIntervention,f(s,"class","svelte-1ky0rb1"),p(s,ye,319,12,9219),f(a,"class","checkbox-label svelte-1ky0rb1"),p(a,ye,324,12,9434),f(t,"class","checkbox-group svelte-1ky0rb1"),p(t,ye,318,10,9176),f(d,"class","compact-label svelte-1ky0rb1"),p(d,ye,329,12,9610),f(b,"class","compact-select small svelte-1ky0rb1"),p(b,ye,330,12,9669),f(u,"class","compact-group inline-group svelte-1ky0rb1"),p(u,ye,328,10,9557),f(e,"class","advanced-options svelte-1ky0rb1"),p(e,ye,316,8,9060)},m:function(M,z){Q(M,e,z),r(e,t),r(t,s),r(t,i),r(t,a),r(e,c),r(e,u),r(u,d),r(u,m),r(u,b);for(let j=0;j<V.length;j+=1)V[j]&&V[j].m(b,null);is(b,n[1].autoSaveInterval),S=!0,C||(E=[De(s,"change",n[22],!1,!1,!1,!1),De(b,"change",n[23],!1,!1,!1,!1)],C=!0)},p:function(M,z){if((!S||z[0]&258&&o!==(o=M[1].allowHumanIntervention))&&Gn(s,"checked",o),z[0]&1024){I=Ke(M[10]);let j;for(j=0;j<I.length;j+=1){const H=ia(M,I,j);V[j]?V[j].p(H,z):(V[j]=Zl(H),V[j].c(),V[j].m(b,null))}for(;j<V.length;j+=1)V[j].d(1);V.length=I.length}(!S||z[0]&258&&k!==(k=M[1].autoSaveInterval))&&is(b,M[1].autoSaveInterval)},i:function(M){S||(M&&cc(()=>{S&&(y||(y=qo(e,Ti,{duration:200},!0)),y.run(1))}),S=!0)},o:function(M){M&&(y||(y=qo(e,Ti,{duration:200},!1)),y.run(0)),S=!1},d:function(M){M&&v(e),cn(V,M),M&&y&&y.end(),C=!1,Cn(E)}};return q("SvelteRegisterBlock",{block:T,id:Xl.name,type:"if",source:"(292:6) {#if showAdvanced}",ctx:n}),T}function Zl(n){let e,t=n[27].label+"",s;const o={c:function(){e=_("option"),s=F(t),this.h()},l:function(a){e=g(a,"OPTION",{});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){e.__value=n[27].value,pn(e,e.__value),p(e,ye,336,16,9940)},m:function(a,l){Q(a,e,l),r(e,s)},p:$e,d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Zl.name,type:"each",source:"(312:14) {#each autoSaveOptions as opt}",ctx:n}),o}function $l(n){let e,t,s,o,i,a=n[0].name+"",l,c,u,d="",h,m,b,k=n[1].maxRounds+"",y,S,C,E,I="",V,T,R,M=Math.round(n[1].convergenceThreshold*100)+"",z,j,H,N,A="",O,L,se,x=n[1].timeoutMinutes+"",B,Y,J;s=new Ue({props:{name:"brain",size:14},$$inline:!0});const ee={c:function(){e=_("div"),t=_("div"),Be(s.$$.fragment),o=D(),i=_("span"),l=F(a),c=D(),u=_("div"),u.textContent=d,h=D(),m=_("div"),b=_("span"),y=F(k),S=F(" rounds"),C=D(),E=_("div"),E.textContent=I,V=D(),T=_("div"),R=_("span"),z=F(M),j=F("% threshold"),H=D(),N=_("div"),N.textContent=A,O=D(),L=_("div"),se=_("span"),B=F(x),Y=F("m timeout"),this.h()},l:function(X){e=g(X,"DIV",{class:!0});var ne=w(e);t=g(ne,"DIV",{class:!0});var ge=w(t);Ne(s.$$.fragment,ge),o=P(ge),i=g(ge,"SPAN",{});var de=w(i);l=G(de,a),de.forEach(v),ge.forEach(v),c=P(ne),u=g(ne,"DIV",{class:!0,"data-svelte-h":!0}),Z(u)!=="svelte-1tglz4p"&&(u.textContent=d),h=P(ne),m=g(ne,"DIV",{class:!0});var W=w(m);b=g(W,"SPAN",{});var te=w(b);y=G(te,k),S=G(te," rounds"),te.forEach(v),W.forEach(v),C=P(ne),E=g(ne,"DIV",{class:!0,"data-svelte-h":!0}),Z(E)!=="svelte-1tglz4p"&&(E.textContent=I),V=P(ne),T=g(ne,"DIV",{class:!0});var me=w(T);R=g(me,"SPAN",{});var he=w(R);z=G(he,M),j=G(he,"% threshold"),he.forEach(v),me.forEach(v),H=P(ne),N=g(ne,"DIV",{class:!0,"data-svelte-h":!0}),Z(N)!=="svelte-1tglz4p"&&(N.textContent=A),O=P(ne),L=g(ne,"DIV",{class:!0});var ve=w(L);se=g(ve,"SPAN",{});var pe=w(se);B=G(pe,x),Y=G(pe,"m timeout"),pe.forEach(v),ve.forEach(v),ne.forEach(v),this.h()},h:function(){p(i,ye,350,8,10269),f(t,"class","summary-item svelte-1ky0rb1"),p(t,ye,348,6,10194),f(u,"class","summary-divider svelte-1ky0rb1"),p(u,ye,352,6,10323),p(b,ye,354,8,10401),f(m,"class","summary-item svelte-1ky0rb1"),p(m,ye,353,6,10366),f(E,"class","summary-divider svelte-1ky0rb1"),p(E,ye,356,6,10459),p(R,ye,358,8,10537),f(T,"class","summary-item svelte-1ky0rb1"),p(T,ye,357,6,10502),f(N,"class","summary-divider svelte-1ky0rb1"),p(N,ye,360,6,10628),p(se,ye,362,8,10706),f(L,"class","summary-item svelte-1ky0rb1"),p(L,ye,361,6,10671),f(e,"class","summary-bar svelte-1ky0rb1"),p(e,ye,347,4,10162)},m:function(X,ne){Q(X,e,ne),r(e,t),Me(s,t,null),r(t,o),r(t,i),r(i,l),r(e,c),r(e,u),r(e,h),r(e,m),r(m,b),r(b,y),r(b,S),r(e,C),r(e,E),r(e,V),r(e,T),r(T,R),r(R,z),r(R,j),r(e,H),r(e,N),r(e,O),r(e,L),r(L,se),r(se,B),r(se,Y),J=!0},p:function(X,ne){(!J||ne[0]&1)&&a!==(a=X[0].name+"")&&ie(l,a),(!J||ne[0]&2)&&k!==(k=X[1].maxRounds+"")&&ie(y,k),(!J||ne[0]&2)&&M!==(M=Math.round(X[1].convergenceThreshold*100)+"")&&ie(z,M),(!J||ne[0]&2)&&x!==(x=X[1].timeoutMinutes+"")&&ie(B,x)},i:function(X){J||(K(s.$$.fragment,X),J=!0)},o:function(X){$(s.$$.fragment,X),J=!1},d:function(X){X&&v(e),Te(s)}};return q("SvelteRegisterBlock",{block:ee,id:$l.name,type:"if",source:"(323:2) {#if selectedOracle}",ctx:n}),ee}function xl(n){let e,t,s,o,i,a,l,c="Oracle & Session Configuration",u,d,h="Configure the AI orchestrator and session parameters",m,b,k,y,S,C,E,I,V="Oracle",T,R,M,z="Model",j,H,N,A="Select an oracle...",O,L,se,x,B,Y,J,ee,U,X,ne,ge="Session Parameters",de,W,te,me="Max Rounds",he,ve,pe,He,Pe,re,Se="Convergence",ue,Ae,st,ke,_e,ce="Timeout",Ce,tt,Ye,ht,Ee,be,Fe,xe,kt="Advanced Options",yt,mt,gt,Ct,ut;o=new Ue({props:{name:"sliders",size:18,glow:!0},$$inline:!0});let Le=n[2].length>0&&Wl(n);C=new Ue({props:{name:"brain",size:16,glow:!0},$$inline:!0});let ft=Ke(n[6]),qe=[];for(let We=0;We<ft.length;We+=1)qe[We]=Ll(ca(n,ft,We));let Xe=n[0]&&(n[0].type==="llm"||n[0].type==="hybrid")&&ql(n),Oe=n[0]&&Ul(n),Qe=Ke(n[6]),at=[];for(let We=0;We<Qe.length;We+=1)at[We]=Ql(ra(n,Qe,We));const Wt=We=>$(at[We],1,1,()=>{at[We]=null});U=new Ue({props:{name:"settings",size:16,glow:!0},$$inline:!0});let Je=Ke(n[8]),ze=[];for(let We=0;We<Je.length;We+=1)ze[We]=Kl(aa(n,Je,We));let _t=Ke(n[7]),rt=[];for(let We=0;We<_t.length;We+=1)rt[We]=Jl(oa(n,_t,We));let Bt=Ke(n[9]),it=[];for(let We=0;We<Bt.length;We+=1)it[We]=Yl(la(n,Bt,We));be=new Ue({props:{name:n[4]?"chevron-down":"chevron-right",size:14},$$inline:!0});let et=n[4]&&Xl(n),vt=n[0]&&$l(n);const xt={c:function(){e=_("div"),t=_("div"),s=_("div"),Be(o.$$.fragment),i=D(),a=_("div"),l=_("h2"),l.textContent=c,u=D(),d=_("p"),d.textContent=h,m=D(),Le&&Le.c(),b=D(),k=_("div"),y=_("div"),S=_("div"),Be(C.$$.fragment),E=D(),I=_("span"),I.textContent=V,T=D(),R=_("div"),M=_("label"),M.textContent=z,j=D(),H=_("select"),N=_("option"),N.textContent=A;for(let fe=0;fe<qe.length;fe+=1)qe[fe].c();L=D(),Xe&&Xe.c(),se=D(),Oe&&Oe.c(),x=D(),B=_("div");for(let fe=0;fe<at.length;fe+=1)at[fe].c();Y=D(),J=_("div"),ee=_("div"),Be(U.$$.fragment),X=D(),ne=_("span"),ne.textContent=ge,de=D(),W=_("div"),te=_("label"),te.textContent=me,he=D(),ve=_("select");for(let fe=0;fe<ze.length;fe+=1)ze[fe].c();He=D(),Pe=_("div"),re=_("label"),re.textContent=Se,ue=D(),Ae=_("div");for(let fe=0;fe<rt.length;fe+=1)rt[fe].c();st=D(),ke=_("div"),_e=_("label"),_e.textContent=ce,Ce=D(),tt=_("select");for(let fe=0;fe<it.length;fe+=1)it[fe].c();ht=D(),Ee=_("button"),Be(be.$$.fragment),Fe=D(),xe=_("span"),xe.textContent=kt,yt=D(),et&&et.c(),mt=D(),vt&&vt.c(),this.h()},l:function(fe){e=g(fe,"DIV",{class:!0,"data-testid":!0});var Re=w(e);t=g(Re,"DIV",{class:!0});var Ge=w(t);s=g(Ge,"DIV",{class:!0});var ae=w(s);Ne(o.$$.fragment,ae),ae.forEach(v),i=P(Ge),a=g(Ge,"DIV",{class:!0});var nt=w(a);l=g(nt,"H2",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-cim1bw"&&(l.textContent=c),u=P(nt),d=g(nt,"P",{class:!0,"data-svelte-h":!0}),Z(d)!=="svelte-3uxn9c"&&(d.textContent=h),nt.forEach(v),Ge.forEach(v),m=P(Re),Le&&Le.l(Re),b=P(Re),k=g(Re,"DIV",{class:!0});var Rt=w(k);y=g(Rt,"DIV",{class:!0});var zt=w(y);S=g(zt,"DIV",{class:!0});var on=w(S);Ne(C.$$.fragment,on),E=P(on),I=g(on,"SPAN",{"data-svelte-h":!0}),Z(I)!=="svelte-1w9qgvc"&&(I.textContent=V),on.forEach(v),T=P(zt),R=g(zt,"DIV",{class:!0});var Vt=w(R);M=g(Vt,"LABEL",{class:!0,"data-svelte-h":!0}),Z(M)!=="svelte-ellq4q"&&(M.textContent=z),j=P(Vt),H=g(Vt,"SELECT",{class:!0});var Dt=w(H);N=g(Dt,"OPTION",{"data-svelte-h":!0}),Z(N)!=="svelte-pu11o3"&&(N.textContent=A);for(let Ze=0;Ze<qe.length;Ze+=1)qe[Ze].l(Dt);Dt.forEach(v),Vt.forEach(v),L=P(zt),Xe&&Xe.l(zt),se=P(zt),Oe&&Oe.l(zt),x=P(zt),B=g(zt,"DIV",{class:!0});var Yn=w(B);for(let Ze=0;Ze<at.length;Ze+=1)at[Ze].l(Yn);Yn.forEach(v),zt.forEach(v),Y=P(Rt),J=g(Rt,"DIV",{class:!0});var Gt=w(J);ee=g(Gt,"DIV",{class:!0});var Et=w(ee);Ne(U.$$.fragment,Et),X=P(Et),ne=g(Et,"SPAN",{"data-svelte-h":!0}),Z(ne)!=="svelte-ui8uje"&&(ne.textContent=ge),Et.forEach(v),de=P(Gt),W=g(Gt,"DIV",{class:!0});var gn=w(W);te=g(gn,"LABEL",{class:!0,"data-svelte-h":!0}),Z(te)!=="svelte-r0j276"&&(te.textContent=me),he=P(gn),ve=g(gn,"SELECT",{class:!0});var wn=w(ve);for(let Ze=0;Ze<ze.length;Ze+=1)ze[Ze].l(wn);wn.forEach(v),gn.forEach(v),He=P(Gt),Pe=g(Gt,"DIV",{class:!0});var Ht=w(Pe);re=g(Ht,"LABEL",{class:!0,"data-svelte-h":!0}),Z(re)!=="svelte-1yci98e"&&(re.textContent=Se),ue=P(Ht),Ae=g(Ht,"DIV",{class:!0});var Hn=w(Ae);for(let Ze=0;Ze<rt.length;Ze+=1)rt[Ze].l(Hn);Hn.forEach(v),Ht.forEach(v),st=P(Gt),ke=g(Gt,"DIV",{class:!0});var Qt=w(ke);_e=g(Qt,"LABEL",{class:!0,"data-svelte-h":!0}),Z(_e)!=="svelte-d73llc"&&(_e.textContent=ce),Ce=P(Qt),tt=g(Qt,"SELECT",{class:!0});var At=w(tt);for(let Ze=0;Ze<it.length;Ze+=1)it[Ze].l(At);At.forEach(v),Qt.forEach(v),ht=P(Gt),Ee=g(Gt,"BUTTON",{type:!0,class:!0,"aria-expanded":!0});var wt=w(Ee);Ne(be.$$.fragment,wt),Fe=P(wt),xe=g(wt,"SPAN",{"data-svelte-h":!0}),Z(xe)!=="svelte-1sd8g1q"&&(xe.textContent=kt),wt.forEach(v),yt=P(Gt),et&&et.l(Gt),Gt.forEach(v),Rt.forEach(v),mt=P(Re),vt&&vt.l(Re),Re.forEach(v),this.h()},h:function(){f(s,"class","header-icon svelte-1ky0rb1"),p(s,ye,155,4,3789),f(l,"class","svelte-1ky0rb1"),p(l,ye,159,6,3907),f(d,"class","svelte-1ky0rb1"),p(d,ye,160,6,3953),f(a,"class","header-text svelte-1ky0rb1"),p(a,ye,158,4,3875),f(t,"class","panel-header svelte-1ky0rb1"),p(t,ye,154,2,3758),p(I,ye,178,8,4448),f(S,"class","section-header svelte-1ky0rb1"),p(S,ye,176,6,4366),f(M,"class","compact-label svelte-1ky0rb1"),p(M,ye,183,8,4565),N.__value="",pn(N,N.__value),N.disabled=!0,p(N,ye,192,10,4899),f(H,"class","compact-select svelte-1ky0rb1"),p(H,ye,184,8,4616),f(R,"class","compact-group svelte-1ky0rb1"),p(R,ye,182,6,4529),f(B,"class","oracle-types svelte-1ky0rb1"),p(B,ye,236,6,6437),f(y,"class","column oracle-column svelte-1ky0rb1"),p(y,ye,175,4,4325),p(ne,ye,256,8,7138),f(ee,"class","section-header svelte-1ky0rb1"),p(ee,ye,254,6,7053),f(te,"class","compact-label svelte-1ky0rb1"),p(te,ye,261,8,7265),f(ve,"class","compact-select small svelte-1ky0rb1"),p(ve,ye,262,8,7321),f(W,"class","compact-group inline-group svelte-1ky0rb1"),p(W,ye,260,6,7216),f(re,"class","compact-label svelte-1ky0rb1"),p(re,ye,275,8,7732),f(Ae,"class","preset-buttons svelte-1ky0rb1"),p(Ae,ye,276,8,7789),f(Pe,"class","compact-group svelte-1ky0rb1"),p(Pe,ye,274,6,7696),f(_e,"class","compact-label svelte-1ky0rb1"),p(_e,ye,292,8,8292),f(tt,"class","compact-select small svelte-1ky0rb1"),p(tt,ye,293,8,8345),f(ke,"class","compact-group inline-group svelte-1ky0rb1"),p(ke,ye,291,6,8243),p(xe,ye,312,8,8980),f(Ee,"type","button"),f(Ee,"class","advanced-toggle svelte-1ky0rb1"),f(Ee,"aria-expanded",n[4]),p(Ee,ye,305,6,8729),f(J,"class","column config-column svelte-1ky0rb1"),p(J,ye,253,4,7012),f(k,"class","two-column-layout svelte-1ky0rb1"),p(k,ye,173,2,4246),f(e,"class","oracle-config-panel svelte-1ky0rb1"),f(e,"data-testid","oracle-config-panel"),p(e,ye,153,0,3688)},m:function(fe,Re){Q(fe,e,Re),r(e,t),r(t,s),Me(o,s,null),r(t,i),r(t,a),r(a,l),r(a,u),r(a,d),r(e,m),Le&&Le.m(e,null),r(e,b),r(e,k),r(k,y),r(y,S),Me(C,S,null),r(S,E),r(S,I),r(y,T),r(y,R),r(R,M),r(R,j),r(R,H),r(H,N);for(let Ge=0;Ge<qe.length;Ge+=1)qe[Ge]&&qe[Ge].m(H,null);is(H,n[0]?.id||""),r(y,L),Xe&&Xe.m(y,null),r(y,se),Oe&&Oe.m(y,null),r(y,x),r(y,B);for(let Ge=0;Ge<at.length;Ge+=1)at[Ge]&&at[Ge].m(B,null);r(k,Y),r(k,J),r(J,ee),Me(U,ee,null),r(ee,X),r(ee,ne),r(J,de),r(J,W),r(W,te),r(W,he),r(W,ve);for(let Ge=0;Ge<ze.length;Ge+=1)ze[Ge]&&ze[Ge].m(ve,null);is(ve,n[1].maxRounds),r(J,He),r(J,Pe),r(Pe,re),r(Pe,ue),r(Pe,Ae);for(let Ge=0;Ge<rt.length;Ge+=1)rt[Ge]&&rt[Ge].m(Ae,null);r(J,st),r(J,ke),r(ke,_e),r(ke,Ce),r(ke,tt);for(let Ge=0;Ge<it.length;Ge+=1)it[Ge]&&it[Ge].m(tt,null);is(tt,n[1].timeoutMinutes),r(J,ht),r(J,Ee),Me(be,Ee,null),r(Ee,Fe),r(Ee,xe),r(J,yt),et&&et.m(J,null),r(e,mt),vt&&vt.m(e,null),gt=!0,Ct||(ut=[De(H,"change",n[15],!1,!1,!1,!1),De(ve,"change",n[18],!1,!1,!1,!1),De(tt,"change",n[20],!1,!1,!1,!1),De(Ee,"click",n[21],!1,!1,!1,!1)],Ct=!0)},p:function(fe,Re){if(fe[2].length>0?Le?(Le.p(fe,Re),Re[0]&4&&K(Le,1)):(Le=Wl(fe),Le.c(),K(Le,1),Le.m(e,b)):Le&&(lt(),$(Le,1,1,()=>{Le=null}),ot()),Re[0]&64){ft=Ke(fe[6]);let ae;for(ae=0;ae<ft.length;ae+=1){const nt=ca(fe,ft,ae);qe[ae]?qe[ae].p(nt,Re):(qe[ae]=Ll(nt),qe[ae].c(),qe[ae].m(H,null))}for(;ae<qe.length;ae+=1)qe[ae].d(1);qe.length=ft.length}if((!gt||Re[0]&65&&O!==(O=fe[0]?.id||""))&&is(H,fe[0]?.id||""),fe[0]&&(fe[0].type==="llm"||fe[0].type==="hybrid")?Xe?Xe.p(fe,Re):(Xe=ql(fe),Xe.c(),Xe.m(y,se)):Xe&&(Xe.d(1),Xe=null),fe[0]?Oe?(Oe.p(fe,Re),Re[0]&1&&K(Oe,1)):(Oe=Ul(fe),Oe.c(),K(Oe,1),Oe.m(y,x)):Oe&&(lt(),$(Oe,1,1,()=>{Oe=null}),ot()),Re[0]&2113){Qe=Ke(fe[6]);let ae;for(ae=0;ae<Qe.length;ae+=1){const nt=ra(fe,Qe,ae);at[ae]?(at[ae].p(nt,Re),K(at[ae],1)):(at[ae]=Ql(nt),at[ae].c(),K(at[ae],1),at[ae].m(B,null))}for(lt(),ae=Qe.length;ae<at.length;ae+=1)Wt(ae);ot()}if(Re[0]&256){Je=Ke(fe[8]);let ae;for(ae=0;ae<Je.length;ae+=1){const nt=aa(fe,Je,ae);ze[ae]?ze[ae].p(nt,Re):(ze[ae]=Kl(nt),ze[ae].c(),ze[ae].m(ve,null))}for(;ae<ze.length;ae+=1)ze[ae].d(1);ze.length=Je.length}if((!gt||Re[0]&258&&pe!==(pe=fe[1].maxRounds))&&is(ve,fe[1].maxRounds),Re[0]&8322){_t=Ke(fe[7]);let ae;for(ae=0;ae<_t.length;ae+=1){const nt=oa(fe,_t,ae);rt[ae]?rt[ae].p(nt,Re):(rt[ae]=Jl(nt),rt[ae].c(),rt[ae].m(Ae,null))}for(;ae<rt.length;ae+=1)rt[ae].d(1);rt.length=_t.length}if(Re[0]&512){Bt=Ke(fe[9]);let ae;for(ae=0;ae<Bt.length;ae+=1){const nt=la(fe,Bt,ae);it[ae]?it[ae].p(nt,Re):(it[ae]=Yl(nt),it[ae].c(),it[ae].m(tt,null))}for(;ae<it.length;ae+=1)it[ae].d(1);it.length=Bt.length}(!gt||Re[0]&258&&Ye!==(Ye=fe[1].timeoutMinutes))&&is(tt,fe[1].timeoutMinutes);const Ge={};Re[0]&16&&(Ge.name=fe[4]?"chevron-down":"chevron-right"),be.$set(Ge),(!gt||Re[0]&16)&&f(Ee,"aria-expanded",fe[4]),fe[4]?et?(et.p(fe,Re),Re[0]&16&&K(et,1)):(et=Xl(fe),et.c(),K(et,1),et.m(J,null)):et&&(lt(),$(et,1,1,()=>{et=null}),ot()),fe[0]?vt?(vt.p(fe,Re),Re[0]&1&&K(vt,1)):(vt=$l(fe),vt.c(),K(vt,1),vt.m(e,null)):vt&&(lt(),$(vt,1,1,()=>{vt=null}),ot())},i:function(fe){if(!gt){K(o.$$.fragment,fe),K(Le),K(C.$$.fragment,fe),K(Oe);for(let Re=0;Re<Qe.length;Re+=1)K(at[Re]);K(U.$$.fragment,fe),K(be.$$.fragment,fe),K(et),K(vt),gt=!0}},o:function(fe){$(o.$$.fragment,fe),$(Le),$(C.$$.fragment,fe),$(Oe),at=at.filter(Boolean);for(let Re=0;Re<at.length;Re+=1)$(at[Re]);$(U.$$.fragment,fe),$(be.$$.fragment,fe),$(et),$(vt),gt=!1},d:function(fe){fe&&v(e),Te(o),Le&&Le.d(),Te(C),cn(qe,fe),Xe&&Xe.d(),Oe&&Oe.d(),cn(at,fe),Te(U),cn(ze,fe),cn(rt,fe),cn(it,fe),Te(be),et&&et.d(),vt&&vt.d(),Ct=!1,Cn(ut)}};return q("SvelteRegisterBlock",{block:xt,id:xl.name,type:"component",source:"",ctx:n}),xt}function eo(n){switch(n){case"llm":return"brain";case"consensus":return"check-circle";case"hybrid":return"refresh-cw";default:return"cpu"}}function to(n){switch(n){case"llm":return"rgba(88, 166, 255, 0.9)";case"consensus":return"rgba(63, 185, 80, 0.9)";case"hybrid":return"rgba(78, 205, 196, 0.9)";default:return"rgba(139, 92, 246, 0.9)"}}function Hc(n,e,t){let s,o,{$$slots:i={},$$scope:a}=e;$t("OracleConfigPanel",i,[]);let{selectedOracle:l=null}=e,{participants:c=[]}=e,{config:u}=e,{errors:d=[]}=e;const h=Yt();let m=!1;const b=[{id:"consensus-oracle-1",name:"Consensus Oracle",type:"consensus",config:{threshold:.8,method:"weighted_voting"},estimatedCostPerRound:.005},{id:"gpt4-oracle-1",name:"LLM Oracle (Analyst)",type:"llm",config:{model:"gpt-4",temperature:.3},estimatedCostPerRound:.02},{id:"claude-oracle-1",name:"LLM Oracle (Architect)",type:"llm",config:{model:"claude-3-sonnet",temperature:.2},estimatedCostPerRound:.015},{id:"hybrid-oracle-1",name:"Hybrid Oracle",type:"hybrid",config:{llm_weight:.6,consensus_weight:.4},estimatedCostPerRound:.012}];let k=.3;const y=[{value:.7,label:"70%"},{value:.8,label:"80%"},{value:.9,label:"90%"}],S=[3,5,7,10,15,20],C=[{value:15,label:"15 min"},{value:30,label:"30 min"},{value:60,label:"1 hr"},{value:120,label:"2 hr"},{value:240,label:"4 hr"},{value:480,label:"8 hr"}],E=[{value:15e3,label:"15s"},{value:3e4,label:"30s"},{value:6e4,label:"1m"},{value:3e5,label:"5m"},{value:0,label:"Off"}];function I(B){t(0,l=B),B.config.temperature!==void 0&&t(3,k=B.config.temperature),h("oracleChange",B)}function V(B){if(t(3,k=B),l){const Y={...l,config:{...l.config,temperature:B}};t(0,l=Y),h("oracleChange",Y)}}function T(B,Y){const J={...u,[B]:Y};t(1,u=J),h("configChange",J)}function R(B){const Y=c.filter(ee=>ee.type==="ai").length,J=c.filter(ee=>ee.type==="human").length;switch(B.type){case"consensus":return Math.min(.9,.6+c.length*.05);case"llm":return Math.min(.95,.7+Y*.1);case"hybrid":return Math.min(.9,.8+Math.min(Y,J)*.05);default:return .5}}n.$$.on_mount.push(function(){u===void 0&&("config"in e||n.$$.bound[n.$$.props.config])});const M=["selectedOracle","participants","config","errors"];Object.keys(e).forEach(B=>{!~M.indexOf(B)&&B.slice(0,2)});const z=B=>{const Y=s.find(J=>J.id===B.currentTarget.value);Y&&I(Y)},j=B=>V(parseFloat(B.currentTarget.value)),H=B=>I(B),N=B=>T("maxRounds",parseInt(B.currentTarget.value)),A=B=>T("convergenceThreshold",B.value),O=B=>T("timeoutMinutes",parseInt(B.currentTarget.value)),L=()=>t(4,m=!m),se=B=>T("allowHumanIntervention",B.currentTarget.checked),x=B=>T("autoSaveInterval",parseInt(B.currentTarget.value));return n.$$set=B=>{"selectedOracle"in B&&t(0,l=B.selectedOracle),"participants"in B&&t(14,c=B.participants),"config"in B&&t(1,u=B.config),"errors"in B&&t(2,d=B.errors)},n.$capture_state=()=>({createEventDispatcher:Yt,slide:Ti,Icon:Ue,selectedOracle:l,participants:c,config:u,errors:d,dispatch:h,showAdvanced:m,availableOracles:b,oracleTemperature:k,convergencePresets:y,maxRoundsOptions:S,timeoutOptions:C,autoSaveOptions:E,handleOracleSelect:I,handleTemperatureChange:V,updateConfig:T,getCompatibilityScore:R,getOracleIcon:eo,getOracleAccent:to,temperatureLabel:o,sortedOracles:s}),n.$inject_state=B=>{"selectedOracle"in B&&t(0,l=B.selectedOracle),"participants"in B&&t(14,c=B.participants),"config"in B&&t(1,u=B.config),"errors"in B&&t(2,d=B.errors),"showAdvanced"in B&&t(4,m=B.showAdvanced),"oracleTemperature"in B&&t(3,k=B.oracleTemperature),"temperatureLabel"in B&&t(5,o=B.temperatureLabel),"sortedOracles"in B&&t(6,s=B.sortedOracles)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty[0]&8&&t(5,o=k<=.3?"Precise":k>=.7?"Creative":"Balanced")},t(6,s=b.map(B=>({...B,compatibility:R(B)})).sort((B,Y)=>Y.compatibility-B.compatibility)),[l,u,d,k,m,o,s,y,S,C,E,I,V,T,c,z,j,H,N,A,O,L,se,x]}class Fr extends Xt{constructor(e){super(e),Zt(this,e,Hc,xl,Kt,{selectedOracle:0,participants:14,config:1,errors:2},null,[-1,-1]),q("SvelteRegisterComponent",{component:this,tagName:"OracleConfigPanel",options:e,id:xl.name})}get selectedOracle(){throw new Error("<OracleConfigPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set selectedOracle(e){throw new Error("<OracleConfigPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get participants(){throw new Error("<OracleConfigPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set participants(e){throw new Error("<OracleConfigPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get config(){throw new Error("<OracleConfigPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set config(e){throw new Error("<OracleConfigPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get errors(){throw new Error("<OracleConfigPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set errors(e){throw new Error("<OracleConfigPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Object:Lc}=_o,oe="src/lib/components/forge/SessionReview.svelte";function fa(n,e,t){const s=n.slice();s[9]=e[t];const o=Qr(s[9].avatar);return s[10]=o,s}function da(n,e,t){const s=n.slice();return s[13]=e[t],s}function no(n){let e,t,s,o,i,a="Issues Found",l,c,u="Please resolve the following issues before starting your session:",d,h,m;s=new Ue({props:{name:"alert-triangle",size:20},$$inline:!0});let b=Ke(n[3]),k=[];for(let S=0;S<b.length;S+=1)k[S]=so(da(n,b,S));const y={c:function(){e=_("div"),t=_("div"),Be(s.$$.fragment),o=D(),i=_("h3"),i.textContent=a,l=D(),c=_("p"),c.textContent=u,d=D(),h=_("ul");for(let C=0;C<k.length;C+=1)k[C].c();this.h()},l:function(C){e=g(C,"DIV",{class:!0,role:!0});var E=w(e);t=g(E,"DIV",{class:!0});var I=w(t);Ne(s.$$.fragment,I),o=P(I),i=g(I,"H3",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-1ocv15g"&&(i.textContent=a),I.forEach(v),l=P(E),c=g(E,"P",{class:!0,"data-svelte-h":!0}),Z(c)!=="svelte-s43dsc"&&(c.textContent=u),d=P(E),h=g(E,"UL",{class:!0});var V=w(h);for(let T=0;T<k.length;T+=1)k[T].l(V);V.forEach(v),E.forEach(v),this.h()},h:function(){f(i,"class","svelte-1p7vh86"),p(i,oe,45,8,1232),f(t,"class","error-header svelte-1p7vh86"),p(t,oe,43,6,1148),f(c,"class","svelte-1p7vh86"),p(c,oe,47,6,1273),f(h,"class","error-list svelte-1p7vh86"),p(h,oe,48,6,1352),f(e,"class","error-summary svelte-1p7vh86"),f(e,"role","alert"),p(e,oe,42,4,1101)},m:function(C,E){Q(C,e,E),r(e,t),Me(s,t,null),r(t,o),r(t,i),r(e,l),r(e,c),r(e,d),r(e,h);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(h,null);m=!0},p:function(C,E){if(E&8){b=Ke(C[3]);let I;for(I=0;I<b.length;I+=1){const V=da(C,b,I);k[I]?k[I].p(V,E):(k[I]=so(V),k[I].c(),k[I].m(h,null))}for(;I<k.length;I+=1)k[I].d(1);k.length=b.length}},i:function(C){m||(K(s.$$.fragment,C),m=!0)},o:function(C){$(s.$$.fragment,C),m=!1},d:function(C){C&&v(e),Te(s),cn(k,C)}};return q("SvelteRegisterBlock",{block:y,id:no.name,type:"if",source:"(35:2) {#if hasErrors}",ctx:n}),y}function so(n){let e,t=n[13]+"",s;const o={c:function(){e=_("li"),s=F(t),this.h()},l:function(a){e=g(a,"LI",{class:!0});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){f(e,"class","svelte-1p7vh86"),p(e,oe,50,10,1421)},m:function(a,l){Q(a,e,l),r(e,s)},p:function(a,l){l&8&&t!==(t=a[13]+"")&&ie(s,t)},d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:so.name,type:"each",source:"(43:8) {#each allErrors as error}",ctx:n}),o}function Wr(n){let e,t=n[9].name.charAt(0).toUpperCase()+"",s;const o={c:function(){e=_("span"),s=F(t),this.h()},l:function(a){e=g(a,"SPAN",{class:!0});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){f(e,"class","avatar-letter svelte-1p7vh86"),p(e,oe,102,18,3233)},m:function(a,l){Q(a,e,l),r(e,s)},p:function(a,l){l&1&&t!==(t=a[9].name.charAt(0).toUpperCase()+"")&&ie(s,t)},d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Wr.name,type:"else",source:"(95:16) {:else}",ctx:n}),o}function Hr(n){let e,t=n[10].emoji+"",s;const o={c:function(){e=_("span"),s=F(t),this.h()},l:function(a){e=g(a,"SPAN",{class:!0});var l=w(e);s=G(l,t),l.forEach(v),this.h()},h:function(){f(e,"class","avatar-emoji svelte-1p7vh86"),p(e,oe,100,18,3142)},m:function(a,l){Q(a,e,l),r(e,s)},p:function(a,l){l&1&&t!==(t=a[10].emoji+"")&&ie(s,t)},d:function(a){a&&v(e)}};return q("SvelteRegisterBlock",{block:o,id:Hr.name,type:"if",source:"(93:39) ",ctx:n}),o}function Lr(n){let e,t,s,o;function i(){return n[8](n[9])}const a={c:function(){e=_("img"),this.h()},l:function(c){e=g(c,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){On(e.src,t=n[10].src)||f(e,"src",t),f(e,"alt",""),f(e,"class","svelte-1p7vh86"),p(e,oe,94,18,2924)},m:function(c,u){Q(c,e,u),s||(o=De(e,"error",i,!1,!1,!1,!1),s=!0)},p:function(c,u){n=c,u&1&&!On(e.src,t=n[10].src)&&f(e,"src",t)},d:function(c){c&&v(e),s=!1,o()}};return q("SvelteRegisterBlock",{block:a,id:Lr.name,type:"if",source:"(87:16) {#if avatar.src && !brokenAvatarIds.has(participant.id)}",ctx:n}),a}function io(n){let e,t,s=n[9].estimatedCostPerRound.toFixed(4)+"",o,i;const a={c:function(){e=_("span"),t=F("$"),o=F(s),i=F("/round"),this.h()},l:function(c){e=g(c,"SPAN",{class:!0});var u=w(e);t=G(u,"$"),o=G(u,s),i=G(u,"/round"),u.forEach(v),this.h()},h:function(){f(e,"class","cost-badge svelte-1p7vh86"),p(e,oe,113,20,3826)},m:function(c,u){Q(c,e,u),r(e,t),r(e,o),r(e,i)},p:function(c,u){u&1&&s!==(s=c[9].estimatedCostPerRound.toFixed(4)+"")&&ie(o,s)},d:function(c){c&&v(e)}};return q("SvelteRegisterBlock",{block:a,id:io.name,type:"if",source:"(106:18) {#if participant.estimatedCostPerRound}",ctx:n}),a}function lo(n){let e,t,s,o,i,a,l=n[9].name+"",c,u,d,h=n[9].role+"",m,b,k,y,S=n[9].type.toUpperCase()+"",C,E,I,V;function T(H,N){return N&5&&(s=null),s==null&&(s=!!(H[10].src&&!H[2].has(H[9].id))),s?Lr:H[10].emoji?Hr:Wr}let R=T(n,-1),M=R(n),z=n[9].estimatedCostPerRound&&io(n);const j={c:function(){e=_("div"),t=_("div"),M.c(),o=D(),i=_("div"),a=_("div"),c=F(l),u=D(),d=_("div"),m=F(h),b=D(),k=_("div"),y=_("span"),C=F(S),E=D(),z&&z.c(),I=D(),this.h()},l:function(N){e=g(N,"DIV",{class:!0,"data-testid":!0});var A=w(e);t=g(A,"DIV",{class:!0});var O=w(t);M.l(O),O.forEach(v),o=P(A),i=g(A,"DIV",{class:!0});var L=w(i);a=g(L,"DIV",{class:!0});var se=w(a);c=G(se,l),se.forEach(v),u=P(L),d=g(L,"DIV",{class:!0});var x=w(d);m=G(x,h),x.forEach(v),b=P(L),k=g(L,"DIV",{class:!0});var B=w(k);y=g(B,"SPAN",{class:!0});var Y=w(y);C=G(Y,S),Y.forEach(v),E=P(B),z&&z.l(B),B.forEach(v),L.forEach(v),I=P(A),A.forEach(v),this.h()},h:function(){f(t,"class","participant-avatar svelte-1p7vh86"),we(t,"ai",n[9].type==="ai"),p(t,oe,92,14,2763),f(a,"class","participant-name svelte-1p7vh86"),p(a,oe,106,16,3415),f(d,"class","participant-role svelte-1p7vh86"),p(d,oe,107,16,3486),f(y,"class","type-badge svelte-1p7vh86"),we(y,"ai",n[9].type==="ai"),p(y,oe,109,18,3606),f(k,"class","participant-meta svelte-1p7vh86"),p(k,oe,108,16,3557),f(i,"class","participant-info svelte-1p7vh86"),p(i,oe,105,14,3368),f(e,"class","participant-card svelte-1p7vh86"),f(e,"data-testid",V="participant-"+n[9].id),p(e,oe,91,12,2675)},m:function(N,A){Q(N,e,A),r(e,t),M.m(t,null),r(e,o),r(e,i),r(i,a),r(a,c),r(i,u),r(i,d),r(d,m),r(i,b),r(i,k),r(k,y),r(y,C),r(k,E),z&&z.m(k,null),r(e,I)},p:function(N,A){R===(R=T(N,A))&&M?M.p(N,A):(M.d(1),M=R(N),M&&(M.c(),M.m(t,null))),A&1&&we(t,"ai",N[9].type==="ai"),A&1&&l!==(l=N[9].name+"")&&ie(c,l),A&1&&h!==(h=N[9].role+"")&&ie(m,h),A&1&&S!==(S=N[9].type.toUpperCase()+"")&&ie(C,S),A&1&&we(y,"ai",N[9].type==="ai"),N[9].estimatedCostPerRound?z?z.p(N,A):(z=io(N),z.c(),z.m(k,null)):z&&(z.d(1),z=null),A&1&&V!==(V="participant-"+N[9].id)&&f(e,"data-testid",V)},d:function(N){N&&v(e),M.d(),z&&z.d()}};return q("SvelteRegisterBlock",{block:j,id:lo.name,type:"each",source:"(83:10) {#each draft.participants as participant}",ctx:n}),j}function qr(n){let e,t="No oracle selected";const s={c:function(){e=_("div"),e.textContent=t,this.h()},l:function(i){e=g(i,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-8q5abq"&&(e.textContent=t),this.h()},h:function(){f(e,"class","empty-state svelte-1p7vh86"),p(e,oe,149,10,5135)},m:function(i,a){Q(i,e,a)},p:$e,d:function(i){i&&v(e)}};return q("SvelteRegisterBlock",{block:s,id:qr.name,type:"else",source:"(142:8) {:else}",ctx:n}),s}function Ur(n){let e,t,s,o=n[0].oracle.name+"",i,a,l,c=n[0].oracle.type+"",u,d,h,m=n[0].oracle.config&&Object.keys(n[0].oracle.config).length>0,b=n[0].oracle.estimatedCostPerRound&&oo(n),k=m&&ao(n);const y={c:function(){e=_("div"),t=_("div"),s=_("div"),i=F(o),a=D(),l=_("div"),u=F(c),d=D(),b&&b.c(),h=D(),k&&k.c(),this.h()},l:function(C){e=g(C,"DIV",{class:!0});var E=w(e);t=g(E,"DIV",{class:!0});var I=w(t);s=g(I,"DIV",{class:!0});var V=w(s);i=G(V,o),V.forEach(v),a=P(I),l=g(I,"DIV",{class:!0});var T=w(l);u=G(T,c),T.forEach(v),d=P(I),b&&b.l(I),I.forEach(v),h=P(E),k&&k.l(E),E.forEach(v),this.h()},h:function(){f(s,"class","oracle-name svelte-1p7vh86"),p(s,oe,135,14,4441),f(l,"class","oracle-type svelte-1p7vh86"),p(l,oe,136,14,4506),f(t,"class","oracle-main svelte-1p7vh86"),p(t,oe,134,12,4401),f(e,"class","oracle-card svelte-1p7vh86"),p(e,oe,133,10,4363)},m:function(C,E){Q(C,e,E),r(e,t),r(t,s),r(s,i),r(t,a),r(t,l),r(l,u),r(t,d),b&&b.m(t,null),r(e,h),k&&k.m(e,null)},p:function(C,E){E&1&&o!==(o=C[0].oracle.name+"")&&ie(i,o),E&1&&c!==(c=C[0].oracle.type+"")&&ie(u,c),C[0].oracle.estimatedCostPerRound?b?b.p(C,E):(b=oo(C),b.c(),b.m(t,null)):b&&(b.d(1),b=null),E&1&&(m=C[0].oracle.config&&Object.keys(C[0].oracle.config).length>0),m?k?k.p(C,E):(k=ao(C),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},d:function(C){C&&v(e),b&&b.d(),k&&k.d()}};return q("SvelteRegisterBlock",{block:y,id:Ur.name,type:"if",source:"(126:8) {#if draft.oracle}",ctx:n}),y}function oo(n){let e,t,s=n[0].oracle.estimatedCostPerRound.toFixed(4)+"",o,i;const a={c:function(){e=_("div"),t=F("$"),o=F(s),i=F("/round"),this.h()},l:function(c){e=g(c,"DIV",{class:!0});var u=w(e);t=G(u,"$"),o=G(u,s),i=G(u,"/round"),u.forEach(v),this.h()},h:function(){f(e,"class","oracle-cost svelte-1p7vh86"),p(e,oe,138,16,4628)},m:function(c,u){Q(c,e,u),r(e,t),r(e,o),r(e,i)},p:function(c,u){u&1&&s!==(s=c[0].oracle.estimatedCostPerRound.toFixed(4)+"")&&ie(o,s)},d:function(c){c&&v(e)}};return q("SvelteRegisterBlock",{block:a,id:oo.name,type:"if",source:"(131:14) {#if draft.oracle.estimatedCostPerRound}",ctx:n}),a}function ao(n){let e,t,s="Configuration",o,i,a=JSON.stringify(n[0].oracle.config,null,2)+"",l;const c={c:function(){e=_("details"),t=_("summary"),t.textContent=s,o=D(),i=_("pre"),l=F(a),this.h()},l:function(d){e=g(d,"DETAILS",{class:!0});var h=w(e);t=g(h,"SUMMARY",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1l9ghmw"&&(t.textContent=s),o=P(h),i=g(h,"PRE",{class:!0});var m=w(i);l=G(m,a),m.forEach(v),h.forEach(v),this.h()},h:function(){f(t,"class","config-toggle svelte-1p7vh86"),p(t,oe,143,16,4900),f(i,"class","config-code svelte-1p7vh86"),p(i,oe,144,16,4971),f(e,"class","oracle-config svelte-1p7vh86"),p(e,oe,142,14,4852)},m:function(d,h){Q(d,e,h),r(e,t),r(e,o),r(e,i),r(i,l)},p:function(d,h){h&1&&a!==(a=JSON.stringify(d[0].oracle.config,null,2)+"")&&ie(l,a)},d:function(d){d&&v(e)}};return q("SvelteRegisterBlock",{block:c,id:ao.name,type:"if",source:"(135:12) {#if draft.oracle.config && Object.keys(draft.oracle.config).length > 0}",ctx:n}),c}function ro(n){let e,t,s,o="Review & Start Session",i,a,l="Review your session configuration before starting the deliberation. Make sure all details are correct.",c,u,d,h,m,b,k,y="",S,C,E="Session Details",I,V,T,R,M="Session Name",z,j,H=(n[0].name||"Untitled Session")+"",N,A,O,L,se="Goal",x,B,Y,J,ee,U,X,ne,ge="",de,W,te,me=n[0].participants.length+"",he,ve,pe,He,Pe,re,Se,ue,Ae,st,ke="",_e,ce,Ce="Oracle",tt,Ye,ht,Ee,be,Fe,xe,kt="",yt,mt,gt="Session Configuration",Ct,ut,Le,ft,qe,Xe="Maximum Rounds:",Oe,Qe,at=n[0].config.maxRounds+"",Wt,Je,ze,_t,rt="Convergence Threshold:",Bt,it,et=(n[0].config.convergenceThreshold*100).toFixed(0)+"",vt,xt,We,fe,Re,Ge="Human Intervention:",ae,nt,Rt=n[0].config.allowHumanIntervention?"Allowed":"Disabled",zt,on,Vt,Dt,Yn="Auto-save Interval:",Gt,Et,gn=n[0].config.autoSaveInterval/1e3+"",wn,Ht,Hn,Qt,At,wt="Timeout:",Ze,En,It=n[0].config.timeoutMinutes+"",Ve,bt,Sn,un,Tn,fn,In,an="",Xn,_n,os="Cost Estimate",ds,Jt,tn,dn,bn,ks="Estimated Total Cost:",Mn,kn,Nn,Zn=n[1].estimated.toFixed(4)+"",as,$n,hn,Pn,rs="Cost per Round:",xn,Dn,pi,ys=n[1].perRound.toFixed(4)+"",Ds,gi,Ln,es,yo="Maximum Possible Cost:",_i,ts,bi,ws=n[1].maximum.toFixed(4)+"",Rs,ki,qn,ns,wo="",yi,cs,So="Estimated cost assumes ~70% of maximum rounds. Actual cost may vary based on convergence.",rn,Lt=n[4]&&no(n),hs=Ke(n[0].participants),en=[];for(let vn=0;vn<hs.length;vn+=1)en[vn]=lo(fa(n,hs,vn));function Co(vn,dt){return vn[0].oracle?Ur:qr}let Vs=Co(n),Rn=Vs(n);const Eo={c:function(){e=_("div"),t=_("div"),s=_("h2"),s.textContent=o,i=D(),a=_("p"),a.textContent=l,c=D(),Lt&&Lt.c(),u=D(),d=_("div"),h=_("section"),m=_("div"),b=_("div"),k=_("span"),k.textContent=y,S=D(),C=_("h3"),C.textContent=E,I=D(),V=_("div"),T=_("div"),R=_("span"),R.textContent=M,z=D(),j=_("span"),N=F(H),A=D(),O=_("div"),L=_("span"),L.textContent=se,x=D(),B=_("div"),Y=new Ps(!1),J=D(),ee=_("section"),U=_("div"),X=_("div"),ne=_("span"),ne.textContent=ge,de=D(),W=_("h3"),te=F("Participants ("),he=F(me),ve=F(")"),pe=D(),He=_("div"),Pe=_("div");for(let dt=0;dt<en.length;dt+=1)en[dt].c();re=D(),Se=_("section"),ue=_("div"),Ae=_("div"),st=_("span"),st.textContent=ke,_e=D(),ce=_("h3"),ce.textContent=Ce,tt=D(),Ye=_("div"),Rn.c(),ht=D(),Ee=_("section"),be=_("div"),Fe=_("div"),xe=_("span"),xe.textContent=kt,yt=D(),mt=_("h3"),mt.textContent=gt,Ct=D(),ut=_("div"),Le=_("div"),ft=_("div"),qe=_("span"),qe.textContent=Xe,Oe=D(),Qe=_("span"),Wt=F(at),Je=D(),ze=_("div"),_t=_("span"),_t.textContent=rt,Bt=D(),it=_("span"),vt=F(et),xt=F("%"),We=D(),fe=_("div"),Re=_("span"),Re.textContent=Ge,ae=D(),nt=_("span"),zt=F(Rt),on=D(),Vt=_("div"),Dt=_("span"),Dt.textContent=Yn,Gt=D(),Et=_("span"),wn=F(gn),Ht=F("s"),Hn=D(),Qt=_("div"),At=_("span"),At.textContent=wt,Ze=D(),En=_("span"),Ve=F(It),bt=F(" minutes"),Sn=D(),un=_("section"),Tn=_("div"),fn=_("div"),In=_("span"),In.textContent=an,Xn=D(),_n=_("h3"),_n.textContent=os,ds=D(),Jt=_("div"),tn=_("div"),dn=_("div"),bn=_("span"),bn.textContent=ks,Mn=D(),kn=_("span"),Nn=F("$"),as=F(Zn),$n=D(),hn=_("div"),Pn=_("span"),Pn.textContent=rs,xn=D(),Dn=_("span"),pi=F("$"),Ds=F(ys),gi=D(),Ln=_("div"),es=_("span"),es.textContent=yo,_i=D(),ts=_("span"),bi=F("$"),Rs=F(ws),ki=D(),qn=_("div"),ns=_("span"),ns.textContent=wo,yi=D(),cs=_("span"),cs.textContent=So,this.h()},l:function(dt){e=g(dt,"DIV",{class:!0,"data-testid":!0});var Pt=w(e);t=g(Pt,"DIV",{class:!0});var jt=w(t);s=g(jt,"H2",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-1l619mw"&&(s.textContent=o),i=P(jt),a=g(jt,"P",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-17zrgv9"&&(a.textContent=l),jt.forEach(v),c=P(Pt),Lt&&Lt.l(Pt),u=P(Pt),d=g(Pt,"DIV",{class:!0});var yn=w(d);h=g(yn,"SECTION",{class:!0});var As=w(h);m=g(As,"DIV",{class:!0});var Io=w(m);b=g(Io,"DIV",{class:!0});var Ts=w(b);k=g(Ts,"SPAN",{class:!0,"data-svelte-h":!0}),Z(k)!=="svelte-bgh96c"&&(k.textContent=y),S=P(Ts),C=g(Ts,"H3",{class:!0,"data-svelte-h":!0}),Z(C)!=="svelte-1buxelo"&&(C.textContent=E),Ts.forEach(v),Io.forEach(v),I=P(As),V=g(As,"DIV",{class:!0});var Ms=w(V);T=g(Ms,"DIV",{class:!0});var Ns=w(T);R=g(Ns,"SPAN",{class:!0,"data-svelte-h":!0}),Z(R)!=="svelte-10ekjxe"&&(R.textContent=M),z=P(Ns),j=g(Ns,"SPAN",{class:!0});var Po=w(j);N=G(Po,H),Po.forEach(v),Ns.forEach(v),A=P(Ms),O=g(Ms,"DIV",{class:!0});var Bs=w(O);L=g(Bs,"SPAN",{class:!0,"data-svelte-h":!0}),Z(L)!=="svelte-9jyqky"&&(L.textContent=se),x=P(Bs),B=g(Bs,"DIV",{class:!0});var Do=w(B);Y=Is(Do,!1),Do.forEach(v),Bs.forEach(v),Ms.forEach(v),As.forEach(v),J=P(yn),ee=g(yn,"SECTION",{class:!0});var zs=w(ee);U=g(zs,"DIV",{class:!0});var Ro=w(U);X=g(Ro,"DIV",{class:!0});var js=w(X);ne=g(js,"SPAN",{class:!0,"data-svelte-h":!0}),Z(ne)!=="svelte-r7jz5u"&&(ne.textContent=ge),de=P(js),W=g(js,"H3",{class:!0});var Os=w(W);te=G(Os,"Participants ("),he=G(Os,me),ve=G(Os,")"),Os.forEach(v),js.forEach(v),Ro.forEach(v),pe=P(zs),He=g(zs,"DIV",{class:!0});var Vo=w(He);Pe=g(Vo,"DIV",{class:!0});var Ao=w(Pe);for(let Di=0;Di<en.length;Di+=1)en[Di].l(Ao);Ao.forEach(v),Vo.forEach(v),zs.forEach(v),re=P(yn),Se=g(yn,"SECTION",{class:!0});var Gs=w(Se);ue=g(Gs,"DIV",{class:!0});var To=w(ue);Ae=g(To,"DIV",{class:!0});var Fs=w(Ae);st=g(Fs,"SPAN",{class:!0,"data-svelte-h":!0}),Z(st)!=="svelte-ydzpb6"&&(st.textContent=ke),_e=P(Fs),ce=g(Fs,"H3",{class:!0,"data-svelte-h":!0}),Z(ce)!=="svelte-180em3i"&&(ce.textContent=Ce),Fs.forEach(v),To.forEach(v),tt=P(Gs),Ye=g(Gs,"DIV",{class:!0});var Mo=w(Ye);Rn.l(Mo),Mo.forEach(v),Gs.forEach(v),ht=P(yn),Ee=g(yn,"SECTION",{class:!0});var Ws=w(Ee);be=g(Ws,"DIV",{class:!0});var No=w(be);Fe=g(No,"DIV",{class:!0});var Hs=w(Fe);xe=g(Hs,"SPAN",{class:!0,"data-svelte-h":!0}),Z(xe)!=="svelte-fv29w4"&&(xe.textContent=kt),yt=P(Hs),mt=g(Hs,"H3",{class:!0,"data-svelte-h":!0}),Z(mt)!=="svelte-9iw9qk"&&(mt.textContent=gt),Hs.forEach(v),No.forEach(v),Ct=P(Ws),ut=g(Ws,"DIV",{class:!0});var Bo=w(ut);Le=g(Bo,"DIV",{class:!0});var Bn=w(Le);ft=g(Bn,"DIV",{class:!0});var Ls=w(ft);qe=g(Ls,"SPAN",{class:!0,"data-svelte-h":!0}),Z(qe)!=="svelte-1hhq7ol"&&(qe.textContent=Xe),Oe=P(Ls),Qe=g(Ls,"SPAN",{class:!0});var zo=w(Qe);Wt=G(zo,at),zo.forEach(v),Ls.forEach(v),Je=P(Bn),ze=g(Bn,"DIV",{class:!0});var qs=w(ze);_t=g(qs,"SPAN",{class:!0,"data-svelte-h":!0}),Z(_t)!=="svelte-1dia9ry"&&(_t.textContent=rt),Bt=P(qs),it=g(qs,"SPAN",{class:!0});var wi=w(it);vt=G(wi,et),xt=G(wi,"%"),wi.forEach(v),qs.forEach(v),We=P(Bn),fe=g(Bn,"DIV",{class:!0});var Us=w(fe);Re=g(Us,"SPAN",{class:!0,"data-svelte-h":!0}),Z(Re)!=="svelte-em46le"&&(Re.textContent=Ge),ae=P(Us),nt=g(Us,"SPAN",{class:!0});var jo=w(nt);zt=G(jo,Rt),jo.forEach(v),Us.forEach(v),on=P(Bn),Vt=g(Bn,"DIV",{class:!0});var Qs=w(Vt);Dt=g(Qs,"SPAN",{class:!0,"data-svelte-h":!0}),Z(Dt)!=="svelte-o2lq18"&&(Dt.textContent=Yn),Gt=P(Qs),Et=g(Qs,"SPAN",{class:!0});var Si=w(Et);wn=G(Si,gn),Ht=G(Si,"s"),Si.forEach(v),Qs.forEach(v),Hn=P(Bn),Qt=g(Bn,"DIV",{class:!0});var Ks=w(Qt);At=g(Ks,"SPAN",{class:!0,"data-svelte-h":!0}),Z(At)!=="svelte-bcsw3b"&&(At.textContent=wt),Ze=P(Ks),En=g(Ks,"SPAN",{class:!0});var Ci=w(En);Ve=G(Ci,It),bt=G(Ci," minutes"),Ci.forEach(v),Ks.forEach(v),Bn.forEach(v),Bo.forEach(v),Ws.forEach(v),Sn=P(yn),un=g(yn,"SECTION",{class:!0});var Js=w(un);Tn=g(Js,"DIV",{class:!0});var Oo=w(Tn);fn=g(Oo,"DIV",{class:!0});var Ys=w(fn);In=g(Ys,"SPAN",{class:!0,"data-svelte-h":!0}),Z(In)!=="svelte-ji9xab"&&(In.textContent=an),Xn=P(Ys),_n=g(Ys,"H3",{class:!0,"data-svelte-h":!0}),Z(_n)!=="svelte-1uhse79"&&(_n.textContent=os),Ys.forEach(v),Oo.forEach(v),ds=P(Js),Jt=g(Js,"DIV",{class:!0});var Xs=w(Jt);tn=g(Xs,"DIV",{class:!0});var vs=w(tn);dn=g(vs,"DIV",{class:!0});var Zs=w(dn);bn=g(Zs,"SPAN",{class:!0,"data-svelte-h":!0}),Z(bn)!=="svelte-1g8ofru"&&(bn.textContent=ks),Mn=P(Zs),kn=g(Zs,"SPAN",{class:!0});var Ei=w(kn);Nn=G(Ei,"$"),as=G(Ei,Zn),Ei.forEach(v),Zs.forEach(v),$n=P(vs),hn=g(vs,"DIV",{class:!0});var $s=w(hn);Pn=g($s,"SPAN",{class:!0,"data-svelte-h":!0}),Z(Pn)!=="svelte-14eqzgn"&&(Pn.textContent=rs),xn=P($s),Dn=g($s,"SPAN",{class:!0});var Ii=w(Dn);pi=G(Ii,"$"),Ds=G(Ii,ys),Ii.forEach(v),$s.forEach(v),gi=P(vs),Ln=g(vs,"DIV",{class:!0});var xs=w(Ln);es=g(xs,"SPAN",{class:!0,"data-svelte-h":!0}),Z(es)!=="svelte-l5zkdr"&&(es.textContent=yo),_i=P(xs),ts=g(xs,"SPAN",{class:!0});var Pi=w(ts);bi=G(Pi,"$"),Rs=G(Pi,ws),Pi.forEach(v),xs.forEach(v),vs.forEach(v),ki=P(Xs),qn=g(Xs,"DIV",{class:!0});var ei=w(qn);ns=g(ei,"SPAN",{class:!0,"data-svelte-h":!0}),Z(ns)!=="svelte-594cx9"&&(ns.textContent=wo),yi=P(ei),cs=g(ei,"SPAN",{"data-svelte-h":!0}),Z(cs)!=="svelte-1d6h0ah"&&(cs.textContent=So),ei.forEach(v),Xs.forEach(v),Js.forEach(v),yn.forEach(v),Pt.forEach(v),this.h()},h:function(){f(s,"class","svelte-1p7vh86"),p(s,oe,35,4,884),f(a,"class","review-description svelte-1p7vh86"),p(a,oe,36,4,920),f(t,"class","review-header svelte-1p7vh86"),p(t,oe,34,2,852),f(k,"class","section-icon svelte-1p7vh86"),p(k,oe,61,10,1665),f(C,"class","svelte-1p7vh86"),p(C,oe,62,10,1712),f(b,"class","section-title svelte-1p7vh86"),p(b,oe,60,8,1627),f(m,"class","section-header svelte-1p7vh86"),p(m,oe,59,6,1590),f(R,"class","detail-label svelte-1p7vh86"),p(R,oe,67,10,1844),f(j,"class","detail-value svelte-1p7vh86"),p(j,oe,68,10,1901),f(T,"class","detail-row svelte-1p7vh86"),p(T,oe,66,8,1809),f(L,"class","detail-label svelte-1p7vh86"),p(L,oe,71,10,2037),Y.a=null,f(B,"class","goal-preview svelte-1p7vh86"),p(B,oe,72,10,2086),f(O,"class","detail-row goal-row svelte-1p7vh86"),p(O,oe,70,8,1993),f(V,"class","section-content svelte-1p7vh86"),p(V,oe,65,6,1771),f(h,"class","review-section svelte-1p7vh86"),p(h,oe,58,4,1551),f(ne,"class","section-icon svelte-1p7vh86"),p(ne,oe,83,10,2347),f(W,"class","svelte-1p7vh86"),p(W,oe,84,10,2394),f(X,"class","section-title svelte-1p7vh86"),p(X,oe,82,8,2309),f(U,"class","section-header svelte-1p7vh86"),p(U,oe,81,6,2272),f(Pe,"class","participant-grid svelte-1p7vh86"),p(Pe,oe,88,8,2518),f(He,"class","section-content svelte-1p7vh86"),p(He,oe,87,6,2480),f(ee,"class","review-section svelte-1p7vh86"),p(ee,oe,80,4,2233),f(st,"class","section-icon svelte-1p7vh86"),p(st,oe,127,10,4199),f(ce,"class","svelte-1p7vh86"),p(ce,oe,128,10,4246),f(Ae,"class","section-title svelte-1p7vh86"),p(Ae,oe,126,8,4161),f(ue,"class","section-header svelte-1p7vh86"),p(ue,oe,125,6,4124),f(Ye,"class","section-content svelte-1p7vh86"),p(Ye,oe,131,6,4296),f(Se,"class","review-section svelte-1p7vh86"),p(Se,oe,124,4,4085),f(xe,"class","section-icon svelte-1p7vh86"),p(xe,oe,158,10,5381),f(mt,"class","svelte-1p7vh86"),p(mt,oe,159,10,5428),f(Fe,"class","section-title svelte-1p7vh86"),p(Fe,oe,157,8,5343),f(be,"class","section-header svelte-1p7vh86"),p(be,oe,156,6,5306),f(qe,"class","config-label svelte-1p7vh86"),p(qe,oe,165,12,5605),f(Qe,"class","config-value svelte-1p7vh86"),p(Qe,oe,166,12,5667),f(ft,"class","config-item svelte-1p7vh86"),p(ft,oe,164,10,5567),f(_t,"class","config-label svelte-1p7vh86"),p(_t,oe,169,12,5791),f(it,"class","config-value svelte-1p7vh86"),p(it,oe,170,12,5860),f(ze,"class","config-item svelte-1p7vh86"),p(ze,oe,168,10,5753),f(Re,"class","config-label svelte-1p7vh86"),p(Re,oe,173,12,6015),f(nt,"class","config-value svelte-1p7vh86"),p(nt,oe,174,12,6081),f(fe,"class","config-item svelte-1p7vh86"),p(fe,oe,172,10,5977),f(Dt,"class","config-label svelte-1p7vh86"),p(Dt,oe,177,12,6243),f(Et,"class","config-value svelte-1p7vh86"),p(Et,oe,178,12,6309),f(Vt,"class","config-item svelte-1p7vh86"),p(Vt,oe,176,10,6205),f(At,"class","config-label svelte-1p7vh86"),p(At,oe,181,12,6448),f(En,"class","config-value svelte-1p7vh86"),p(En,oe,182,12,6503),f(Qt,"class","config-item svelte-1p7vh86"),p(Qt,oe,180,10,6410),f(Le,"class","config-grid svelte-1p7vh86"),p(Le,oe,163,8,5531),f(ut,"class","section-content svelte-1p7vh86"),p(ut,oe,162,6,5493),f(Ee,"class","review-section svelte-1p7vh86"),p(Ee,oe,155,4,5267),f(In,"class","section-icon svelte-1p7vh86"),p(In,oe,192,10,6794),f(_n,"class","svelte-1p7vh86"),p(_n,oe,193,10,6841),f(fn,"class","section-title svelte-1p7vh86"),p(fn,oe,191,8,6756),f(Tn,"class","section-header svelte-1p7vh86"),p(Tn,oe,190,6,6719),f(bn,"class","cost-label svelte-1p7vh86"),p(bn,oe,199,12,7018),f(kn,"class","cost-amount svelte-1p7vh86"),p(kn,oe,200,12,7084),f(dn,"class","cost-row primary svelte-1p7vh86"),p(dn,oe,198,10,6975),f(Pn,"class","cost-label svelte-1p7vh86"),p(Pn,oe,203,12,7216),f(Dn,"class","cost-amount svelte-1p7vh86"),p(Dn,oe,204,12,7276),f(hn,"class","cost-row svelte-1p7vh86"),p(hn,oe,202,10,7181),f(es,"class","cost-label svelte-1p7vh86"),p(es,oe,207,12,7407),f(ts,"class","cost-amount svelte-1p7vh86"),p(ts,oe,208,12,7474),f(Ln,"class","cost-row svelte-1p7vh86"),p(Ln,oe,206,10,7372),f(tn,"class","cost-breakdown svelte-1p7vh86"),p(tn,oe,197,8,6936),f(ns,"class","note-icon svelte-1p7vh86"),p(ns,oe,212,10,7616),p(cs,oe,213,10,7660),f(qn,"class","cost-note svelte-1p7vh86"),p(qn,oe,211,8,7582),f(Jt,"class","section-content svelte-1p7vh86"),p(Jt,oe,196,6,6898),f(un,"class","review-section cost-section svelte-1p7vh86"),p(un,oe,189,4,6667),f(d,"class","review-sections svelte-1p7vh86"),p(d,oe,56,2,1488),f(e,"class","session-review svelte-1p7vh86"),f(e,"data-testid","session-review"),p(e,oe,33,0,792)},m:function(dt,Pt){Q(dt,e,Pt),r(e,t),r(t,s),r(t,i),r(t,a),r(e,c),Lt&&Lt.m(e,null),r(e,u),r(e,d),r(d,h),r(h,m),r(m,b),r(b,k),r(b,S),r(b,C),r(h,I),r(h,V),r(V,T),r(T,R),r(T,z),r(T,j),r(j,N),r(V,A),r(V,O),r(O,L),r(O,x),r(O,B),Y.m(n[5],B),r(d,J),r(d,ee),r(ee,U),r(U,X),r(X,ne),r(X,de),r(X,W),r(W,te),r(W,he),r(W,ve),r(ee,pe),r(ee,He),r(He,Pe);for(let jt=0;jt<en.length;jt+=1)en[jt]&&en[jt].m(Pe,null);r(d,re),r(d,Se),r(Se,ue),r(ue,Ae),r(Ae,st),r(Ae,_e),r(Ae,ce),r(Se,tt),r(Se,Ye),Rn.m(Ye,null),r(d,ht),r(d,Ee),r(Ee,be),r(be,Fe),r(Fe,xe),r(Fe,yt),r(Fe,mt),r(Ee,Ct),r(Ee,ut),r(ut,Le),r(Le,ft),r(ft,qe),r(ft,Oe),r(ft,Qe),r(Qe,Wt),r(Le,Je),r(Le,ze),r(ze,_t),r(ze,Bt),r(ze,it),r(it,vt),r(it,xt),r(Le,We),r(Le,fe),r(fe,Re),r(fe,ae),r(fe,nt),r(nt,zt),r(Le,on),r(Le,Vt),r(Vt,Dt),r(Vt,Gt),r(Vt,Et),r(Et,wn),r(Et,Ht),r(Le,Hn),r(Le,Qt),r(Qt,At),r(Qt,Ze),r(Qt,En),r(En,Ve),r(En,bt),r(d,Sn),r(d,un),r(un,Tn),r(Tn,fn),r(fn,In),r(fn,Xn),r(fn,_n),r(un,ds),r(un,Jt),r(Jt,tn),r(tn,dn),r(dn,bn),r(dn,Mn),r(dn,kn),r(kn,Nn),r(kn,as),r(tn,$n),r(tn,hn),r(hn,Pn),r(hn,xn),r(hn,Dn),r(Dn,pi),r(Dn,Ds),r(tn,gi),r(tn,Ln),r(Ln,es),r(Ln,_i),r(Ln,ts),r(ts,bi),r(ts,Rs),r(Jt,ki),r(Jt,qn),r(qn,ns),r(qn,yi),r(qn,cs),rn=!0},p:function(dt,[Pt]){if(dt[4]?Lt?(Lt.p(dt,Pt),Pt&16&&K(Lt,1)):(Lt=no(dt),Lt.c(),K(Lt,1),Lt.m(e,u)):Lt&&(lt(),$(Lt,1,1,()=>{Lt=null}),ot()),(!rn||Pt&1)&&H!==(H=(dt[0].name||"Untitled Session")+"")&&ie(N,H),(!rn||Pt&32)&&Y.p(dt[5]),(!rn||Pt&1)&&me!==(me=dt[0].participants.length+"")&&ie(he,me),Pt&69){hs=Ke(dt[0].participants);let jt;for(jt=0;jt<hs.length;jt+=1){const yn=fa(dt,hs,jt);en[jt]?en[jt].p(yn,Pt):(en[jt]=lo(yn),en[jt].c(),en[jt].m(Pe,null))}for(;jt<en.length;jt+=1)en[jt].d(1);en.length=hs.length}Vs===(Vs=Co(dt))&&Rn?Rn.p(dt,Pt):(Rn.d(1),Rn=Vs(dt),Rn&&(Rn.c(),Rn.m(Ye,null))),(!rn||Pt&1)&&at!==(at=dt[0].config.maxRounds+"")&&ie(Wt,at),(!rn||Pt&1)&&et!==(et=(dt[0].config.convergenceThreshold*100).toFixed(0)+"")&&ie(vt,et),(!rn||Pt&1)&&Rt!==(Rt=dt[0].config.allowHumanIntervention?"Allowed":"Disabled")&&ie(zt,Rt),(!rn||Pt&1)&&gn!==(gn=dt[0].config.autoSaveInterval/1e3+"")&&ie(wn,gn),(!rn||Pt&1)&&It!==(It=dt[0].config.timeoutMinutes+"")&&ie(Ve,It),(!rn||Pt&2)&&Zn!==(Zn=dt[1].estimated.toFixed(4)+"")&&ie(as,Zn),(!rn||Pt&2)&&ys!==(ys=dt[1].perRound.toFixed(4)+"")&&ie(Ds,ys),(!rn||Pt&2)&&ws!==(ws=dt[1].maximum.toFixed(4)+"")&&ie(Rs,ws)},i:function(dt){rn||(K(Lt),rn=!0)},o:function(dt){$(Lt),rn=!1},d:function(dt){dt&&v(e),Lt&&Lt.d(),cn(en,dt),Rn.d()}};return q("SvelteRegisterBlock",{block:Eo,id:ro.name,type:"component",source:"",ctx:n}),Eo}function Qr(n){if(!n)return{};if(n.startsWith("asset:")){const e=n.slice(6),[t,s]=e.split("|");return{src:t,emoji:s}}return n.startsWith("/")||n.startsWith("http")?{src:n}:{emoji:n}}function qc(n,e,t){let s,o,i,{$$slots:a={},$$scope:l}=e;$t("SessionReview",a,[]);let{draft:c}=e,{costEstimate:u}=e,{errors:d}=e,h=new Set;function m(y){t(2,h=new Set([...h,y]))}n.$$.on_mount.push(function(){c===void 0&&("draft"in e||n.$$.bound[n.$$.props.draft]),u===void 0&&("costEstimate"in e||n.$$.bound[n.$$.props.costEstimate]),d===void 0&&("errors"in e||n.$$.bound[n.$$.props.errors])});const b=["draft","costEstimate","errors"];Lc.keys(e).forEach(y=>{!~b.indexOf(y)&&y.slice(0,2)});const k=y=>m(y.id);return n.$$set=y=>{"draft"in y&&t(0,c=y.draft),"costEstimate"in y&&t(1,u=y.costEstimate),"errors"in y&&t(7,d=y.errors)},n.$capture_state=()=>({marked:Fn,Icon:Ue,draft:c,costEstimate:u,errors:d,brokenAvatarIds:h,parseAvatar:Qr,markAvatarBroken:m,allErrors:i,hasErrors:o,goalHtml:s}),n.$inject_state=y=>{"draft"in y&&t(0,c=y.draft),"costEstimate"in y&&t(1,u=y.costEstimate),"errors"in y&&t(7,d=y.errors),"brokenAvatarIds"in y&&t(2,h=y.brokenAvatarIds),"allErrors"in y&&t(3,i=y.allErrors),"hasErrors"in y&&t(4,o=y.hasErrors),"goalHtml"in y&&t(5,s=y.goalHtml)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&t(5,s=Fn(c.goal||"")),n.$$.dirty&128&&t(4,o=d.size>0),n.$$.dirty&128&&t(3,i=Array.from(d.values()).flat())},[c,u,h,i,o,s,m,d,k]}class Kr extends Xt{constructor(e){super(e),Zt(this,e,qc,ro,Kt,{draft:0,costEstimate:1,errors:7}),q("SvelteRegisterComponent",{component:this,tagName:"SessionReview",options:e,id:ro.name})}get draft(){throw new Error("<SessionReview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set draft(e){throw new Error("<SessionReview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get costEstimate(){throw new Error("<SessionReview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set costEstimate(e){throw new Error("<SessionReview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get errors(){throw new Error("<SessionReview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set errors(e){throw new Error("<SessionReview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const fs="src/lib/components/ui/StepIndicator.svelte";function ha(n,e,t){const s=n.slice();return s[7]=e[t],s[9]=t,s}function co(n){let e;const t={c:function(){e=_("div"),this.h()},l:function(o){e=g(o,"DIV",{class:!0,"aria-hidden":!0}),w(e).forEach(v),this.h()},h:function(){f(e,"class","step-connector svelte-8460z9"),f(e,"aria-hidden","true"),p(e,fs,56,10,1586)},m:function(o,i){Q(o,e,i)},d:function(o){o&&v(e)}};return q("SvelteRegisterBlock",{block:t,id:co.name,type:"if",source:"(46:8) {#if index < steps.length - 1}",ctx:n}),t}function uo(n){let e,t,s,o,i,a,l=n[7].label+"",c,u,d,h,m,b,k,y;o=new Ue({props:{name:n[4](n[7],n[9]),size:18,glow:n[3](n[9])!=="upcoming"},$$inline:!0});function S(){return n[5](n[9])}let C=n[9]<n[0].length-1&&co(n);const E={c:function(){e=_("li"),t=_("button"),s=_("span"),Be(o.$$.fragment),i=D(),a=_("span"),c=F(l),h=D(),C&&C.c(),m=D(),this.h()},l:function(V){e=g(V,"LI",{class:!0});var T=w(e);t=g(T,"BUTTON",{type:!0,class:!0,"aria-current":!0,"data-testid":!0});var R=w(t);s=g(R,"SPAN",{class:!0,"aria-hidden":!0});var M=w(s);Ne(o.$$.fragment,M),M.forEach(v),i=P(R),a=g(R,"SPAN",{class:!0});var z=w(a);c=G(z,l),z.forEach(v),R.forEach(v),h=P(T),C&&C.l(T),m=P(T),T.forEach(v),this.h()},h:function(){f(s,"class","step-icon svelte-8460z9"),f(s,"aria-hidden","true"),p(s,fs,46,10,1242),f(a,"class","step-label svelte-8460z9"),p(a,fs,53,10,1474),f(t,"type","button"),f(t,"class","step-button svelte-8460z9"),t.disabled=u=n[9]>n[1],f(t,"aria-current",d=n[9]===n[1]?"step":!1),f(t,"data-testid","step-"+n[9]),p(t,fs,38,8,968),f(e,"class","step-item svelte-8460z9"),we(e,"completed",n[3](n[9])==="completed"),we(e,"current",n[3](n[9])==="current"),we(e,"upcoming",n[3](n[9])==="upcoming"),p(e,fs,35,6,757)},m:function(V,T){Q(V,e,T),r(e,t),r(t,s),Me(o,s,null),r(t,i),r(t,a),r(a,c),r(e,h),C&&C.m(e,null),r(e,m),b=!0,k||(y=De(t,"click",S,!1,!1,!1,!1),k=!0)},p:function(V,T){n=V;const R={};T&1&&(R.name=n[4](n[7],n[9])),o.$set(R),(!b||T&1)&&l!==(l=n[7].label+"")&&ie(c,l),(!b||T&2&&u!==(u=n[9]>n[1]))&&Gn(t,"disabled",u),(!b||T&2&&d!==(d=n[9]===n[1]?"step":!1))&&f(t,"aria-current",d),n[9]<n[0].length-1?C||(C=co(n),C.c(),C.m(e,m)):C&&(C.d(1),C=null)},i:function(V){b||(K(o.$$.fragment,V),b=!0)},o:function(V){$(o.$$.fragment,V),b=!1},d:function(V){V&&v(e),Te(o),C&&C.d(),k=!1,y()}};return q("SvelteRegisterBlock",{block:E,id:uo.name,type:"each",source:"(25:4) {#each steps as step, index}",ctx:n}),E}function fo(n){let e,t,s,o=Ke(n[0]),i=[];for(let c=0;c<o.length;c+=1)i[c]=uo(ha(n,o,c));const a=c=>$(i[c],1,1,()=>{i[c]=null}),l={c:function(){e=_("nav"),t=_("ol");for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l:function(u){e=g(u,"NAV",{class:!0,"aria-label":!0});var d=w(e);t=g(d,"OL",{class:!0});var h=w(t);for(let m=0;m<i.length;m+=1)i[m].l(h);h.forEach(v),d.forEach(v),this.h()},h:function(){f(t,"class","step-list svelte-8460z9"),p(t,fs,33,2,695),f(e,"class","step-indicator svelte-8460z9"),f(e,"aria-label","Progress through wizard steps"),p(e,fs,32,0,621)},m:function(u,d){Q(u,e,d),r(e,t);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(t,null);s=!0},p:function(u,[d]){if(d&31){o=Ke(u[0]);let h;for(h=0;h<o.length;h+=1){const m=ha(u,o,h);i[h]?(i[h].p(m,d),K(i[h],1)):(i[h]=uo(m),i[h].c(),K(i[h],1),i[h].m(t,null))}for(lt(),h=o.length;h<i.length;h+=1)a(h);ot()}},i:function(u){if(!s){for(let d=0;d<o.length;d+=1)K(i[d]);s=!0}},o:function(u){i=i.filter(Boolean);for(let d=0;d<i.length;d+=1)$(i[d]);s=!1},d:function(u){u&&v(e),cn(i,u)}};return q("SvelteRegisterBlock",{block:l,id:fo.name,type:"component",source:"",ctx:n}),l}function Uc(n,e,t){let{$$slots:s={},$$scope:o}=e;$t("StepIndicator",s,[]);let{steps:i=[]}=e,{currentStep:a=0}=e;const l=Yt();function c(b){b<=a&&l("stepClick",b)}function u(b){return b<a?"completed":b===a?"current":"upcoming"}function d(b,k){return u(k)==="completed"?"check":b.icon}const h=["steps","currentStep"];Object.keys(e).forEach(b=>{!~h.indexOf(b)&&b.slice(0,2)});const m=b=>c(b);return n.$$set=b=>{"steps"in b&&t(0,i=b.steps),"currentStep"in b&&t(1,a=b.currentStep)},n.$capture_state=()=>({createEventDispatcher:Yt,Icon:Ue,steps:i,currentStep:a,dispatch:l,handleStepClick:c,getStepStatus:u,getStepIcon:d}),n.$inject_state=b=>{"steps"in b&&t(0,i=b.steps),"currentStep"in b&&t(1,a=b.currentStep)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[i,a,c,u,d,m]}class Jr extends Xt{constructor(e){super(e),Zt(this,e,Uc,fo,Kt,{steps:0,currentStep:1}),q("SvelteRegisterComponent",{component:this,tagName:"StepIndicator",options:e,id:fo.name})}get steps(){throw new Error("<StepIndicator>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set steps(e){throw new Error("<StepIndicator>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get currentStep(){throw new Error("<StepIndicator>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentStep(e){throw new Error("<StepIndicator>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}async function va(n,e){const t=[],s=[];return(!e||e==="goal")&&((!n.name||n.name.trim().length<3)&&t.push("Session name must be at least 3 characters"),(!n.goal||n.goal.trim().length<10)&&t.push("Goal description must be at least 10 characters"),n.goal&&n.goal.length>5e3&&t.push("Goal description exceeds maximum length of 5000 characters")),(!e||e==="participants")&&(n.participants.length<2&&t.push("At least 2 participants are required"),n.participants.length>10&&s.push("Having more than 10 participants may increase costs significantly"),new Set(n.participants.map(i=>i.id)).size!==n.participants.length&&t.push("Duplicate participants are not allowed")),(!e||e==="oracle"||e==="oracle-config")&&(n.oracle||t.push("An oracle must be selected"),n.oracle&&n.participants.some(o=>o.id===n.oracle?.id)&&s.push("Oracle is also a participant - this may affect deliberation dynamics")),(!e||e==="config"||e==="oracle-config")&&((n.config.maxRounds<1||n.config.maxRounds>20)&&t.push("Maximum rounds must be between 1 and 20"),(n.config.convergenceThreshold<.5||n.config.convergenceThreshold>1)&&t.push("Convergence threshold must be between 0.5 and 1.0"),(n.config.timeoutMinutes<5||n.config.timeoutMinutes>480)&&t.push("Timeout must be between 5 minutes and 8 hours")),{valid:t.length===0,errors:t,warnings:s}}const{console:Qc}=_o,St="src/lib/components/forge/SessionCreationWizard.svelte";function ho(n){let e,t,s,o,i="Working",a;t=new Wn({props:{size:16,color:"var(--tachi-cyan, #4ecdc4)"},$$inline:!0});const l={c:function(){e=_("div"),Be(t.$$.fragment),s=D(),o=_("span"),o.textContent=i,this.h()},l:function(u){e=g(u,"DIV",{class:!0,"aria-label":!0});var d=w(e);Ne(t.$$.fragment,d),s=P(d),o=g(d,"SPAN",{"data-svelte-h":!0}),Z(o)!=="svelte-18ltwvx"&&(o.textContent=i),d.forEach(v),this.h()},h:function(){p(o,St,256,12,6891),f(e,"class","title-loading svelte-qske19"),f(e,"aria-label","Working"),p(e,St,254,10,6761)},m:function(u,d){Q(u,e,d),Me(t,e,null),r(e,s),r(e,o),a=!0},i:function(u){a||(K(t.$$.fragment,u),a=!0)},o:function(u){$(t.$$.fragment,u),a=!1},d:function(u){u&&v(e),Te(t)}};return q("SvelteRegisterBlock",{block:l,id:ho.name,type:"if",source:"(215:8) {#if $sessionLoading}",ctx:n}),l}function vo(n){let e,t,s,o,i,a="Session creation failed",l,c,u=(n[1][0]??n[6])+"",d,h,m,b="Dismiss",k,y,S;t=new Ue({props:{name:"alert-triangle",size:18},$$inline:!0});const C={c:function(){e=_("div"),Be(t.$$.fragment),s=D(),o=_("div"),i=_("div"),i.textContent=a,l=D(),c=_("div"),d=F(u),h=D(),m=_("button"),m.textContent=b,this.h()},l:function(I){e=g(I,"DIV",{class:!0,role:!0,"aria-live":!0});var V=w(e);Ne(t.$$.fragment,V),s=P(V),o=g(V,"DIV",{class:!0});var T=w(o);i=g(T,"DIV",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-e3hino"&&(i.textContent=a),l=P(T),c=g(T,"DIV",{class:!0});var R=w(c);d=G(R,u),R.forEach(v),T.forEach(v),h=P(V),m=g(V,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Z(m)!=="svelte-js2hb5"&&(m.textContent=b),V.forEach(v),this.h()},h:function(){f(i,"class","submit-title svelte-qske19"),p(i,St,272,8,7301),f(c,"class","submit-subtitle svelte-qske19"),p(c,St,273,8,7365),f(o,"class","submit-text svelte-qske19"),p(o,St,271,6,7267),f(m,"type","button"),f(m,"class","btn btn-secondary svelte-qske19"),p(m,St,275,6,7454),f(e,"class","submit-banner svelte-qske19"),f(e,"role","alert"),f(e,"aria-live","polite"),p(e,St,269,4,7154)},m:function(I,V){Q(I,e,V),Me(t,e,null),r(e,s),r(e,o),r(o,i),r(o,l),r(o,c),r(c,d),r(e,h),r(e,m),k=!0,y||(S=De(m,"click",n[27],!1,!1,!1,!1),y=!0)},p:function(I,V){(!k||V[0]&66)&&u!==(u=(I[1][0]??I[6])+"")&&ie(d,u)},i:function(I){k||(K(t.$$.fragment,I),k=!0)},o:function(I){$(t.$$.fragment,I),k=!1},d:function(I){I&&v(e),Te(t),y=!1,S()}};return q("SvelteRegisterBlock",{block:C,id:vo.name,type:"if",source:"(230:2) {#if submitErrors.length > 0 || $sessionError}",ctx:n}),C}function Yr(n){let e,t;e=new Kr({props:{draft:n[2],costEstimate:n[7],errors:n[0]},$$inline:!0});const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},p:function(i,a){const l={};a[0]&4&&(l.draft=i[2]),a[0]&128&&(l.costEstimate=i[7]),a[0]&1&&(l.errors=i[0]),e.$set(l)},i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:Yr.name,type:"if",source:"(267:33) ",ctx:n}),s}function Xr(n){let e,t;e=new Fr({props:{selectedOracle:n[2].oracle,participants:n[2].participants,config:n[2].config,errors:n[0].get("oracle-config")||[]},$$inline:!0}),e.$on("oracleChange",n[31]),e.$on("configChange",n[32]);const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},p:function(i,a){const l={};a[0]&4&&(l.selectedOracle=i[2].oracle),a[0]&4&&(l.participants=i[2].participants),a[0]&4&&(l.config=i[2].config),a[0]&1&&(l.errors=i[0].get("oracle-config")||[]),e.$set(l)},i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:Xr.name,type:"if",source:"(258:33) ",ctx:n}),s}function Zr(n){let e,t;e=new Gr({props:{selected:n[2].participants,errors:n[0].get("participants")||[]},$$inline:!0}),e.$on("change",n[30]);const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},p:function(i,a){const l={};a[0]&4&&(l.selected=i[2].participants),a[0]&1&&(l.errors=i[0].get("participants")||[]),e.$set(l)},i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:Zr.name,type:"if",source:"(252:33) ",ctx:n}),s}function $r(n){let e,t;e=new Vr({props:{value:n[2].goal,name:n[2].name,errors:n[0].get("goal")||[]},$$inline:!0}),e.$on("goalChange",n[28]),e.$on("nameChange",n[29]);const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},p:function(i,a){const l={};a[0]&4&&(l.value=i[2].goal),a[0]&4&&(l.name=i[2].name),a[0]&1&&(l.errors=i[0].get("goal")||[]),e.$set(l)},i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:$r.name,type:"if",source:"(244:4) {#if $currentStep === 0}",ctx:n}),s}function mo(n){let e,t="Previous",s,o;const i={c:function(){e=_("button"),e.textContent=t,this.h()},l:function(l){e=g(l,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1775axv"&&(e.textContent=t),this.h()},h:function(){f(e,"type","button"),f(e,"class","btn btn-secondary svelte-qske19"),p(e,St,340,8,9447)},m:function(l,c){Q(l,e,c),s||(o=De(e,"click",n[18],!1,!1,!1,!1),s=!0)},p:$e,d:function(l){l&&v(e),s=!1,o()}};return q("SvelteRegisterBlock",{block:i,id:mo.name,type:"if",source:"(301:6) {#if $currentStep > 0}",ctx:n}),i}function xr(n){let e,t,s,o;function i(u,d){return u[4]?nc:tc}let a=i(n),l=a(n);const c={c:function(){e=_("button"),l.c(),this.h()},l:function(d){e=g(d,"BUTTON",{type:!0,class:!0});var h=w(e);l.l(h),h.forEach(v),this.h()},h:function(){f(e,"type","button"),f(e,"class","btn btn-success svelte-qske19"),e.disabled=t=!n[8]||n[4],p(e,St,359,8,9852)},m:function(d,h){Q(d,e,h),l.m(e,null),s||(o=De(e,"click",n[21],!1,!1,!1,!1),s=!0)},p:function(d,h){a===(a=i(d))&&l?l.p(d,h):(l.d(1),l=a(d),l&&(l.c(),l.m(e,null))),h[0]&272&&t!==(t=!d[8]||d[4])&&Gn(e,"disabled",t)},d:function(d){d&&v(e),l.d(),s=!1,o()}};return q("SvelteRegisterBlock",{block:c,id:xr.name,type:"else",source:"(320:6) {:else}",ctx:n}),c}function ec(n){let e,t,s,o,i;const a={c:function(){e=_("button"),t=F("Next"),this.h()},l:function(c){e=g(c,"BUTTON",{type:!0,class:!0});var u=w(e);t=G(u,"Next"),u.forEach(v),this.h()},h:function(){f(e,"type","button"),f(e,"class","btn btn-primary svelte-qske19"),e.disabled=s=!n[8],p(e,St,350,8,9657)},m:function(c,u){Q(c,e,u),r(e,t),o||(i=De(e,"click",n[17],!1,!1,!1,!1),o=!0)},p:function(c,u){u[0]&256&&s!==(s=!c[8])&&Gn(e,"disabled",s)},d:function(c){c&&v(e),o=!1,i()}};return q("SvelteRegisterBlock",{block:a,id:ec.name,type:"if",source:"(311:6) {#if $currentStep < steps.length - 1}",ctx:n}),a}function tc(n){let e=n[14]?"Save Changes":"Start Session",t;const s={c:function(){t=F(e)},l:function(i){t=G(i,e)},m:function(i,a){Q(i,t,a)},p:$e,d:function(i){i&&v(t)}};return q("SvelteRegisterBlock",{block:s,id:tc.name,type:"else",source:"(329:10) {:else}",ctx:n}),s}function nc(n){let e=n[14]?"Saving...":"Creating...",t;const s={c:function(){t=F(e)},l:function(i){t=G(i,e)},m:function(i,a){Q(i,t,a)},p:$e,d:function(i){i&&v(t)}};return q("SvelteRegisterBlock",{block:s,id:nc.name,type:"if",source:"(327:10) {#if $isSubmitting}",ctx:n}),s}function sc(n){let e,t,s,o,i,a,l,c,u="SPEC FORGE // 9",d,h,m=n[14]?"Edit Session":"Create Forge Session",b,k,y,S,C,E,I,V,T,R,M,z,j,H,N="Cancel",A,O,L="Save Draft",se,x,B,Y="Estimated Cost:",J,ee,U,X=n[7].estimated.toFixed(4)+"",ne,ge,de,W,te=n[7].maximum.toFixed(4)+"",me,he,ve,pe,He,Pe,re,Se;i=new Ue({props:{name:"brain",size:20,glow:!0},$$inline:!0});let ue=n[5]&&ho(n);C=new Jr({props:{steps:n[9],currentStep:n[3]},$$inline:!0}),C.$on("stepClick",n[26]);let Ae=(n[1].length>0||n[6])&&vo(n);const st=[$r,Zr,Xr,Yr],ke=[];function _e(Ee,be){return Ee[3]===0?0:Ee[3]===1?1:Ee[3]===2?2:Ee[3]===3?3:-1}~(T=_e(n))&&(R=ke[T]=st[T](n));let ce=n[3]>0&&mo(n);function Ce(Ee,be){return Ee[3]<Ee[9].length-1?ec:xr}let tt=Ce(n),Ye=tt(n);const ht={c:function(){e=_("header"),t=_("div"),s=_("div"),o=_("div"),Be(i.$$.fragment),a=D(),l=_("div"),c=_("div"),c.textContent=u,d=D(),h=_("h1"),b=F(m),k=D(),y=_("div"),ue&&ue.c(),S=D(),Be(C.$$.fragment),E=D(),Ae&&Ae.c(),I=D(),V=_("div"),R&&R.c(),M=D(),z=_("footer"),j=_("div"),H=_("button"),H.textContent=N,A=D(),O=_("button"),O.textContent=L,se=D(),x=_("div"),B=_("span"),B.textContent=Y,J=D(),ee=_("span"),U=F("$"),ne=F(X),ge=D(),de=_("span"),W=F("(max: $"),me=F(te),he=F(")"),ve=D(),pe=_("div"),ce&&ce.c(),He=D(),Ye.c(),this.h()},l:function(be){e=g(be,"HEADER",{class:!0});var Fe=w(e);t=g(Fe,"DIV",{class:!0});var xe=w(t);s=g(xe,"DIV",{class:!0});var kt=w(s);o=g(kt,"DIV",{class:!0});var yt=w(o);Ne(i.$$.fragment,yt),yt.forEach(v),a=P(kt),l=g(kt,"DIV",{class:!0});var mt=w(l);c=g(mt,"DIV",{class:!0,"data-svelte-h":!0}),Z(c)!=="svelte-7qnod2"&&(c.textContent=u),d=P(mt),h=g(mt,"H1",{class:!0});var gt=w(h);b=G(gt,m),gt.forEach(v),mt.forEach(v),kt.forEach(v),k=P(xe),y=g(xe,"DIV",{class:!0});var Ct=w(y);ue&&ue.l(Ct),Ct.forEach(v),xe.forEach(v),S=P(Fe),Ne(C.$$.fragment,Fe),Fe.forEach(v),E=P(be),Ae&&Ae.l(be),I=P(be),V=g(be,"DIV",{class:!0});var ut=w(V);R&&R.l(ut),ut.forEach(v),M=P(be),z=g(be,"FOOTER",{class:!0});var Le=w(z);j=g(Le,"DIV",{class:!0});var ft=w(j);H=g(ft,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Z(H)!=="svelte-b0w5wq"&&(H.textContent=N),A=P(ft),O=g(ft,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Z(O)!=="svelte-89zp2t"&&(O.textContent=L),ft.forEach(v),se=P(Le),x=g(Le,"DIV",{class:!0,"aria-live":!0});var qe=w(x);B=g(qe,"SPAN",{class:!0,"data-svelte-h":!0}),Z(B)!=="svelte-1pmwcyk"&&(B.textContent=Y),J=P(qe),ee=g(qe,"SPAN",{class:!0});var Xe=w(ee);U=G(Xe,"$"),ne=G(Xe,X),Xe.forEach(v),ge=P(qe),de=g(qe,"SPAN",{class:!0});var Oe=w(de);W=G(Oe,"(max: $"),me=G(Oe,te),he=G(Oe,")"),Oe.forEach(v),qe.forEach(v),ve=P(Le),pe=g(Le,"DIV",{class:!0});var Qe=w(pe);ce&&ce.l(Qe),He=P(Qe),Ye.l(Qe),Qe.forEach(v),Le.forEach(v),this.h()},h:function(){f(o,"class","title-icon svelte-qske19"),p(o,St,244,8,6409),f(c,"class","title-tag svelte-qske19"),p(c,St,248,10,6539),f(h,"class","svelte-qske19"),p(h,St,249,10,6597),f(l,"class","title-text svelte-qske19"),p(l,St,247,8,6504),f(s,"class","title-left svelte-qske19"),p(s,St,243,6,6376),f(y,"class","title-right"),p(y,St,252,6,6695),f(t,"class","wizard-title svelte-qske19"),p(t,St,242,4,6343),f(e,"class","wizard-header svelte-qske19"),p(e,St,241,2,6308),f(V,"class","wizard-content svelte-qske19"),p(V,St,281,2,7605),f(H,"type","button"),f(H,"class","btn btn-ghost svelte-qske19"),p(H,St,316,6,8822),f(O,"type","button"),f(O,"class","btn btn-secondary svelte-qske19"),p(O,St,323,6,8959),f(j,"class","footer-left svelte-qske19"),p(j,St,315,4,8790),f(B,"class","cost-label svelte-qske19"),p(B,St,333,6,9164),f(ee,"class","cost-value svelte-qske19"),p(ee,St,334,6,9218),f(de,"class","cost-max svelte-qske19"),p(de,St,335,6,9294),f(x,"class","cost-estimate svelte-qske19"),f(x,"aria-live","polite"),p(x,St,332,4,9111),f(pe,"class","footer-right svelte-qske19"),p(pe,St,338,4,9383),f(z,"class","wizard-footer svelte-qske19"),p(z,St,314,2,8755)},m:function(be,Fe){Q(be,e,Fe),r(e,t),r(t,s),r(s,o),Me(i,o,null),r(s,a),r(s,l),r(l,c),r(l,d),r(l,h),r(h,b),r(t,k),r(t,y),ue&&ue.m(y,null),r(e,S),Me(C,e,null),Q(be,E,Fe),Ae&&Ae.m(be,Fe),Q(be,I,Fe),Q(be,V,Fe),~T&&ke[T].m(V,null),Q(be,M,Fe),Q(be,z,Fe),r(z,j),r(j,H),r(j,A),r(j,O),r(z,se),r(z,x),r(x,B),r(x,J),r(x,ee),r(ee,U),r(ee,ne),r(x,ge),r(x,de),r(de,W),r(de,me),r(de,he),r(z,ve),r(z,pe),ce&&ce.m(pe,null),r(pe,He),Ye.m(pe,null),Pe=!0,re||(Se=[De(H,"click",n[22],!1,!1,!1,!1),De(O,"click",n[20],!1,!1,!1,!1)],re=!0)},p:function(be,Fe){be[5]?ue?Fe[0]&32&&K(ue,1):(ue=ho(be),ue.c(),K(ue,1),ue.m(y,null)):ue&&(lt(),$(ue,1,1,()=>{ue=null}),ot());const xe={};Fe[0]&8&&(xe.currentStep=be[3]),C.$set(xe),be[1].length>0||be[6]?Ae?(Ae.p(be,Fe),Fe[0]&66&&K(Ae,1)):(Ae=vo(be),Ae.c(),K(Ae,1),Ae.m(I.parentNode,I)):Ae&&(lt(),$(Ae,1,1,()=>{Ae=null}),ot());let kt=T;T=_e(be),T===kt?~T&&ke[T].p(be,Fe):(R&&(lt(),$(ke[kt],1,1,()=>{ke[kt]=null}),ot()),~T?(R=ke[T],R?R.p(be,Fe):(R=ke[T]=st[T](be),R.c()),K(R,1),R.m(V,null)):R=null),(!Pe||Fe[0]&128)&&X!==(X=be[7].estimated.toFixed(4)+"")&&ie(ne,X),(!Pe||Fe[0]&128)&&te!==(te=be[7].maximum.toFixed(4)+"")&&ie(me,te),be[3]>0?ce?ce.p(be,Fe):(ce=mo(be),ce.c(),ce.m(pe,He)):ce&&(ce.d(1),ce=null),tt===(tt=Ce(be))&&Ye?Ye.p(be,Fe):(Ye.d(1),Ye=tt(be),Ye&&(Ye.c(),Ye.m(pe,null)))},i:function(be){Pe||(K(i.$$.fragment,be),K(ue),K(C.$$.fragment,be),K(Ae),K(R),Pe=!0)},o:function(be){$(i.$$.fragment,be),$(ue),$(C.$$.fragment,be),$(Ae),$(R),Pe=!1},d:function(be){be&&(v(e),v(E),v(I),v(V),v(M),v(z)),Te(i),ue&&ue.d(),Te(C),Ae&&Ae.d(be),~T&&ke[T].d(),ce&&ce.d(),Ye.d(),re=!1,Cn(Se)}};return q("SvelteRegisterBlock",{block:ht,id:sc.name,type:"slot",source:'(195:0) <GlassPanel   as=\\"section\\"   className=\\"session-wizard\\"   accent=\\"cyan\\"   subtle   data-testid=\\"session-creation-wizard\\"   aria-busy={$isSubmitting || $sessionLoading} >',ctx:n}),ht}function po(n){let e,t;e=new bo({props:{as:"section",className:"session-wizard",accent:"cyan",subtle:!0,"data-testid":"session-creation-wizard","aria-busy":n[4]||n[5],$$slots:{default:[sc]},$$scope:{ctx:n}},$$inline:!0});const s={c:function(){Be(e.$$.fragment)},l:function(i){Ne(e.$$.fragment,i)},m:function(i,a){Me(e,i,a),t=!0},p:function(i,a){const l={};a[0]&48&&(l["aria-busy"]=i[4]||i[5]),a[0]&511|a[1]&32&&(l.$$scope={dirty:a,ctx:i}),e.$set(l)},i:function(i){t||(K(e.$$.fragment,i),t=!0)},o:function(i){$(e.$$.fragment,i),t=!1},d:function(i){Te(e,i)}};return q("SvelteRegisterBlock",{block:s,id:po.name,type:"component",source:"",ctx:n}),s}function Kc(n,e,t){let s,o,i,a,l,c,u,d,h;qt(ps,"sessionLoading"),Ut(n,ps,W=>t(5,c=W)),qt(gs,"sessionError"),Ut(n,gs,W=>t(6,u=W));let{$$slots:m={},$$scope:b}=e;$t("SessionCreationWizard",m,[]);let{template:k=null}=e,{editSessionId:y=null}=e;const S=Yt(),C=[{id:"goal",label:"Define Goal",icon:"target"},{id:"participants",label:"Select Participants",icon:"users"},{id:"oracle-config",label:"Oracle & Config",icon:"sliders"},{id:"review",label:"Review & Start",icon:"check"}];let E=sn(0);qt(E,"currentStep"),Ut(n,E,W=>t(3,a=W));let I=sn(M(k,y));qt(I,"sessionDraft"),Ut(n,I,W=>t(2,i=W));let V=sn(new Map);qt(V,"validationErrors"),Ut(n,V,W=>t(0,o=W));let T=sn(!1);qt(T,"isSubmitting"),Ut(n,T,W=>t(4,l=W));let R=y!==null;function M(W,te){if(te){const he=nn(Nt).sessions.find(ve=>ve.id===te);if(he)return{name:he.name,goal:he.goal,participants:[...he.participants],oracle:he.oracle,config:he.config||{maxRounds:5,convergenceThreshold:.8,allowHumanIntervention:!0,autoSaveInterval:3e4,timeoutMinutes:60},metadata:{createdAt:he.createdAt,lastModified:new Date}}}return W?{name:`${W.name} - ${new Date().toLocaleDateString()}`,goal:W.defaultGoal||"",participants:[...W.defaultParticipants],oracle:W.defaultOracle,config:{...W.defaultConfig},metadata:{templateId:W.id,createdAt:new Date,lastModified:new Date}}:{name:"",goal:"",participants:[],oracle:null,config:{maxRounds:5,convergenceThreshold:.8,allowHumanIntervention:!0,autoSaveInterval:3e4,timeoutMinutes:60},metadata:{createdAt:new Date,lastModified:new Date}}}const z=Qn([E,I,V],([W,te,me])=>{const he=C[W].id,ve=me.get(he)||[];switch(he){case"goal":return te.goal.trim().length>=10&&ve.length===0;case"participants":return te.participants.length>=2&&ve.length===0;case"oracle-config":return te.oracle!==null&&ve.length===0;case"review":return me.size===0;default:return!1}});qt(z,"canProceed"),Ut(n,z,W=>t(8,h=W));const j=Qn(I,W=>{const te=W.participants.reduce((pe,He)=>pe+(He.estimatedCostPerRound||0),0),me=W.oracle?.estimatedCostPerRound||0,he=te+me,ve=he*(W.config.maxRounds||5);return{perRound:he,estimated:ve*.7,maximum:ve}});qt(j,"costEstimate"),Ut(n,j,W=>t(7,d=W));async function H(W){const te=C[W].id,me=await va(i,te);return V.update(he=>(me.errors.length>0?he.set(te,me.errors):he.delete(te),he)),me.valid}async function N(){await H(a)&&a<C.length-1&&E.update(te=>te+1)}function A(){a>0&&E.update(W=>W-1)}function O(W){W<=a&&E.set(W)}async function L(){try{const W=await Nt.saveDraft(i);S("saved",{draftId:W})}catch{}}async function se(){T.set(!0);try{for(let te=0;te<C.length;te++)if(!await H(te)){E.set(te),T.set(!1);return}let W;R&&y?W=await Nt.updateSession(y,i):W=await Nt.createSession(i),S("created",{sessionId:W})}catch(W){V.update(te=>(te.set("submit",[W.message]),te))}finally{T.set(!1)}}function x(){S("cancelled")}function B(W,te){I.update(me=>({...me,[W]:te,metadata:{...me.metadata,lastModified:new Date}}))}const Y=["template","editSessionId"];Object.keys(e).forEach(W=>{!~Y.indexOf(W)&&W.slice(0,2)!=="$$"&&W!=="slot"&&Qc.warn(`<SessionCreationWizard> was created with unknown prop '${W}'`)});const J=W=>O(W.detail),ee=()=>Nt.clearError(),U=W=>B("goal",W.detail),X=W=>B("name",W.detail),ne=W=>B("participants",W.detail),ge=W=>B("oracle",W.detail),de=W=>B("config",W.detail);return n.$$set=W=>{"template"in W&&t(24,k=W.template),"editSessionId"in W&&t(25,y=W.editSessionId)},n.$capture_state=()=>({createEventDispatcher:Yt,writable:sn,derived:Qn,get:nn,Icon:Ue,GoalInput:Vr,ParticipantSelect:Gr,OracleConfigPanel:Fr,SessionReview:Kr,StepIndicator:Jr,forgeSessionStore:Nt,sessionLoading:ps,sessionError:gs,Spinner:Wn,GlassPanel:bo,validateSessionConfig:va,template:k,editSessionId:y,dispatch:S,steps:C,currentStep:E,sessionDraft:I,validationErrors:V,isSubmitting:T,isEditMode:R,initializeDraft:M,canProceed:z,costEstimate:j,validateStep:H,nextStep:N,prevStep:A,goToStep:O,saveDraft:L,createSession:se,handleCancel:x,updateDraft:B,submitErrors:s,$validationErrors:o,$sessionDraft:i,$currentStep:a,$isSubmitting:l,$sessionLoading:c,$sessionError:u,$costEstimate:d,$canProceed:h}),n.$inject_state=W=>{"template"in W&&t(24,k=W.template),"editSessionId"in W&&t(25,y=W.editSessionId),"currentStep"in W&&t(10,E=W.currentStep),"sessionDraft"in W&&t(11,I=W.sessionDraft),"validationErrors"in W&&t(12,V=W.validationErrors),"isSubmitting"in W&&t(13,T=W.isSubmitting),"isEditMode"in W&&t(14,R=W.isEditMode),"submitErrors"in W&&t(1,s=W.submitErrors)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty[0]&1&&t(1,s=o.get("submit")||[])},[o,s,i,a,l,c,u,d,h,C,E,I,V,T,R,z,j,N,A,O,L,se,x,B,k,y,J,ee,U,X,ne,ge,de]}class eu extends Xt{constructor(e){super(e),Zt(this,e,Kc,po,Kt,{template:24,editSessionId:25},null,[-1,-1]),q("SvelteRegisterComponent",{component:this,tagName:"SessionCreationWizard",options:e,id:po.name})}get template(){throw new Error("<SessionCreationWizard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set template(e){throw new Error("<SessionCreationWizard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editSessionId(){throw new Error("<SessionCreationWizard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editSessionId(e){throw new Error("<SessionCreationWizard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{xc as F,bo as G,Ue as I,eu as S,ps as a,Vi as b,ms as c,Ia as d,Wn as e,Nt as f,$c as g,gs as s};
