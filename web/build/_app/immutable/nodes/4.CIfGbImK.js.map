{"version":3,"file":"4.CIfGbImK.js","sources":["../../../../../../src/routes/forge/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import PageHeader from \"$lib/components/common/PageHeader.svelte\";\n  import Icon from \"$lib/components/common/Icon.svelte\";\n  import Spinner from \"$lib/components/ui/Spinner/Spinner.svelte\";\n  import GlassPanel from \"$lib/components/ui/GlassPanel.svelte\";\n  import ForgeLayout from \"$lib/components/forge/ForgeLayout.svelte\";\n  import SessionSidebar from \"$lib/components/forge/SessionSidebar.svelte\";\n  import SessionCreationWizard from \"$lib/components/forge/SessionCreationWizard.svelte\";\n  import {\n    forgeSessionStore,\n    activeSession,\n    sessions,\n    sessionLoading,\n    sessionError,\n  } from \"$lib/stores/forgeSession\";\n  import { onMount } from \"svelte\";\n\n  let showingWizard = false;\n  let editingSessionId: string | null = null;\n  let sacMode = false;\n\n  // AI Participants for the Think Tank visualization\n  // These map to the actual configured backends from tachikoma-forge crate\n  // Roles: Architect (drafts), Analyst (critiques), Synthesizer (merges), Arbiter (resolves conflicts)\n  const aiModels = [\n    {\n      id: \"claude\",\n      name: \"CLAUDE\",\n      role: \"ARCHITECT\",\n      color: \"#cc785c\",\n      tachiIcon: \"/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Red.32.png\",\n      provider: \"Anthropic\",\n    },\n    {\n      id: \"gpt4\",\n      name: \"GPT-4\",\n      role: \"ANALYST\",\n      color: \"#74aa9c\",\n      tachiIcon: \"/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Gray.32.png\",\n      provider: \"OpenAI\",\n    },\n    {\n      id: \"gemini\",\n      name: \"GEMINI\",\n      role: \"SYNTHESIZER\",\n      color: \"#8b5cf6\",\n      tachiIcon:\n        \"/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Purple.32.png\",\n      provider: \"Google\",\n    },\n    {\n      id: \"ollama\",\n      name: \"OLLAMA\",\n      role: \"LOCAL\",\n      color: \"#4ecdc4\",\n      tachiIcon:\n        \"/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Yellow.32.png\",\n      provider: \"Local\",\n    },\n  ];\n\n  onMount(async () => {\n    // Global toggle used across the UI\n    const storedSac = localStorage.getItem(\"tachikoma:sacMode\");\n    const legacy = localStorage.getItem(\"tachikoma:forgeLoreMode\");\n    if (storedSac === null && legacy !== null) {\n      localStorage.setItem(\"tachikoma:sacMode\", legacy);\n    }\n    sacMode = localStorage.getItem(\"tachikoma:sacMode\") === \"true\";\n    await forgeSessionStore.loadSessions();\n  });\n\n  function handleStartNewSession() {\n    forgeSessionStore.clearActiveSession();\n    editingSessionId = null;\n    showingWizard = true;\n  }\n\n  function handleEditSession(event: CustomEvent<{ sessionId: string }>) {\n    editingSessionId = event.detail.sessionId;\n    showingWizard = true;\n  }\n\n  function handleSessionCreated(event: CustomEvent<{ sessionId: string }>) {\n    forgeSessionStore.setActiveSession(event.detail.sessionId);\n    showingWizard = false;\n    editingSessionId = null;\n  }\n\n  function handleWizardCancelled() {\n    showingWizard = false;\n    editingSessionId = null;\n    // If we were editing, re-activate the session\n    if (editingSessionId) {\n      forgeSessionStore.setActiveSession(editingSessionId);\n    }\n  }\n\n  function toggleSacMode() {\n    sacMode = !sacMode;\n    localStorage.setItem(\"tachikoma:sacMode\", String(sacMode));\n  }\n</script>\n\n<div class=\"forge-page\">\n  <div\n    class=\"polyglass-backdrop\"\n    class:enabled={sacMode}\n    aria-hidden=\"true\"\n  ></div>\n  <div class=\"manga-banner\" aria-hidden=\"true\"></div>\n\n  <PageHeader\n    title=\"THINK TANK\"\n    subtitle=\"Multi-model deliberation engine for spec creation and refinement\"\n    tag=\"SPEC FORGE\"\n    iconSrc=\"/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Blue.32.png\"\n    iconSize={48}\n  >\n    <svelte:fragment slot=\"actions\">\n      <button\n        class=\"btn-secondary\"\n        type=\"button\"\n        on:click={toggleSacMode}\n        aria-pressed={sacMode}\n      >\n        <Icon name={sacMode ? \"check-circle\" : \"help-circle\"} size={16} />\n        <span>S.A.C. MODE</span>\n      </button>\n\n      {#if !showingWizard && !$activeSession}\n        <button class=\"btn-primary\" on:click={handleStartNewSession}>\n          <Icon name=\"zap\" size={16} />\n          <span>NEW SESSION</span>\n        </button>\n      {/if}\n    </svelte:fragment>\n  </PageHeader>\n\n  {#if $sessionError}\n    <GlassPanel accent=\"red\" className=\"error-panel\">\n      <div class=\"error-content\" role=\"alert\">\n        <div class=\"error-left\">\n          <Icon name=\"alert-triangle\" size={18} glow />\n          <div class=\"error-text\">\n            <div class=\"error-title\">Forge systems report an anomaly</div>\n            <div class=\"error-subtitle\">{$sessionError}</div>\n          </div>\n        </div>\n        <div class=\"error-actions\">\n          <button\n            class=\"btn-secondary\"\n            type=\"button\"\n            on:click={() => forgeSessionStore.clearError()}\n          >\n            Dismiss\n          </button>\n          <button\n            class=\"btn-primary\"\n            type=\"button\"\n            on:click={() => forgeSessionStore.loadSessions()}\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    </GlassPanel>\n  {/if}\n\n  {#if showingWizard}\n    <SessionCreationWizard\n      editSessionId={editingSessionId}\n      on:created={handleSessionCreated}\n      on:cancelled={handleWizardCancelled}\n    />\n  {:else if $activeSession}\n    <ForgeLayout\n      sessionId={$activeSession.id}\n      on:newSession={handleStartNewSession}\n      on:editSession={handleEditSession}\n    />\n  {:else}\n    <!-- Think Tank Welcome Screen -->\n    <div class=\"think-tank-welcome\">\n      {#if $sessionLoading}\n        <div class=\"loading-row\" aria-live=\"polite\">\n          <Spinner size={18} color=\"var(--tachi-cyan, #4ecdc4)\" />\n          <span>Synchronizing sessions…</span>\n        </div>\n      {/if}\n\n      <!-- AI Council Visualization -->\n      <GlassPanel className=\"council-section\" accent=\"cyan\">\n        <div class=\"council-ring\">\n          <div class=\"ring-glow\"></div>\n          <div class=\"ring-track\"></div>\n\n          {#each aiModels as model, i}\n            <div\n              class=\"council-node\"\n              style=\"\n                --node-color: {model.color};\n                --angle: {(360 / aiModels.length) * i}deg;\n                --delay: {-i * 3.25}s;\n              \"\n            >\n              <div class=\"node-avatar\">\n                <img\n                  src={model.tachiIcon}\n                  alt={model.name}\n                  class=\"tachi-model-icon\"\n                />\n              </div>\n              <div class=\"node-info\">\n                <span class=\"node-name\">{model.name}</span>\n                <span class=\"node-role\">{model.role}</span>\n              </div>\n              <div class=\"node-pulse\"></div>\n            </div>\n          {/each}\n\n          <div class=\"council-center\">\n            <div class=\"center-icon\">\n              <img\n                src=\"/icons/Iconfactory-Ghost-In-The-Shell-Fuchikoma-Blue.32.png\"\n                alt=\"Tachikoma\"\n                class=\"center-tachi-icon\"\n              />\n            </div>\n            <div class=\"center-label\">FORGE</div>\n          </div>\n\n          <!-- Connection Lines -->\n          <svg class=\"connection-lines\" viewBox=\"0 0 400 400\">\n            <defs>\n              <linearGradient\n                id=\"lineGradient\"\n                x1=\"0%\"\n                y1=\"0%\"\n                x2=\"100%\"\n                y2=\"0%\"\n              >\n                <stop offset=\"0%\" style=\"stop-color: rgba(78, 205, 196, 0.1)\" />\n                <stop\n                  offset=\"50%\"\n                  style=\"stop-color: rgba(78, 205, 196, 0.4)\"\n                />\n                <stop\n                  offset=\"100%\"\n                  style=\"stop-color: rgba(78, 205, 196, 0.1)\"\n                />\n              </linearGradient>\n            </defs>\n            {#each aiModels as _, i}\n              {@const angle1 = (360 / aiModels.length) * i}\n              {@const angle2 =\n                (360 / aiModels.length) * ((i + 1) % aiModels.length)}\n              {@const r = 140}\n              {@const x1 = 200 + r * Math.cos(((angle1 - 90) * Math.PI) / 180)}\n              {@const y1 = 200 + r * Math.sin(((angle1 - 90) * Math.PI) / 180)}\n              {@const x2 = 200 + r * Math.cos(((angle2 - 90) * Math.PI) / 180)}\n              {@const y2 = 200 + r * Math.sin(((angle2 - 90) * Math.PI) / 180)}\n              <line\n                {x1}\n                {y1}\n                {x2}\n                {y2}\n                stroke=\"url(#lineGradient)\"\n                stroke-width=\"1\"\n                class=\"connection-line\"\n                style=\"animation-delay: {i * 0.5}s\"\n              />\n              <!-- Connection to center -->\n              <line\n                {x1}\n                {y1}\n                x2=\"200\"\n                y2=\"200\"\n                stroke=\"rgba(78, 205, 196, 0.15)\"\n                stroke-width=\"1\"\n                stroke-dasharray=\"4 4\"\n              />\n            {/each}\n          </svg>\n        </div>\n\n        <div class=\"council-description\">\n          <h2 class=\"description-title\">MULTI-MODEL DELIBERATION</h2>\n          <p class=\"description-text\">\n            The Think Tank (Spec Forge) orchestrates multiple AI backends\n            through structured brainstorming rounds. Models draft specs,\n            critique proposals, and synthesize improvements until convergence is\n            reached.\n          </p>\n          {#if sacMode}\n            <p class=\"lore-line\">\n              S.A.C. protocol engaged — independent agents, shared objective,\n              emergent consensus.\n            </p>\n          {/if}\n          <div class=\"forge-rounds\">\n            <div class=\"round-step\">\n              <span class=\"round-num\">1</span> Initial Draft\n            </div>\n            <div class=\"round-arrow\">→</div>\n            <div class=\"round-step\">\n              <span class=\"round-num\">2</span> Critique Round\n            </div>\n            <div class=\"round-arrow\">→</div>\n            <div class=\"round-step\">\n              <span class=\"round-num\">3</span> Synthesis\n            </div>\n            <div class=\"round-arrow\">→</div>\n            <div class=\"round-step final\">\n              <span class=\"round-num\">✓</span> Convergence\n            </div>\n          </div>\n        </div>\n      </GlassPanel>\n\n      <!-- Features Grid -->\n      <div class=\"features-grid\">\n        <GlassPanel className=\"feature-card\" accent=\"red\" subtle>\n          <div class=\"feature-icon\" style=\"--accent: #cc785c\">\n            <Icon name=\"file-plus\" size={24} />\n          </div>\n          <h3 class=\"feature-title\">SPEC DRAFTING</h3>\n          <p class=\"feature-desc\">\n            Generate comprehensive specifications from high-level goals with\n            multi-model consensus.\n          </p>\n        </GlassPanel>\n\n        <GlassPanel className=\"feature-card\" accent=\"green\" subtle>\n          <div class=\"feature-icon\" style=\"--accent: #74aa9c\">\n            <Icon name=\"activity\" size={24} />\n          </div>\n          <h3 class=\"feature-title\">CRITIQUE ROUNDS</h3>\n          <p class=\"feature-desc\">\n            Each model reviews and critiques proposals, identifying gaps and\n            suggesting improvements.\n          </p>\n        </GlassPanel>\n\n        <GlassPanel className=\"feature-card\" accent=\"purple\" subtle>\n          <div class=\"feature-icon\" style=\"--accent: #8b5cf6\">\n            <Icon name=\"refresh-cw\" size={24} />\n          </div>\n          <h3 class=\"feature-title\">ITERATIVE REFINEMENT</h3>\n          <p class=\"feature-desc\">\n            Recursive improvement loops until convergence is reached and the\n            spec meets quality thresholds.\n          </p>\n        </GlassPanel>\n\n        <GlassPanel className=\"feature-card\" accent=\"cyan\" subtle>\n          <div class=\"feature-icon\" style=\"--accent: #4ecdc4\">\n            <Icon name=\"check-circle\" size={24} />\n          </div>\n          <h3 class=\"feature-title\">CONFLICT RESOLUTION</h3>\n          <p class=\"feature-desc\">\n            The Oracle model mediates disagreements and makes final decisions\n            with transparent rationale.\n          </p>\n        </GlassPanel>\n      </div>\n\n      <!-- Start Session CTA -->\n      <div class=\"cta-section\">\n        <button class=\"start-session-btn\" on:click={handleStartNewSession}>\n          <div class=\"btn-bg\"></div>\n          <div class=\"btn-content\">\n            <Icon name=\"zap\" size={24} />\n            <span class=\"btn-text\">INITIATE THINK TANK SESSION</span>\n          </div>\n          <div class=\"btn-glow\"></div>\n        </button>\n\n        <p class=\"cta-hint\">\n          Start with a goal description, select AI participants, and let the\n          Think Tank craft your specification.\n        </p>\n      </div>\n\n      <!-- Past Sessions -->\n      {#if $sessions.length > 0}\n        <GlassPanel\n          className=\"past-sessions\"\n          subtle\n          accent=\"cyan\"\n          padded={false}\n        >\n          <div class=\"sessions-header\">\n            <Icon name=\"clock\" size={18} />\n            <span>PREVIOUS SESSIONS</span>\n            <span class=\"session-count\">{$sessions.length}</span>\n          </div>\n          <div class=\"sessions-body\">\n            <SessionSidebar sessionId={null} />\n          </div>\n        </GlassPanel>\n      {/if}\n    </div>\n  {/if}\n</div>\n\n<style>\n  .forge-page {\n    max-width: 1200px;\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    min-height: calc(100vh - 200px);\n    position: relative;\n  }\n\n  .polyglass-backdrop {\n    position: absolute;\n    inset: -60px -40px -40px -40px;\n    pointer-events: none;\n    opacity: 0.7;\n    filter: blur(0.2px);\n    z-index: 0;\n  }\n\n  .polyglass-backdrop::before,\n  .polyglass-backdrop::after {\n    content: \"\";\n    position: absolute;\n    inset: 0;\n    background:\n      radial-gradient(\n        circle at 15% 20%,\n        rgba(78, 205, 196, 0.25),\n        transparent 45%\n      ),\n      radial-gradient(\n        circle at 80% 30%,\n        rgba(139, 92, 246, 0.12),\n        transparent 40%\n      ),\n      radial-gradient(\n        circle at 65% 75%,\n        rgba(255, 107, 107, 0.1),\n        transparent 45%\n      );\n    opacity: 0.7;\n  }\n\n  .polyglass-backdrop::after {\n    opacity: 0;\n    background:\n      linear-gradient(\n        115deg,\n        transparent 20%,\n        rgba(78, 205, 196, 0.12) 45%,\n        transparent 70%\n      ),\n      linear-gradient(160deg, rgba(255, 255, 255, 0.03), transparent);\n    clip-path: polygon(10% 0, 70% 8%, 100% 55%, 62% 100%, 0 70%);\n    transition: opacity 0.25s ease;\n  }\n\n  .polyglass-backdrop.enabled::after {\n    opacity: 0.9;\n  }\n\n  /* Manga Panel Banner - Ghost in the Shell philosophical quote */\n  .manga-banner {\n    position: absolute;\n    top: -10px;\n    right: 0;\n    width: 600px;\n    height: 170px;\n    background-image: url(\"/icons/C3-3.jpg\");\n    background-size: contain;\n    background-position: right center;\n    background-repeat: no-repeat;\n    opacity: 0.35;\n    mix-blend-mode: screen;\n    mask-image: linear-gradient(\n      to left,\n      rgba(0, 0, 0, 1) 0%,\n      rgba(0, 0, 0, 0.8) 50%,\n      rgba(0, 0, 0, 0.3) 80%,\n      transparent 100%\n    );\n    -webkit-mask-image: linear-gradient(\n      to left,\n      rgba(0, 0, 0, 1) 0%,\n      rgba(0, 0, 0, 0.8) 50%,\n      rgba(0, 0, 0, 0.3) 80%,\n      transparent 100%\n    );\n    pointer-events: none;\n    z-index: 0;\n  }\n\n  /* Responsive adjustments */\n  @media (max-width: 900px) {\n    .manga-banner {\n      width: 400px;\n      height: 110px;\n    }\n  }\n\n  @media (max-width: 600px) {\n    .manga-banner {\n      width: 300px;\n      height: 90px;\n    }\n  }\n\n  /* Keep content above backdrop */\n  :global(.forge-page > *) {\n    position: relative;\n    z-index: 1;\n  }\n\n  .loading-row {\n    display: inline-flex;\n    align-items: center;\n    gap: 0.6rem;\n    padding: 0.65rem 0.9rem;\n    border-radius: 999px;\n    background: rgba(13, 17, 23, 0.45);\n    border: 1px solid rgba(78, 205, 196, 0.14);\n    color: rgba(230, 237, 243, 0.75);\n    font-size: 0.9rem;\n    margin: 0 auto;\n  }\n\n  .error-panel {\n    margin-bottom: 1.25rem;\n  }\n\n  .error-content {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: 1rem;\n  }\n\n  .error-left {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n  }\n\n  .error-text {\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n  }\n\n  .error-title {\n    font-family: var(--font-display, \"Orbitron\", sans-serif);\n    letter-spacing: 1px;\n    text-transform: uppercase;\n    font-size: 0.8rem;\n    color: rgba(230, 237, 243, 0.9);\n  }\n\n  .error-subtitle {\n    color: rgba(230, 237, 243, 0.65);\n    font-size: 0.9rem;\n  }\n\n  .error-actions {\n    display: flex;\n    align-items: center;\n    gap: 0.6rem;\n  }\n\n  /* Think Tank Welcome */\n  .think-tank-welcome {\n    display: flex;\n    flex-direction: column;\n    gap: 3rem;\n  }\n\n  /* Council Visualization */\n  .council-section {\n    display: flex;\n    align-items: center;\n    gap: 3rem;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .council-section::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(\n      90deg,\n      transparent,\n      var(--tachi-cyan, #4ecdc4) 30%,\n      var(--tachi-cyan, #4ecdc4) 70%,\n      transparent\n    );\n  }\n\n  .council-ring {\n    position: relative;\n    width: 400px;\n    height: 400px;\n    flex-shrink: 0;\n  }\n\n  .ring-glow {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 320px;\n    height: 320px;\n    background: radial-gradient(\n      circle,\n      rgba(78, 205, 196, 0.1) 0%,\n      transparent 70%\n    );\n    border-radius: 50%;\n    animation: ringPulse 4s ease-in-out infinite;\n  }\n\n  @keyframes ringPulse {\n    0%,\n    100% {\n      opacity: 0.5;\n      transform: translate(-50%, -50%) scale(1);\n    }\n    50% {\n      opacity: 1;\n      transform: translate(-50%, -50%) scale(1.05);\n    }\n  }\n\n  .ring-track {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 280px;\n    height: 280px;\n    border: 1px solid rgba(78, 205, 196, 0.2);\n    border-radius: 50%;\n  }\n\n  .council-node {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: rotate(var(--angle)) translateY(-140px)\n      rotate(calc(-1 * var(--angle)));\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 0.5rem;\n\n    /* Orbit to reduce static overlaps (e.g. Gemini over the header) */\n    animation: councilOrbit 22s linear infinite;\n    animation-delay: var(--delay, 0s);\n    will-change: transform;\n  }\n\n  @keyframes councilOrbit {\n    from {\n      transform: rotate(var(--angle)) translateY(-140px)\n        rotate(calc(-1 * var(--angle)));\n    }\n    to {\n      transform: rotate(calc(var(--angle) + 360deg)) translateY(-140px)\n        rotate(calc(-1 * (var(--angle) + 360deg)));\n    }\n  }\n\n  .node-avatar {\n    width: 56px;\n    height: 56px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: linear-gradient(\n      135deg,\n      rgba(0, 0, 0, 0.8),\n      var(--bg-tertiary, #1c2128)\n    );\n    border: 2px solid var(--node-color);\n    border-radius: 50%;\n    color: var(--node-color);\n    box-shadow: 0 0 20px color-mix(in srgb, var(--node-color) 40%, transparent);\n    transition: all 0.3s ease;\n  }\n\n  .tachi-model-icon {\n    width: 36px;\n    height: 36px;\n    object-fit: contain;\n    filter: drop-shadow(0 0 4px var(--node-color));\n  }\n\n  .council-node:hover .tachi-model-icon {\n    filter: drop-shadow(0 0 8px var(--node-color))\n      drop-shadow(0 0 4px var(--node-color));\n  }\n\n  .council-node:hover .node-avatar {\n    transform: scale(1.1);\n    box-shadow: 0 0 30px color-mix(in srgb, var(--node-color) 60%, transparent);\n  }\n\n  .node-info {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 0;\n  }\n\n  .node-name {\n    font-family: var(--font-display, \"Orbitron\", sans-serif);\n    font-size: 0.7rem;\n    font-weight: 700;\n    color: var(--node-color);\n    letter-spacing: 1px;\n  }\n\n  .node-role {\n    font-size: 0.6rem;\n    color: var(--text-muted, rgba(230, 237, 243, 0.5));\n    letter-spacing: 0.5px;\n  }\n\n  .node-pulse {\n    position: absolute;\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 56px;\n    height: 56px;\n    border: 1px solid var(--node-color);\n    border-radius: 50%;\n    animation: nodePulse 2s ease-out infinite;\n    animation-delay: calc(var(--angle) / 360 * 2s);\n  }\n\n  @keyframes nodePulse {\n    0% {\n      opacity: 0.6;\n      transform: translateX(-50%) scale(1);\n    }\n    100% {\n      opacity: 0;\n      transform: translateX(-50%) scale(1.5);\n    }\n  }\n\n  .council-center {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .center-icon {\n    width: 72px;\n    height: 72px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: linear-gradient(\n      135deg,\n      var(--bg-tertiary, #1c2128),\n      var(--bg-primary, #0d1117)\n    );\n    border: 2px solid var(--tachi-cyan, #4ecdc4);\n    border-radius: 50%;\n    color: var(--tachi-cyan, #4ecdc4);\n    box-shadow:\n      0 0 30px rgba(78, 205, 196, 0.4),\n      inset 0 0 20px rgba(78, 205, 196, 0.1);\n    animation: centerGlow 3s ease-in-out infinite;\n  }\n\n  .center-tachi-icon {\n    width: 48px;\n    height: 48px;\n    object-fit: contain;\n    filter: drop-shadow(0 0 8px var(--tachi-cyan, #4ecdc4));\n    animation: tachiGlow 3s ease-in-out infinite;\n  }\n\n  @keyframes tachiGlow {\n    0%,\n    100% {\n      filter: drop-shadow(0 0 8px var(--tachi-cyan, #4ecdc4));\n    }\n    50% {\n      filter: drop-shadow(0 0 14px var(--tachi-cyan, #4ecdc4))\n        drop-shadow(0 0 4px var(--tachi-cyan, #4ecdc4));\n    }\n  }\n\n  @keyframes centerGlow {\n    0%,\n    100% {\n      box-shadow:\n        0 0 30px rgba(78, 205, 196, 0.4),\n        inset 0 0 20px rgba(78, 205, 196, 0.1);\n    }\n    50% {\n      box-shadow:\n        0 0 50px rgba(78, 205, 196, 0.6),\n        inset 0 0 30px rgba(78, 205, 196, 0.2);\n    }\n  }\n\n  .center-label {\n    font-family: var(--font-display, \"Orbitron\", sans-serif);\n    font-size: 0.7rem;\n    font-weight: 700;\n    color: var(--tachi-cyan, #4ecdc4);\n    letter-spacing: 2px;\n    text-shadow: 0 0 10px var(--tachi-cyan, #4ecdc4);\n  }\n\n  .connection-lines {\n    position: absolute;\n    inset: 0;\n    pointer-events: none;\n  }\n\n  .connection-line {\n    animation: lineFlow 2s ease-in-out infinite;\n  }\n\n  @keyframes lineFlow {\n    0%,\n    100% {\n      opacity: 0.3;\n    }\n    50% {\n      opacity: 0.8;\n    }\n  }\n\n  .council-description {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .description-title {\n    font-family: var(--font-display, \"Orbitron\", sans-serif);\n    font-size: 1.5rem;\n    font-weight: 700;\n    color: var(--text-primary, #e6edf3);\n    letter-spacing: 2px;\n    margin: 0;\n    text-shadow: 0 0 20px var(--tachi-cyan-glow, rgba(78, 205, 196, 0.3));\n  }\n\n  .description-text {\n    font-size: 1.05rem;\n    color: var(--text-secondary, rgba(230, 237, 243, 0.7));\n    line-height: 1.7;\n    margin: 0;\n  }\n\n  .lore-line {\n    margin: 0.25rem 0 0;\n    padding-left: 0.75rem;\n    border-left: 2px solid rgba(78, 205, 196, 0.4);\n    color: rgba(230, 237, 243, 0.6);\n    font-style: italic;\n  }\n\n  .forge-rounds {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    margin-top: 1.5rem;\n    flex-wrap: wrap;\n  }\n\n  .round-step {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.5rem 0.75rem;\n    background: var(--bg-tertiary, #1c2128);\n    border: 1px solid var(--border-color, rgba(78, 205, 196, 0.2));\n    border-radius: 6px;\n    font-family: var(--font-display, \"Orbitron\", sans-serif);\n    font-size: 0.7rem;\n    font-weight: 500;\n    color: var(--text-secondary, rgba(230, 237, 243, 0.7));\n    letter-spacing: 0.5px;\n  }\n\n  .round-step.final {\n    border-color: var(--success-color, #3fb950);\n    color: var(--success-color, #3fb950);\n  }\n\n  .round-num {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    width: 20px;\n    height: 20px;\n    background: rgba(78, 205, 196, 0.2);\n    border-radius: 50%;\n    font-size: 0.65rem;\n    color: var(--tachi-cyan, #4ecdc4);\n  }\n\n  .round-step.final .round-num {\n    background: rgba(63, 185, 80, 0.2);\n    color: var(--success-color, #3fb950);\n  }\n\n  .round-arrow {\n    color: var(--text-muted, rgba(230, 237, 243, 0.3));\n    font-size: 0.8rem;\n  }\n\n  /* Features Grid */\n  .features-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: 1rem;\n  }\n\n  .feature-card {\n    transition: all 0.3s ease;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .feature-card::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 2px;\n    background: linear-gradient(90deg, var(--accent, #4ecdc4), transparent);\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n\n  .feature-card:hover {\n    border-color: var(--tachi-cyan, #4ecdc4);\n    transform: translateY(-2px);\n  }\n\n  .feature-card:hover::before {\n    opacity: 1;\n  }\n\n  .feature-icon {\n    width: 48px;\n    height: 48px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: linear-gradient(\n      135deg,\n      color-mix(in srgb, var(--accent) 20%, transparent),\n      transparent\n    );\n    border: 1px solid color-mix(in srgb, var(--accent) 40%, transparent);\n    border-radius: 10px;\n    color: var(--accent);\n    margin-bottom: 1rem;\n  }\n\n  .feature-title {\n    font-family: var(--font-display, \"Orbitron\", sans-serif);\n    font-size: 0.8rem;\n    font-weight: 600;\n    color: var(--text-primary, #e6edf3);\n    letter-spacing: 1px;\n    margin: 0 0 0.5rem;\n  }\n\n  .feature-desc {\n    font-size: 0.9rem;\n    color: var(--text-muted, rgba(230, 237, 243, 0.6));\n    line-height: 1.5;\n    margin: 0;\n  }\n\n  /* CTA Section */\n  .cta-section {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 1rem;\n    padding: 2rem;\n  }\n\n  .start-session-btn {\n    position: relative;\n    padding: 1.25rem 3rem;\n    background: transparent;\n    border: 2px solid var(--tachi-cyan, #4ecdc4);\n    border-radius: 12px;\n    cursor: pointer;\n    overflow: hidden;\n    transition: all 0.3s ease;\n  }\n\n  .start-session-btn .btn-bg {\n    position: absolute;\n    inset: 0;\n    background: linear-gradient(\n      135deg,\n      var(--tachi-cyan-dark, #2d7a7a),\n      var(--tachi-cyan, #4ecdc4)\n    );\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n\n  .start-session-btn:hover .btn-bg {\n    opacity: 1;\n  }\n\n  .start-session-btn .btn-content {\n    position: relative;\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    color: var(--tachi-cyan, #4ecdc4);\n    transition: color 0.3s ease;\n  }\n\n  .start-session-btn:hover .btn-content {\n    color: var(--bg-primary, #0d1117);\n  }\n\n  .start-session-btn .btn-text {\n    font-family: var(--font-display, \"Orbitron\", sans-serif);\n    font-size: 0.9rem;\n    font-weight: 700;\n    letter-spacing: 1.5px;\n  }\n\n  .start-session-btn .btn-glow {\n    position: absolute;\n    inset: -2px;\n    border-radius: 14px;\n    background: transparent;\n    box-shadow: 0 0 20px rgba(78, 205, 196, 0.3);\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n\n  .start-session-btn:hover .btn-glow {\n    opacity: 1;\n    animation: btnGlowPulse 1.5s ease-in-out infinite;\n  }\n\n  @keyframes btnGlowPulse {\n    0%,\n    100% {\n      box-shadow: 0 0 20px rgba(78, 205, 196, 0.3);\n    }\n    50% {\n      box-shadow: 0 0 40px rgba(78, 205, 196, 0.5);\n    }\n  }\n\n  .cta-hint {\n    font-size: 0.9rem;\n    color: var(--text-muted, rgba(230, 237, 243, 0.5));\n    text-align: center;\n    max-width: 500px;\n    margin: 0;\n  }\n\n  /* Past Sessions */\n  .past-sessions {\n    overflow: hidden;\n  }\n\n  .sessions-body {\n    padding: 1rem 1rem 1.25rem;\n  }\n\n  .sessions-header {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    padding: 1rem 1.25rem;\n    background: linear-gradient(90deg, rgba(78, 205, 196, 0.08), transparent);\n    border-bottom: 1px solid var(--border-color, rgba(78, 205, 196, 0.1));\n    color: var(--tachi-cyan, #4ecdc4);\n    font-family: var(--font-display, \"Orbitron\", sans-serif);\n    font-size: 0.75rem;\n    font-weight: 600;\n    letter-spacing: 1.5px;\n  }\n\n  .session-count {\n    margin-left: auto;\n    padding: 0.25rem 0.5rem;\n    background: rgba(78, 205, 196, 0.15);\n    border-radius: 4px;\n    font-size: 0.7rem;\n  }\n\n  /* Responsive */\n  @media (max-width: 900px) {\n    .council-section {\n      flex-direction: column;\n    }\n\n    .council-ring {\n      width: 320px;\n      height: 320px;\n    }\n\n    .council-node {\n      transform: rotate(var(--angle)) translateY(-110px)\n        rotate(calc(-1 * var(--angle)));\n    }\n\n    .ring-track {\n      width: 220px;\n      height: 220px;\n    }\n  }\n\n  /* Respect reduced motion: stop orbit + avoid loading visual noise */\n  @media (prefers-reduced-motion: reduce) {\n    .council-node {\n      animation: none;\n    }\n  }\n</style>\n"],"names":["constants_0","child_ctx","constants_3","constants_4","constants_5","constants_6","insert_hydration_dev","target","button","anchor","append_hydration_dev","span","ctx","if_block","create_if_block_6","div5","div3","div2","div0","div1","div4","button0","button1","create_if_block_4","create_if_block_2","p","dirty","forgelayout_changes","div","t1_value","t3_value","src_url_equal","img","img_src_value","attr_dev","set_style","span0","span1","line0","line1","i","create_if_block_3","svg","defs","linearGradient","stop0","stop1","stop2","div14","h2","div13","div6","div7","div8","div9","div10","span2","div11","div12","span3","h3","current","set_data_dev","t3","create_if_block_5","showingWizard","editingSessionId","sacMode","aiModels","onMount","storedSac","legacy","forgeSessionStore","handleStartNewSession","handleEditSession","event","$$invalidate","handleSessionCreated","handleWizardCancelled","toggleSacMode","click_handler","click_handler_1"],"mappings":"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"}